<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security" 
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" 
    layout:decorator="layout/front/subLayout" >
<body>
	<div layout:fragment="content">
		<!-- content -->
		<th:block th:if="${not #lists.isEmpty(banner)}">
			<div class="sub-banner-swiper">
				<div class="swiper ">
					<div class="swiper-wrapper">		
						<th:block th:each="item : ${banner}">
							<div class="swiper-slide">
								<th:block th:if="${not #strings.isEmpty(item.url)}">
									<a th:href="${item.url}">
										<div class="thumb" style="height:260px;"><img th:src="${'/downloadFileByFileid.do?fileid=' + item.bannerFileid + '&file_idntfc_key=' + item.fileIdntfcKey}" th:alt="${item.bannerTtl}" onerror="this.src='/images/front/bg/bg-noimage.png'; this.style.objectFit='none';"></div>
									</a>
								</th:block>
								<th:block th:unless="${not #strings.isEmpty(item.url)}">
									<!-- <a th:href=""> -->
										<div class="thumb" style="height:260px;"><img th:src="${'/downloadFileByFileid.do?fileid=' + item.bannerFileid + '&file_idntfc_key=' + item.fileIdntfcKey}" th:alt="${item.bannerTtl}" onerror="this.src='/images/front/bg/bg-noimage.png'; this.style.objectFit='none';"></div>
									<!-- </a> -->
								</th:block>
							</div>
						</th:block>
					</div>
					<button type="button" class="swiper-button-next"></button>
					<button type="button" class="swiper-button-prev"></button>
					<div class="swiper-control">
						<div class="swiper-pagination"></div>
						<button type="button" class="swiper-button-play" title="자동재생 시작"></button>
						<button type="button" class="swiper-button-stop" title="자동재생 멈춤"></button>
					</div>
				</div>
			</div>
		</th:block>

		<div class="tab-content tab-sub dropDown">
			<button type="button" class="tab-mobile-trigger trigger" aria-haspopup="listbox" aria-expanded="true">이달의 환경교육</button>
			<ul class="tab-list target" role="tablist">
				<li class="tab active">
					<button aria-controls="tab-subpanel01" id="tab-sub01" role="tab">이달의 환경교육</button>
				</li>
				<li class="tab">
					<button aria-controls="tab-subpanel02" id="tab-sub02" role="tab">대한민국 환경교육 프로그램</button>
				</li>
			</ul>
			<div id="tab-subpanel01" class="tabpanel" role="tabpanel" aria-labelledby="tab-sub01">

				<form class="search-filter" id="enveduSearchForm" name="enveduSearchForm">
					<div class="form-input mo-flex-wrap">
						<strong class="label">지난호 보기</strong>
						<div class="form-input">
							<select title="지난호 보기 년 선택" name="enveduSearchYr" id="enveduSearchYr">
								<th:block th:each="item : ${enveduYr}">
									<option th:value="${item.yr}"><th:block th:text="${item.yr}"></th:block>년</option>
								</th:block>
							</select>
							<select title="지난호 보기 월 선택" name="enveduSearchMm" id="enveduSearchMm">
								<th:block th:each="item : ${enveduMm}">
									<option th:value="${item.mm}"><th:block th:text="${item.mm}"></th:block>월</option>
								</th:block>
							</select>
						</div>
						<div class="search-filter-submit">
							<button type="button" class="btn-medium btn-green btn-before-search" onclick="envedu.search()">검색</button>
							<button type="button" class="btn-medium btn-gray btn-before-refresh" onclick="envedu.searchInit()">초기화</button>
						</div>
					</div>
					<input type="hidden" id="compareDate" name="compareDate">
					<input type="hidden" id="beforeMonth" name="beforeMonth">
					<input type="hidden" id="nextMonth" name="nextMonth">
				</form>

				<div class="table-caption">
					<div class="left">
						<h3 class="sub-title" id="enveduNowDate"></h3>
					</div>
					<div class="right">
						<button type="button" class="btn-small btn-kakao" data-layer-href="layer-popup07">월간 웹진 구독신청</button>
					</div>
				</div>

				<div class="card-section" id="envedu-card-list">
					<ul class="n4" id="envedu-list-area">
					</ul>
				</div>

				<div class="btn-wrap">
					<div class="center">
						<button type="button" id="beforeBtn" class="btn-medium btn-gray btn-before-prev" onclick="beforeList('edu')">이전호</button>
						<button type="button" id="nextBtn" class="btn-medium btn-blue btn-after-next" onclick="nextList('edu')">다음호</button>
					</div>
				</div>


			</div>
			<div id="tab-subpanel02" class="tabpanel" role="tabpanel" aria-labelledby="tab-sub02">
				
				<form class="search-filter" id="prgrmgdSearchForm" name="prgrmgdSearchForm">
					<div class="form-input mo-flex-wrap">
						<strong class="label">지난호 보기</strong>
						<div class="form-input">
							<select title="지난호 보기 년 선택" name="prgrmgdSearchYr" id="prgrmgdSearchYr">
								<th:block th:each="item : ${prgrmgdYr}">
									<option th:value="${item.yr}"><th:block th:text="${item.yr}"></th:block>년</option>
								</th:block>
							</select>
							<select title="지난호 보기 월 선택" name="prgrmgdSearchMm" id="prgrmgdSearchMm">
								<th:block th:if="${not #strings.isEmpty(prgrmgdMm)}" th:each="item : ${prgrmgdMm}">
									<option th:value="${item.mm}"><th:block th:text="${item.mm}"></th:block>월</option>
								</th:block>
							</select>
						</div>
						<div class="search-filter-submit">
							<button type="button" class="btn-medium btn-green btn-before-search" onclick="prgrmgd.search()">검색</button>
							<button type="button" class="btn-medium btn-gray btn-before-refresh" onclick="prgrmgd.searchInit()">초기화</button>
						</div>
					</div>
					<input type="hidden" id="prgrmgd-compareDate" name="compareDate">
					<input type="hidden" id="prgrmgd-beforeMonth" name="beforeMonth">
					<input type="hidden" id="prgrmgd-nextMonth" name="nextMonth">
				</form>

				<div class="table-caption">
					<div class="left">
						<h3 class="sub-title" id="prgrmgdNowDate">11월 환경교육 프로그램</h3>
					</div>
					<div class="right">
						<button type="button" class="btn-small btn-kakao" data-layer-href="layer-popup07">월간 웹진 구독신청</button>
					</div>
				</div>

				<div class="card-section" id="prgrmgd-card-list">
					<ul class="n3" id="prgrmgd-list-area">
					</ul>
				</div>

				<div class="btn-wrap">
					<div class="center">
						<button type="button" id="prgrm-beforeBtn" class="btn-medium btn-gray btn-before-prev" onclick="beforeList('prgrm')">이전호</button>
						<button type="button" id="prgrm-nextBtn" class="btn-medium btn-blue btn-after-next" onclick="nextList('prgrm')">다음호</button>
					</div>
				</div>

			</div>
		</div>
		<!-- //content -->
		
		<!-- layerpopup -->
		<div class="layer-popup layer-large" data-layer-id="layer-popup07">
			<div class="layer-dimmed" title="레이어팝업 닫기"></div>
			<div class="layer-wrap">
				<div class="layer-header">
					<strong class="tit">월간웹진 구독신청</strong>
					<button type="button" class="btn-layer-close" title="레이어팝업 닫기" data-layer-close></button>
				</div>
				<div class="layer-content">
					<div class="thumb-info">
						<span class="icon icon-kakao-channel"></span>
						<dl>
							<dt>환경교육포털과 친구 맺는 방법</dt>
							<dd>2021년 9월부터 환경교육포털 ‘카카오톡 채널’을 통해 웹진 안내 서비스를 제공합니다. <br>  월간 이벤트 및 웹진 발간 소식을 알고 싶다면 <br> 카카오톡에서 ‘환경교육포털’을 검색하고 채널 추가 해보세요!</dd>
						</dl>
					</div>
					<div class="steps-list mt30">
						<ul>
							<li>
								<span class="icon icon-kakao-step01"></span>
								<dl>
									<dt><span>Step1.</span></dt>
									<dd>카카오톡 실행하기</dd>
								</dl>
							</li>
							<li>
								<span class="icon icon-kakao-step02"></span>
								<dl>
									<dt><span>Step2.</span></dt>
									<dd>‘환경교육포털’ 검색하기</dd>
								</dl>
							</li>
							<li>
								<span class="icon icon-kakao-step03"></span>
								<dl>
									<dt><span>Step3.</span></dt>
									<dd>채널 추가 버튼 누르기</dd>
								</dl>
							</li>
						</ul>
					</div>
					<div class="qrcode mt20">
						<div class="thumb"><a href="http://pf.kakao.com/_xjDbQK?from=qr" class="d-flex" title="새 창"><img src="/images/front/qrcode/qrcode-kakao.png" alt="http://pf.kakao.com/_xjDbQK?from=qr"></a></div>
						<p>QR코드로 한번에 채널추가</p>
					</div>
				</div>
				<div class="layer-footer">
					<div class="btn-wrap">
						<div class="center">
							<a href="https://pf.kakao.com/_xjDbQK" target="_blank" class="btn-medium btn-green">채널추가 바로가기</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- //layerpopup -->
		
		<script th:inline="javascript">
		var isTrue = true;
		
		var envedu = {
			listUrl: '/front/wbzn/now/selectEnveduList.do',
			detailUrl : '/front/wbzn/now/enveduDetailForm.html',
			
			init(rowPerPage) {
				if(rowPerPage != null) {
					$("#rowPerPage").val(parseInt(rowPerPage));
					$('#pageNumber').val('1');
				}
				this.selectEnveduList();
			},
			
			moveToDetail() {
				if (this.userid == null) {
					alert('로그인 후 이용하실 수 있습니다.');
					return;
				}
				location.href = '/front/wbzn/now/enveduDetailForm.html';
			},
			
			search() {
				if($("#enveduSearchYr").val() == "" && $("#enveduSearchMm").val() != "") {
					alert("년도를 선택해 주십시오.");
					return false;
				}
				
				$('#pageNumber').val('1');
				
				if($("#enveduSearchYr").val() != "" && $("#enveduSearchMm").val() != "") {
					transformMonth("search", "envedu");
					$("#compareDate").val($("#enveduSearchYr").val() + "-" + $("#enveduSearchMm").val() + "-" + date);
				}
				
				if(month != "") {
					$("#enveduNowDate").text(year + "년 " + month + "월호 환경교육");
				}else {
					$("#enveduNowDate").text("환경교육 프로그램");
				}
				
				isTrue = true;
				$("#nextBtn").attr("disabled", false);
				$("#beforeBtn").attr("disabled", false);
				
				this.selectEnveduList();
			},
			
			searchInit() {
				year = now.getFullYear();
				month = now.getMonth() + 1;
				
				$("#enveduSearchYr").val(year);
				$("#enveduSearchMm").val(String(month).padStart(2, '0'));				
				
				transformMonth();
				$("#beforeMonth").val("");
				$("#nextMonth").val("");
				$("#compareDate").val("");
				if(month != "") {
					$("#enveduNowDate").text(year + "년 " + month + "월호 환경교육");
				}else {
					$("#enveduNowDate").text("환경교육");
				}
			},
			
			selectEnveduList(type) {
				if (displayWorkProgress(true)) {
					let formData = $('#enveduSearchForm').serializeArray();
					
					$.ajax({
						url: envedu.listUrl,
						cache: false,
						dataType: 'json',
						data: formData,
						type: 'GET',
						success: function (result) {
							if(result.list.length != 0){
								$('#envedu-card-list').removeClass();
								$('#envedu-card-list').addClass('card-section');
							}
							
							if(result.totalCount == 0 && type != "" && type != undefined) {
								if(isTrue) {
									if(type == "next") {
										alert("등록된 다음호가 없습니다.")
										beforeList("edu");
										isTrue = false;
										$("#nextBtn").attr("disabled", true);
									}else {
										alert("등록된 이전호가 없습니다.")
										nextList("edu");
										isTrue = false;
										$("#beforeBtn").attr("disabled", true);
									}
								}
							}else if(result.totalCount != 0 && type != "" && type != undefined) {
								if(type == "next") {
									$("#nextBtn").attr("disabled", false);
									isTrue = true;
								}else {
									$("#beforeBtn").attr("disabled", false);
									isTrue = true;
								}
							}
							
							var data = escapeData(result);
							envedu.makeListHtml(data);
							closeWorkProgress();
						}
					});
				}
			},
			
			moveToDetail(enveduid) {
				var f = document.forms.searchForm ;
				f.enveduid.value=enveduid;
				f.action = this.detailUrl;
				f.submit();
			},
			
			makeListHtml(data) {
				var enveduListHtml = "";
				
				if (data.list == null || data.list.length <= 0) {
					$('#compareDate').val(year+"-"+month+"-"+date)
					
					$('#envedu-card-list').removeClass();
					$('#envedu-card-list').addClass('nodata');
					
					enveduListHtml += `
					<p><span class="icon icon-notice bg-black9"></span>등록된 환경교육이 없습니다.</p>
					`;
				} else {
					data.list.forEach(function(item) {
						var enveduSe = item.enveduSeCdNm;
						var enveduSeTag = "";
						
						switch(enveduSe) {
							case "현장" :
								enveduSeTag = `<div class="tag tag-green">${item.enveduSeCdNm}</div>`;
							break;
							
							case "환경시사" :
								enveduSeTag = `<div class="tag tag-blue">${item.enveduSeCdNm}</div>`;
							break;

							case "전문자료" :
								enveduSeTag = `<div class="tag tag-brown">${item.enveduSeCdNm}</div>`;
							break;

							case "교육자료" :
								enveduSeTag = `<div class="tag tag-red">${item.enveduSeCdNm}</div>`;
							break;

							case "환경문화" :
								enveduSeTag = `<div class="tag tag-purple">${item.enveduSeCdNm}</div>`;
							break;

							case "환경소식" :
								enveduSeTag = `<div class="tag tag-olive">${item.enveduSeCdNm}</div>`;
							break;

							case "행사정보":
								enveduSeTag = `<div class="tag tag-purple">${item.enveduSeCdNm}</div>`;
							break;

							case "채용공모":
								enveduSeTag = `<div class="tag tag-green">${item.enveduSeCdNm}</div>`;
							break;
                        }
						
						datailTag = "";
						if(item.url == null || item.url == "") {
							datailTag = `<a href="/front/wbzn/now/enveduDetailForm.html?enveduid=${item.enveduid}" class="title ellipsis" data-ellipsis="2">${item.ttl}</a>`;
						}else {
							datailTag = `<a href="${item.url}" target="_blank" class="title ellipsis" data-ellipsis="2">${item.ttl}</a>`;
						}
						
						enveduListHtml += `
						<li>
							<div class="thumb">
								<img src="/downloadFileByFileid.do?fileid=${item.thmbnFileid}&file_idntfc_key=${item.fileIdntfcKey}" alt="" onerror="this.src='/images/front/bg/bg-noimage.png'; this.style.objectFit='none';">
								${enveduSeTag}
							</div>
							<div class="cont mt0">
								${datailTag}
							</div>
						</li>
						`;
					});
				}
				$('#envedu-list-area').html(enveduListHtml);
			}
		};
        	
		var prgrmgd = {
			listUrl: '/front/wbzn/now/selectPrgrmgdList.do',
			detailUrl : '/front/wbzn/now/prgrmgdDetailForm.html',
			
			init(rowPerPage) {
				if(rowPerPage != null) {
					$("#rowPerPage").val(parseInt(rowPerPage));
					$('#pageNumber').val('1');
				}
				this.selectPrgrmgdList();
			},
			
			moveToDetail() {
				if (this.userid == null) {
					alert('로그인 후 이용하실 수 있습니다.');
					return;
				}
				location.href = '/front/wbzn/now/prgrmgdDetailForm.html';
			},
			
			search() {
				if($("#prgrmgdSearchYr").val() == "" && $("#prgrmgdSearchMm").val() != "") {
					alert("년도를 선택해 주십시오.");
					return false;
				}
				
				$('#pageNumber').val('1');
				
				if($("#prgrmgdSearchYr").val() != "" && $("#prgrmgdSearchMm").val() != "") {
 					transformMonth("search", "prgrmgd");
					$("#prgrmgd-compareDate").val($("#prgrmgdSearchYr").val() + "-" + $("#prgrmgdSearchMm").val() + "-" + date);
				}
				
				if(month != "") {
					$("#prgrmgdNowDate").text(year + "년 " + month + "월호 환경교육 프로그램");
				}else {
					$("#prgrmgdNowDate").text("환경교육 프로그램");
				}
				
				isTrue = true;
				$("#nextBtn").attr("disabled", false);
				$("#beforeBtn").attr("disabled", false);
				
				this.selectPrgrmgdList();
			},
			
			searchInit() {
				year = now.getFullYear();
				month = now.getMonth() + 1;
				
				$("#prgrmgdSearchYr").val(year);
				$("#prgrmgdSearchMm").val(String(month).padStart(2, '0'));						
				
				transformMonth();
				$("#prgrmgd-beforeMonth").val("");
				$("#prgrmgd-nextMonth").val("");
				$("#prgrmgd-compareDate").val("");
				if(month != "") {
					$("#prgrmgdNowDate").text(year + "년 " + month + "월호 환경교육 프로그램");
				}else {
					$("#prgrmgdNowDate").text("환경교육 프로그램");
				}
			},
			
			selectPrgrmgdList(type) {
				if (displayWorkProgress(true)) {
					let formData = $('#prgrmgdSearchForm').serializeArray();
					
					$.ajax({
						url: prgrmgd.listUrl,
						cache: false,
						dataType: 'json',
						data: formData,
						type: 'GET',
						success: function (result) {
							if(result.list.length != 0){
								$('#prgrmgd-card-list').removeClass();
								$('#prgrmgd-card-list').addClass('card-section');
							}
							
							if(result.totalCount == 0 && type != "" && type != undefined) {
								if(isTrue) {
									if(type == "next") {
										alert("등록된 다음호가 없습니다.")
										beforeList("prgrm");
										isTrue = false;
										$("#prgrm-nextBtn").attr("disabled", true);
									}else {
										alert("등록된 이전호가 없습니다.")
										nextList("prgrm");
										isTrue = false;
										$("#prgrm-beforeBtn").attr("disabled", true);
									}
								}
							}else if(result.totalCount != 0 && type != "" && type != undefined) {
								if(type == "next") {
									$("#prgrm-nextBtn").attr("disabled", false);
									isTrue = true;
								}else {
									$("#prgrm-beforeBtn").attr("disabled", false);
									isTrue = true;
								}
							}
							
							var data = escapeData(result);
							prgrmgd.makeListHtml(data);
							closeWorkProgress();
						}
					});
				}
			},
			
			moveToDetail(prgrmgdid) {
				var f = document.forms.searchForm ;
				f.prgrmgdid.value=prgrmgdid;
				f.action = this.detailUrl;
				f.submit();
			},
			
			makeListHtml(data) {
				var prgrmgdListHtml = "";
				if (data.list == null || data.list.length <= 0) {
					$('#compareDate').val(year+"-"+month+"-"+date)
					
					$('#prgrmgd-card-list').removeClass();
					$('#prgrmgd-card-list').addClass('nodata');
					
					prgrmgdListHtml += `
					<p><span class="icon icon-notice bg-black9"></span>등록된 환경교육 프로그램이 없습니다.</p>
					`;
				} else {
					data.list.forEach(function(item) {
						var rgnCdNm = item.rgnCdNm;
						var rgnCdTag = "";
						
						switch(rgnCdNm) {
                            case "서울":
                            	rgnCdTag = `<span class="tag tag-green">${rgnCdNm}</span>`;
                            break;
                            
                            case "경기/인천":
                            	rgnCdTag = `<span class="tag tag-blue">${rgnCdNm}</span>`;
                            break;       
                                   
                            case "강원/제주":       
                            	rgnCdTag = `<span class="tag tag-brown">${rgnCdNm}</span>`;
                            break;
                                   
                            case "호남권":       
                            	rgnCdTag = `<span class="tag tag-red">${rgnCdNm}</span>`;
                            break;
                                   
                            case "충청권":       
                            	rgnCdTag = `<span class="tag tag-purple">${rgnCdNm}</span>`;
                            break;
                                  
                            case "영남권":       
                            	rgnCdTag = `<span class="tag tag-olive">${rgnCdNm}</span>`;
                            break;
	                    }
						
						datailTag = "";
						if(item.url == null || item.url == "") {
							datailTag = `<a href="/front/wbzn/now/prgrmgdDetailForm.html?prgrmid=${item.prgrmid}" class="title ellipsis" data-ellipsis="2">${item.ttl}</a>`;
						}else {
							datailTag = `<a href="${item.url}" target="_blank" class="title ellipsis" data-ellipsis="2">${item.ttl}</a>`;
						}
						
						prgrmgdListHtml += `
						<li>
							<div class="thumb">
								<img src="/downloadFileByFileid.do?fileid=${item.thmbnFileid}&file_idntfc_key=${item.fileIdntfcKey}" alt="" onerror="this.src='/images/front/bg/bg-noimage.png'; this.style.objectFit='none';">
								${rgnCdTag}
							</div>
							<div class="cont mt0">
								${datailTag}
								<ul class="df">
									<li class="d-flex">
										<span class="tit">진행일정 : </span>
										<span class="dc">${item.schdl}</span>
									</li>
								</ul>
								<div class="fs-14 fc-black6">${item.cnSumry}</div>

							</div>
						</li>
						`;						
						
					});
				}
				$('#prgrmgd-list-area').html(prgrmgdListHtml);
			}
		};
		
		var now = new Date();
		var year = now.getFullYear();
		var month = now.getMonth() + 1;
		var date = now.getDate();
		
		function transformMonth(type, tab) {
			if(type == "before"){
				if (month === 1) {
				  year--;
				  month = 12;
				} else {
				  month--;
				}
				return month;
			}else if(type == "next"){
				if(month === 12){
					year++;
					month = 1;
				}else{
					month++;
				}				
				return month;
			}else if(type == "search"){
				if(tab == "envedu" && ($("#enveduSearchYr").val() != '' || $("#enveduSearchMm").val() != '')){
					year = $("#enveduSearchYr").val();
					month = parseInt($("#enveduSearchMm").val());
				}else if(tab == "prgrmgd" && ($("#prgrmgdSearchYr").val() != '' || $("#prgrmgdSearchMm").val() != '')){
					year = $("#prgrmgdSearchYr").val();
					month = parseInt($("#prgrmgdSearchMm").val());
				}
			}else{
				return month;
			}
		}
		
		function beforeList(type) {
			$("#beforeMonth").val("before");
			$("#nextMonth").val("");
			$("#prgrmgd-beforeMonth").val("before");
			$("#prgrmgd-nextMonth").val("");
			
			transformMonth("before");
			
			$("#compareDate").val(`${year}-${month}-${date}`);
			$("#prgrmgd-compareDate").val(`${year}-${month}-${date}`);
			
			isTrue = true;
			$("#nextBtn").attr("disabled", false);
			$("#prgrm-nextBtn").attr("disabled", false);
			
			if(type == "edu") {
				$("#enveduNowDate").text(year + "년 " + month + "월호 환경교육");
				envedu.selectEnveduList("before");
			}else {
				$("#prgrmgdNowDate").text(year + "년 " + month + "월호 환경교육 프로그램");
				prgrmgd.selectPrgrmgdList("before");				
			}
		}
		
		function nextList(type) {
			$("#beforeMonth").val("");
			$("#nextMonth").val("next");
			$("#prgrmgd-beforeMonth").val("");
			$("#prgrmgd-nextMonth").val("next");
			
			transformMonth("next");
			
			$("#compareDate").val(`${year}-${month}-${date}`);
			$("#prgrmgd-compareDate").val(`${year}-${month}-${date}`);
			
			isTrue = true;
			$("#beforeBtn").attr("disabled", false);
			$("#prgrm-beforeBtn").attr("disabled", false);
			
			if(type == "edu") {
				$("#enveduNowDate").text(year + "년 " + month + "월호 환경교육");
				envedu.selectEnveduList("next");
			}else {
				$("#prgrmgdNowDate").text(year + "년 " + month + "월호 환경교육 프로그램");
				prgrmgd.selectPrgrmgdList("next");				
			}
		}

		$(function () {
			var enveduMm = /*[[${enveduMm}]]*/ null;
			var prgrmMm = /*[[${prgrmgdMm}]]*/ null;
			$("#enveduSearchYr").val(year);
			$("#enveduSearchMm").val(String(month).padStart(2, '0'));
			$("#prgrmgdSearchYr").val(year);
			$("#prgrmgdSearchMm").val(String(month).padStart(2, '0'));
			$("#enveduNowDate").text(year + "년 " + transformMonth() + "월호 환경교육")
			$("#prgrmgdNowDate").text(year + "년 " + transformMonth() + "월호 환경교육 프로그램")
			envedu.init();
			prgrmgd.init();
		})
		
		//footer banner
		var subBannerSwiper = new Swiper(".sub-banner-swiper .swiper", {
			slidesPerView : 1,
			spaceBetween: 24,
			navigation: {
				nextEl: ".sub-banner-swiper .swiper-button-next",
				prevEl: ".sub-banner-swiper .swiper-button-prev",
			},
			pagination: {
				el: ".sub-banner-swiper .swiper-pagination",
			},
			a11y: {
				prevSlideMessage: '이전 슬라이드',
				nextSlideMessage: '다음 슬라이드',
			},
			autoplay : {
				delay : 3000,
				disableOnInteraction : false
			},
			loop : true
		});
		$('.sub-banner-swiper .swiper').find('.swiper-button-play').bind({
			'click':function(e){
				subBannerSwiper.autoplay.start();
				$(this).hide();
				$(this).parent().find('.swiper-button-stop').show().focus();
			}
		});
		$('.sub-banner-swiper .swiper').find('.swiper-button-stop').bind({
			'click':function(e){
				subBannerSwiper.autoplay.stop();
				$(this).hide();
				$(this).parent().find('.swiper-button-play').show().focus();
			}
		});
		</script>
	</div>

</body>
</html>