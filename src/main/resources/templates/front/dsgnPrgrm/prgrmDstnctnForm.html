<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout/front/nolnbSubLayout">
<body>
    <div layout:fragment="content">
        <form id="dstnctnForm" name="dstnctnForm" th:action="@{/front/dsgnPrgrm/prgrmEvlForm.html}" method="post">
        <input type="hidden"  id="prgrmid" name="prgrmid" th:value="${aplyInfo.prgrmid}" />
        <input type="hidden"  id="dstnctnid" name="dstnctnid" th:value="${aplyInfo.dstnctnid}" />
        <input type="hidden"  id="opner" name="opner" th:value="${opner =='aply' ? opner:''}" />


            <div class="steps" id="steps" >
                <ol>
                    <li>
                        <div class="steps-inner"><span>01</span> <strong>약관동의</strong></div>
                    </li>
                    <li>
                        <div class="steps-inner"><span>02</span> <strong>신청정보 확인 및 <br class="pc-only"> 증빙자료 등록</strong>
                        </div>
                    </li>
                    <li class="active" title="현재 단계">
                        <div class="steps-inner"><span>03</span> <strong>프로그램 정보 작성</strong></div>
                    </li>
                    <li>
                        <div class="steps-inner"><span>04</span> <strong>신청완료</strong></div>
                    </li>
                </ol>
            </div>


            <div class="row row-section">
                <div class="col col-small">
                    <div class="sticky-navigation">
                        <strong class="tit">프로그램 정보 항목</strong>
                        <div class="sticky-steps">
                            <ul>
                                <li class="active"><a th:href="@{/front/dsgnPrgrm/prgrmDstnctnForm.html?prgrmid=}+${aplyInfo.prgrmid}" >프로그램 우수성</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/prgrmOperMngForm.html?prgrmid=}+${aplyInfo.prgrmid}" >프로그램 운영관리</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/prgrmEvlForm.html?prgrmid=}+${aplyInfo.prgrmid}" >프로그램 평가</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/ldrQlfcForm.html?prgrmid=}+${aplyInfo.prgrmid}" >지도자의 자격 및 배치</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/sftyMngForm.html?prgrmid=}+${aplyInfo.prgrmid}" >안전관리</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/chkListForm.html?prgrmid=}+${aplyInfo.prgrmid}" >체크리스트</a></li>
                            </ul>
                            <div class="btn-wrap">
                                <div class="center">
                                    <button type="button" class="btn-large btn-gray"  onclick="doSave()">중간저장</button>
                                    <button type="button" class="btn-large btn-green" onclick="goNext()">다음</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                    <div class="col col-wide">

                        <div class="table-caption mt0">
                            <div class="left">
                                <h3 class="sub-title">프로그램 개요</h3>
                            </div>
                            <div class="right">
                                <p class="desc">
                                    <span class="ast">*</span>표시는 필수 입력 정보입니다.
                                </p>
                            </div>
                        </div>
                        <div class="table-row table-row-mo">
                            <table>
                                <caption>프로그램 개요 - 프로그램 명, 컨설팅 진행여부, 지원사업, 운영형태, 운영일정, 교육주제, 교육대상, 교육장소, 교육인원, 교육시간, 프로그램 참가비용, 교육사진</caption>
                                <colgroup>
                                    <col style="width: 140px;"><col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <th scope="row">프로그램 명<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <input type="text" title="프로그램 명" placeholder="프로그램 명 입력" id="prgrmNm" name="prgrmNm" th:value="${aplyInfo.prgrmNm}">
                                            </div>
                                            <p class="desc">프로그램명은 프로그램의 첫 인상을 좌우하는 부분입니다. 기존의 익숙한 이름보다는 창의적인 이름으로 작성하길 권장합니다.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">컨설팅 진행여부<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <select title="컨설팅 진행여부 선택">
                                                    <option value="컨설팅 진행여부">컨설팅 진행여부</option>
                                                    <option value="select">select</option>
                                                </select> <select title="컨설팅 선택">
                                                    <option value="컨설팅 선택">컨설팅 선택</option>
                                                    <option value="select">select</option>
                                                </select>
                                            </div>
                                            <p class="desc">컨설팅 내역은 지성 신청 전에 신청하는 프로그램으로 컨설팅을 진행하신 분께서는 컨설팅 받은 내역을 선택해주세요.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">지원사업<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-check-list">
                                                <input type="hidden"  id="styYn" name="styYn" th:value="${aplyInfo.styYn}" />
                                                <label class="inp"><input type="radio" id="styYn1" name="styYn1" th:checked="${aplyInfo.styYn=='Y'}" value="Y"><b>비숙박</b></label>
                                                <label class="inp"><input type="radio" id="styYn2" name="styYn2" th:checked="${aplyInfo.styYn=='N'}" value="N"><b class="mr10">숙박</b>
                                                    <span class="form-input mo-flex-wrap">
                                                        <input type="number" class="ar" title="박" style="flex: 0 0 50px; width: 50px;" id="styNight" name="styNight" th:value="${aplyInfo.styNight}" /><div class="bul">박</div>
                                                        <input type="number" class="ar" title="일" style="flex: 0 0 50px; width: 50px;" id="styDaytm" name="styDaytm" th:value="${aplyInfo.styDaytm}" /><div class="bul">일</div>
                                                    </span>
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">운영형태<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <select title="운영형태 선택">
                                                    <option value="운영형태 선택">운영형태 선택</option>
                                                    <option value="select">select</option>
                                                </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">운영일정<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <label class="inp"><input type="checkbox" name="jan"  value="Y" id="jan"  th:checked = "${aplyInfo.jan  =='Y'}"><b>1월</b></label>
                                                <label class="inp"><input type="checkbox" name="feb"  value="Y" id="feb"  th:checked = "${aplyInfo.feb  =='Y'}"><b>2월</b></label>
                                                <label class="inp"><input type="checkbox" name="mar"  value="Y" id="mar"  th:checked = "${aplyInfo.mar  =='Y'}"><b>3월</b></label>
                                                <label class="inp"><input type="checkbox" name="apr"  value="Y" id="apr"  th:checked = "${aplyInfo.apr  =='Y'}"><b>4월</b></label>
                                                <label class="inp"><input type="checkbox" name="may"  value="Y" id="may"  th:checked = "${aplyInfo.may  =='Y'}"><b>5월</b></label>
                                                <label class="inp"><input type="checkbox" name="june" value="Y" id="june" th:checked = "${aplyInfo.june =='Y'}"><b>6월</b></label>
                                                <label class="inp"><input type="checkbox" name="july" value="Y" id="july" th:checked = "${aplyInfo.july =='Y'}"><b>7월</b></label>
                                                <label class="inp"><input type="checkbox" name="aug"  value="Y" id="aug"  th:checked = "${aplyInfo.aug  =='Y'}"><b>8월</b></label>
                                                <label class="inp"><input type="checkbox" name="sept" value="Y" id="sept" th:checked = "${aplyInfo.sept =='Y'}"><b>9월</b></label>
                                                <label class="inp"><input type="checkbox" name="oct"  value="Y" id="oct"  th:checked = "${aplyInfo.oct  =='Y'}"><b>10월</b></label>
                                            </div>
                                            <div class="form-input mt10">
                                                <label class="inp"><input type="checkbox" name="nov"  value="Y" id="nov"  th:checked = "${aplyInfo.nov  =='Y'}"><b>11월</b></label>
                                                <label class="inp"><input type="checkbox" name="dcm"  value="Y" id="dcm"  th:checked = "${aplyInfo.dcm  =='Y'}"><b>12월</b></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육주제<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <label class="inp" >생활환경 <input type="checkbox" name="an"  id="an"  ><b>소음</b></label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육대상<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <select title="교육대상 선택">
                                                    <option value="교육대상 선택">교육대상 선택</option>
                                                    <option value="select">select</option>
                                                </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육장소<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <input type="text" title="교육장소" id="eduPlc" name="eduPlc" th:value="${aplyInfo.eduPlc}" />
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <th scope="row">교육인원<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input">
                                                <input type="number" class="ar" title="교육인원" id="eduNope" name="eduNope" th:value="${aplyInfo.eduNope}" />
                                                <div class="bul">명</div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육시간<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input mo-flex-wrap">
                                                <div class="form-input">

                                                </div>
                                                <div class="form-input">
                                                    <input type="number" class="ar" title="회" style="flex: 0 0 50px; width: 50px;" min="0" max="24" id="eduHr" name="eduCnt" th:value="${aplyInfo.eduCnt}" />
                                                    <div class="bul">회</div>
                                                    <input type="number" class="ar" title="시간" style="flex: 0 0 50px; width: 50px;" min="0" max="24" id="eduHr" name="eduHr" th:value="${aplyInfo.eduHr}" />
                                                    <div class="bul">시간</div>
                                                    <input type="number" class="ar" title="분" style="flex: 0 0 50px; width: 50px;" min="0" max="60" id="eduMnt" name="eduMnt" th:value="${aplyInfo.eduMnt}" />
                                                    <div class="bul">분</div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">프로그램 <br class="pc-only"> 참가비용<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-check-list p0">
                                                <input type="hidden"  id="pchrgYn" name="pchrgYn" th:value="${aplyInfo.pchrgYn}" />
                                                <label class="inp"><input type="radio" id="pchrgYn1" name="pchrgYn1" th:checked="${aplyInfo.pchrgYn=='N'}" value="N"><b>무료</b></label>
                                                <label class="inp"><input type="radio" id="pchrgYn2" name="pchrgYn2" th:checked="${aplyInfo.pchrgYn=='Y'}" value="Y"><b class="mr10">유료</b>
                                                    <span class="form-input mo-flex-wrap">
                                                        <input type="number" class="ar" title="" style="flex: 0 0 100px; width: 100px;" id="etrfee" name="etrfee" th:value="${#numbers.formatDecimal(aplyInfo.etrfee, 0,'COMMA',0,'POINT')}" />
                                                        <div class="bul">원 (1인당 비용)</div>
                                                    </span>
                                                </label>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육사진<i class="ast" title="필수입력">*</i></th>
                                        <td>
                                            <div class="form-input-file">
                                                <label class="form-input"> <input type="file" class="blind" multiple="multiple" accept=".jpeg,.jpg,.png,.gif,.tif,.tiff,.hwp,.hwpx,.pdf,.ppt,.pptx,.doc,.docx,.xls,.xlsx,.zip" title="파일첨부" maxcount="3"> <span class="btn-medium btn-gray">파일선택</span>
                                                </label>
                                                <ul></ul>
                                                <p class="desc">최대 3장 업로드 가능</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="table-caption">
                            <div class="left">
                                <h3 class="sub-title">프로그램 소개</h3>
                            </div>
                            <div class="right">
                                <p class="desc">
                                    <span class="ast">*</span>표시는 필수 입력 정보입니다.
                                </p>
                            </div>
                        </div>
                        <div class="table-row table-row-mo">
                            <table>
                                <caption>프로그램 소개 - 교육목적, 환경교육적 적절성, 프로그램 우수성, 교육내용 (체험활동 등)</caption>
                                <colgroup>
                                    <col style="width: 140px;">
                                    <col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <th scope="row">교육목적<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="교육목적" placeholder="내용을 입력해주세요." id="eduPrps" name="eduPrps" ><th:block th:text="${aplyInfo.eduPrps}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 50
                                            </div></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">환경교육적 <br class="pc-only"> 적절성<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="환경교육적 적절성" placeholder="내용을 입력해주세요." id="appro" name="appro" ><th:block th:text="${aplyInfo.appro}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 50
                                            </div></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">프로그램 우수성<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="프로그램 우수성" placeholder="내용을 입력해주세요." id="dstnctn" name="dstnctn" ><th:block th:text="${aplyInfo.dstnctn}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 50
                                            </div></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">교육내용 <br class="pc-only"> (체험활동 등)<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="교육내용 (체험활동 등)" placeholder="내용을 입력해주세요." id="eduCn" name="eduCn" ><th:block th:text="${aplyInfo.eduCn}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 300
                                            </div></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <div class="table-caption">
                            <div class="left">
                                <h3 class="sub-title">프로그램 일정표</h3>
                            </div>
                        </div>

                        <div class="pc-only">
                            <div class="table-col table-layout-auto">
                                <table>
                                    <caption>프로그램 일정표 - 차시, 일정, 세부 단위 프로그램 명, 관련교육과정, 열 삭제</caption>
                                    <colgroup>
                                        <col style="width: 6%;">
                                        <col>
                                        <col style="width: 27%;">
                                        <col style="width: 27%;">
                                        <col style="width: 6%;">
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th scope="col">차시</th>
                                            <th scope="col">일정</th>
                                            <th scope="col">세부 단위 프로그램 명</th>
                                            <th scope="col">관련교육과정</th>
                                            <th scope="col"><span class="blind">열 삭제</span></th>
                                        </tr>
                                    </thead>
                                    <tbody id="schdlBody">

                                        <tr th:id=" 'schdlTr' + ${i.count} " th:each="schd ,i : ${schdlList}">
                                            <td id="rnd" name="rnd" >[[${{i.count}}]]차시</td>
                                            <td>
                                                <div class="form-input d-flex">
                                                    <select title="시" style="flex: 1 1 100%; width:0;" id="bgngHr" name="bgngHr">
                                                        <option th:each="num : ${#numbers.sequence(0,23)}" th:value="${num}" th:selected="${num} == ${schd.bgngHr}">[[${num}]]시</option>
                                                    </select>
                                                    <input type="number" title="분" style="flex: 1 1 100%; width: 0;" th:id="'bgngMnt'+${i.count}" th:name="'bgngMnt'+${i.count}" th:value="${schd.bgngMnt}">
                                                    <div class="bul">~</div>
                                                    <select title="시" style="flex: 1 1 100%; width:0;" th:id="'endHr' + ${i.count}" th:name="'endHr' + ${i.count}" th:value="${schd.endHr}">
                                                        <option th:each="num : ${#numbers.sequence(0,23)}" th:value="${num}" th:selected="${num} == ${schd.endHr}">[[${num}]]시</option>
                                                    </select>
                                                    <input type="number" title="분" style="flex: 1 1 100%; width: 0;" th:id="'endMnt'+${i.count}" th:name="'endMnt'+${i.count}" th:value="${schd.endMnt}">
                                                </div>
                                            </td>
                                            <td><input type="text" title="세부 단위 프로그램 명" th:id="schdlPrgrmNm+${i.count}" name="schdlPrgrmNm+${i.count}" th:value="${schd.prgrmNm}"></td>
                                            <td><input type="text" title="관련교육과정" th:id="crs+${i.count}" th:name="crs+${i.count}" th:value="${schd.crs}"></td>
                                            <td class="ac">
                                                <button th:if="${i.count} > 1" type="button" class="btn-remove-table" title="열 삭제" th:id="'delSchdlBtn'+${i.count}" th:onclick="'delSchdl(' + ${i.count} + ')' ">
                                                    <span class="icon icon-remove"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button type="button" class="btn-row-add" title="열 추가" id="addSchdlBtn" onclick="addSchdl()" >
                                <span class="icon icon-row-add"></span>
                            </button>
                        </div>

                        <!-- mobile -->
                        <div class="mo-only">
                            <div class="table-row table-row-mo">
                                <table>
                                    <caption>프로그램 일정표 - 차시, 일정, 세부 단위 프로그램 명, 관련교육과정</caption>
                                    <colgroup>
                                        <col style="width: 140px;">
                                        <col>
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <th scope="row">1차시</th>
                                            <td>
                                                <div class="form-input d-flex">
                                                    <select title="시" style="flex: 1 1 100%; width: 0;">
                                                        <option value="시">시</option>
                                                    </select> <input type="number" title="분" style="flex: 1 1 100%; width: 0;">
                                                    <div class="bul">~</div>
                                                    <select title="시" style="flex: 1 1 100%; width: 0;">
                                                        <option value="시">시</option>
                                                    </select> <input type="number" title="분" style="flex: 1 1 100%; width: 0;">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">세부 단위 프로그램 명</th>
                                            <td><input type="text" title="세부 단위 프로그램 명"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">관련교육과정</th>
                                            <td><input type="text" title="관련교육과정"></td>
                                        </tr>
                                    </tbody>
                                </table>

                                <table>
                                    <caption>프로그램 일정표 - 차시, 일정, 세부 단위 프로그램 명, 관련교육과정, 열 삭제</caption>
                                    <colgroup>
                                        <col style="width: 140px;">
                                        <col>
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <th scope="row">2차시</th>
                                            <td>
                                                <div class="form-input d-flex">
                                                    <select title="시" style="flex: 1 1 100%; width: 0;">
                                                        <option value="시">시</option>
                                                    </select>
                                                    <input type="number" title="분" style="flex: 1 1 100%; width: 0;">
                                                    <div class="bul">~</div>
                                                    <select title="시" style="flex: 1 1 100%; width: 0;">
                                                        <option value="시">시</option>
                                                    </select>
                                                    <input type="number" title="분" style="flex: 1 1 100%; width: 0;">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">세부 단위 프로그램 명</th>
                                            <td><input type="text" title="세부 단위 프로그램 명"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">관련교육과정</th>
                                            <td><input type="text" title="관련교육과정"></td>
                                            <td class="ac"></td>
                                        </tr>
                                        <tr>
                                            <td class="ac"><button type="button" class="btn-remove-table" title="열 삭제" style="width: 100%;">
                                                    <span class="icon icon-remove"></span>
                                                </button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button type="button" class="btn-row-add" title="열 추가">
                                <span class="icon icon-row-add"></span>
                            </button>
                        </div>
                        <!-- mobile -->

                        <div class="table-caption">
                            <div class="left">
                                <h3 class="sub-title">유사시 대처 계획</h3>
                            </div>
                            <div class="right">
                                <p class="desc">
                                    <span class="ast">*</span>표시는 필수 입력 정보입니다.
                                </p>
                            </div>
                        </div>

                        <div class="table-row table-row-mo">
                            <table>
                                <caption>유사시 대처 계획 - 기상상황, 대처방법</caption>
                                <colgroup>
                                    <col style="width: 140px;">
                                    <col>
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <th scope="row">기상상황<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="기상상황" placeholder="내용을 입력해주세요." id="wetherSttn" name="wetherSttn" ><th:block th:text="${aplyInfo.wetherSttn}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 50
                                            </div></td>
                                    </tr>
                                    <tr>
                                        <th scope="row">대처방법<i class="ast" title="필수입력">*</i></th>
                                        <td><textarea title="대처방법" placeholder="내용을 입력해주세요." id="actnMthd" name="actnMthd" ><th:block th:text="${aplyInfo.actnMthd}" /></textarea>
                                            <div class="desc ar size">
                                                <span>0</span> / 50
                                            </div></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>


                        <div class="table-caption">
                            <div class="left">
                                <h3 class="sub-title">대처 계획</h3>
                                <h4 class="dot-title">관련된 교육과정 내용</h4>
                            </div>
                            <div class="right">
                                <p class="desc">
                                    <span class="ast">*</span>표시는 필수 입력 정보입니다.
                                </p>
                            </div>
                        </div>

                        <div class="pc-only">
                            <div class="table-col table-layout-auto">
                                <table>
                                    <caption>대처 계획 - 관련된 교육과정 내용(본 프로그램명, 대체 프로그램명), 열 삭제</caption>
                                    <colgroup>
                                        <col>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th scope="col">본 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <th scope="col">대체 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <th scope="col"><span class="blind">열 삭제</span></th>
                                        </tr>
                                    </thead>
                                    <tbody id="planBody">
                                        <tr th:id="'planTr' + ${i.count}" th:each="plan ,i : ${planList}">
                                            <td><input type="text" title="본 프로그램명"
                                                th:id="planPrgrmNm + ${i.count}"
                                                th:name="planPrgrmNm + ${i.count}"
                                                th:value="${plan.prgrmNm}">
                                            </td>
                                            <td><input type="text" title="대체 프로그램명"
                                                th:id="sbstnPrgrmNm + ${i.count}"
                                                th:name="sbstnPrgrmNm + ${i.count}"
                                                th:value="${plan.sbstnPrgrmNm}"></td>
                                            <td class="ac">
                                                <button th:if="${i.count} > 1" type="button" class="btn-remove-table" title="열 삭제"
                                                th:id="delPlanBtn + ${i.count}"
                                                th:onclick="delPlan( + ${i.count} + )">
                                                    <span class="icon icon-remove"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button type="button" class="btn-row-add" title="열 추가" id="addPlanBtn" onclick="addPlan()" >
                                <span class="icon icon-row-add"></span>
                            </button>
                        </div>

                        <!-- mobile -->
                        <div class="mo-only">

                            <div class="table-row table-row-mo">
                                <table>
                                    <caption>대처 계획 - 관련된 교육과정 내용(본 프로그램명, 대체 프로그램명</caption>
                                    <colgroup>
                                        <col style="width: 140px;">
                                        <col>
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <th scope="row">본 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <td><input type="text" title="본 프로그램명" placeholder="본 프로그램명"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">대체 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <td><input type="text" title="대체 프로그램명" placeholder="대체 프로그램명"></td>
                                        </tr>
                                    </tbody>
                                </table>

                                <table>
                                    <caption>대처 계획 - 관련된 교육과정 내용(본 프로그램명, 대체 프로그램명, 열 삭제</caption>
                                    <colgroup>
                                        <col style="width: 140px;">
                                        <col>
                                    </colgroup>
                                    <tbody>
                                        <tr>
                                            <th scope="row">본 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <td><input type="text" title="본 프로그램명" placeholder="본 프로그램명"></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">대체 프로그램명<i class="ast" title="필수입력">*</i></th>
                                            <td><input type="text" title="대체 프로그램명" placeholder="대체 프로그램명"></td>
                                        </tr>
                                        <tr>
                                            <td colspan="2 " class="ac"><button type="button" class="btn-remove-table" title="열 삭제" style="width: 100%;">
                                                    <span class="icon icon-remove"></span>
                                                </button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <button type="button" class="btn-row-add" title="열 추가">
                                <span class="icon icon-row-add"></span>
                            </button>
                        </div>

                        <div class="mo-only">
                            <div class="btn-wrap">
                                <div class="center">
                                    <button type="button" class="btn-medium btn-gray">중간저장</button>
                                </div>
                            </div>
                            <div class="btn-wrap">
                                <div class="center">
                                    <button type="button" class="btn-medium btn-gray" onclick="goPrev()">이전</button>
                                    <button type="button" class="btn-medium btn-green" onclick="goNext()">다음</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- mobile -->
            </div>
        </form>


        <script th:inline="javascript">

            var insertUrl = "/front/dsgnPrgrm/insertPrgrmDstnctnForm.do";
            var updateUrl = "/front/dsgnPrgrm/updatePrgrmDstnctnForm.do";
            var nextUrl = "/front/dsgnPrgrm/prgrmOperMngForm.html";    //프로그램 운영관리
            var prevUrl = "/front/dsgnPrgrm/evdncDataForm.html";
            var reUrl = "/front/dsgnPrgrm/prgrmDstnctnForm.html";    //우수성

            function validate(){

                $("#dstnctnForm").validate({
                    ignore: [],
                    rules: {
                    	prgrmNm : { required: true , maxlength:100  }
                	  , styYn       : { required: true }
                	  , operFrmCd   : { required: true }
                	  , title       : { required: true , maxlength:100  }
                	  , title       : { required: true , maxlength:100  }
                	  , title       : { required: true , maxlength:100  }
                	  , eduPlc      : { required: true , maxlength:100  }
                	  , eduNope     : { required: true , maxlength:100  }
                	  , eduHr       : { required: true , maxlength:100  }
                	  , etrfee      : { required: true , maxlength:100  }
                	  , title       : { required: true , maxlength:100  }
                	  , eduPrps     : { required: true , maxlength:100  }
                	  , appro       : { required: true , maxlength:100  }
                	  , dstnctn     : { required: true , maxlength:100  }
                	  , eduCn       : { required: true , maxlength:100  }
                     },
                     messages: {
                    	 prgrmNm     : { required: "프로그램명을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , title       : { required: "컨설팅 진행여부 를 입력해 주십시오." }
                       , styYn       : { required: "숙박여부 를 입력해 주십시오." }
                       , operFrmCd   : { required: "운영형태 를 입력해 주십시오." }
                       , title       : { required: "운영일정 을 입력해 주십시오." }
                       , title       : { required: "교육주제 를 입력해 주십시오." }
                       , title       : { required: "교육대상 을 입력해 주십시오." }
                       , eduPlc      : { required: "교육장소 를 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , eduNope     : { required: "교육인원 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , eduHr       : { required: "교육시간 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , etrfee      : { required: "프로그램 참가비용 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , title       : { required: "교육사진 을 입력해 주십시오." }
                       , eduPrps     : { required: "교육목적 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , appro       : { required: "환경교육적 적절성 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , dstnctn     : { required: "프로그램 우수성 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       , eduCn       : { required: "교육내용 (체험활동 등) 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }

                       //, title       : { required: "기상상황    입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       //, title       : { required: "대처방법 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       //, title       : { required: "대처계획 -0 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       //, title       : { required: "예산구성 - 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       //, title       : { required: "지출항목 을 입력해 주십시오." , maxlength:"프로그램명은 100자를 넘을 수 없습니다."  }
                       //, ntnts      : { required: "게시글 내용을 입력해 주십시오." , maxlength: "게시판 내용은 4000자를 넘을 수 없습니다." }
                       //, bs_clid    : { required:"게시글 분류를 선택해주십시오 "}
                     }
                });

            }

            function doSave(call){

            	var url = ($("#dstnctnid").val() == null || $("#dstnctnid").val() == "" || $("#dstnctnid").val() == 0) ? insertUrl : updateUrl;

                if(call == "next") {
                    //if(!validate()) return false;
                }else{
                    if(!confirm("저장하시겠습니까?")) return;
                }

                var param = {};

//                 //필수체크
//                 if(0== $("[id^=sub_eduSbjctSel]").length){
//                     alert("교육주제는 필수 입력입니다.");
//                     return false;
//                 }

//                 //교육주제
//                 $("[id^=sub_eduSbjctSel]").each(function(index, item) {

//                     if(item.value=="전체"){
//                         alert("선택하지 않은 교육주제항목이 있습니다.");
//                         $("#"+item.id).focus();
//                         return;
//                     }
//                     if(index==0) param["eduSbjctCdLst"] = ""+item.value;
//                     if(index!=0) param["eduSbjctCdLst"] += ","+item.value;
//                 });

                //프로그램 일정
                $("[id^=schdlTr]").each(function(index, item)      { param["prgrmSchdlLst[" + index + "].prgrmid"] = $("#prgrmid").val()});    //프로그램 id (key)
                $("[id^=rnd]").each(function(index, item)          { param["prgrmSchdlLst[" + index + "].rnd"    ] = item.textContent; });    //차수
                $("[id^=bgngHr]").each(function(index, item)       {

                    param["prgrmSchdlLst[" + index + "].bgngHr" ] = item.value;
                });    //시작 시간

                $("[id^=bgngMnt]").each(function(index, item)      { param["prgrmSchdlLst[" + index + "].bgngMnt"] = item.value; });    //시작 분
                $("[id^=endHr]").each(function(index, item)        { param["prgrmSchdlLst[" + index + "].endHr"  ] = item.value; });    //종료 시간
                $("[id^=endMnt]").each(function(index, item)       { param["prgrmSchdlLst[" + index + "].endMnt" ] = item.value; });    //종료 분
                $("[id^=schdlPrgrmNm]").each(function(index, item) { param["prgrmSchdlLst[" + index + "].prgrmNm"] = item.value; });    //프로그램명
                $("[id^=crs]").each(function(index, item)          { param["prgrmSchdlLst[" + index + "].crs"    ] = item.value; });    //과정

                $("#dstnctnForm input").each(function(index, item) {

                    if("checkbox" == item.type){
                        if(item.checked ) {
                            param[item.id] = "Y";
                        }
                        else{
                            param[item.id] = "N";
                        }
                    }else{
                        param[item.id] = item.value;
                    }
                });

                param["eduCn"] = $("#eduCn").val();    //교육 내용

                //프로그램 대처계획
                $("[id^=planTr]").each(function(index, item)       { param["emrgcyActnPlanLst[" + index + "].prgrmid"     ] = $("#prgrmid").val()});       //프로그램 id (key)
                $("[id^=sbstnPrgrmNm]").each(function(index, item) { param["emrgcyActnPlanLst[" + index + "].sbstnPrgrmNm"] = item.value; });    //차수
                $("[id^=planPrgrmNm]").each(function(index, item)  { param["emrgcyActnPlanLst[" + index + "].prgrmNm"     ] = item.value; });    //프로그램명

                $.ajax({
                    url : url,
                    type: 'POST',
                    cache : false,
                    dataType: 'json',
                    data: param,
                    success : function (data){
                        if(data.result=="success"){

                            if(call == "next") {
                                document.dstnctnForm.action = nextUrl;
                                $("#dstnctnForm").submit();
                            }else{
                                alert(data.msg);
                                document.dstnctnForm.action = reUrl;
                            }
                            $("#dstnctnForm").submit();
                        }else{
                            alert(data.msg);
                        }
                    },
                    error : function (error){
                    }
                });
            }


            function goPrev(){
                document.dstnctnForm.action = prevUrl;
                $("#prgrmEvlForm").submit();
            }

            function goNext(){
            	if($("#dstnctnForm").valid() == false) return;
            	doSave("next");
            }

            function addSchdl(){
            	var html="";
                var idx = $("[id^='schdlTr']").length;


            	html +=`
                    	<tr id="schdlTr`+`${idx+1}`+`">
                            <td>1차시</td>
                            <td>
                                <div class="form-input d-flex">
                                    <select title="시" style="flex: 1 1 100%; width: 0;">`/**/

                for(var i=0; i<24; i++){
                	html +=`<option value=${i}"시">${i}시</option>`/**/
                }

            	html +=`
                                    </select> <input type="number" title="분" style="flex: 1 1 100%; width: 0;" id="bgngMnt`+`${idx+1}`+`" name="bgngMnt`+`${idx+1}`+`">
                                    <div class="bul">~</div>
                                    <select title="시" style="flex: 1 1 100%; width: 0;">`/**/
        		for(var i=0; i<24; i++){
                    html +=`<option value=${i}"시">${i}시</option>`/**/
                }
            	html +=`
                                    </select> <input type="number" title="분" style="flex: 1 1 100%; width: 0;" id="endMnt`+`${idx+1}`+`" name="endMnt`+`${idx+1}`+`">
                                </div>
                            </td>
                            <td><input type="text" title="세부 단위 프로그램 명" id="prgrmNm`+`${idx+1}`+`" name="prgrmNm`+`${idx+1}`+`"></td>
                            <td><input type="text" title="관련교육과정" id="crs`+`${idx+1}`+`" name="crs`+`${idx+1}`+`"></td>
                            <td class="ac"><button type="button" class="btn-remove-table" title="열 삭제" id="delSchdlBtn`+`${idx+1}`+`" onclick="delSchdl(`+`${idx+1}`+`)">
                                    <span class="icon icon-remove"></span>
                                </button></td>
                        </tr>`/**/

            	$("#schdlBody").append(html);
            }

            function delSchdl(id){
            	$("#schdlTr"+id).remove();
            }

            function addPlan(){
            	var html="";
                var idx = $("[id^='planTr']").length;


                html +=`
                	<tr id="planTr`+`${idx+1}`+`" >
                        <td><input type="text" title="본 프로그램명" id="prgrmNm`+`${idx+1}`+`" name="prgrmNm`+`${idx+1}`+`" ></td>
                        <td><input type="text" title="대체 프로그램명" id="sbstnPrgrmNm`+`${idx+1}`+`" name="sbstnPrgrmNm`+`${idx+1}`+`" ></td>
                        <td class="ac">
                            <button type="button" class="btn-remove-table" title="열 삭제" id="delPlanBtn`+`${idx+1}`+`" onclick="delPlan(`+`${idx+1}`+`) ">
                                <span class="icon icon-remove"></span>
                            </button>
                        </td>
                    </tr>
                `/**/

                $("#planBody").append(html);
            }

            function delPlan(id){
            	$("#planTr"+id).remove();
            }

			$(function() {

				if($("#opner").val()!='aply')$("#steps").hide();

				$("textArea").keyup(function (e) {
				    var inTxt = $(this).val();
				    if($("#"+this.id).next().prop("class")=="desc ar size"){
    				    $("#"+this.id).next().children().prop("innerHTML",inTxt.length);
				    }
				});
				$("textArea").trigger("keyup");


				$("input[type='radio']").on("change", function(e) {
					var id = e.originalEvent.target.id;
					//숙박여부
					if(id.startsWith("styYn")){
						$("#styYn").val( $("#"+id).val() );
						$("#styYn1").prop("checked", $("#styYn").val() == "Y");
						$("#styYn2").prop("checked", $("#styYn").val() == "N");
					}

					//유료 여부
					if(id.startsWith("pchrgYn")){
						$("#pchrgYn").val( $("#"+id).val() );
						$("#pchrgYn1").prop("checked", $("#pchrgYn").val() == "N");
						$("#pchrgYn2").prop("checked", $("#pchrgYn").val() == "Y");
					}
				});

			});
		</script>
    </div>
</body>
</html>