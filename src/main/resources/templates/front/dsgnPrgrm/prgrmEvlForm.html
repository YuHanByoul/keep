<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="layout/front/nolnbSubLayout" >
<body>
    <div layout:fragment="content">
    <form id="evlForm" name="evlForm" th:action="@{/front/dsgnPrgrm/prgrmOperMngForm.html}" method="post">
        <!-- content -->
        <div class="steps">
            <ol>
                <li>
                    <div class="steps-inner">
                        <span>01</span>
                        <strong>약관동의</strong>
                    </div>
                </li>
                <li>
                    <div class="steps-inner">
                        <span>02</span>
                        <strong>신청정보 확인 및 <br class="pc-only"> 증빙자료 등록</strong>
                    </div>
                </li>
                <li class="active" title="현재 단계">
                    <div class="steps-inner">
                        <span>03</span>
                        <strong>프로그램 정보 작성</strong>
                    </div>
                </li>
                <li>
                    <div class="steps-inner">
                        <span>04</span>
                        <strong>신청완료</strong>
                    </div>
                </li>
            </ol>
        </div>


        <div class="row row-section">
            <div class="col col-small">
                <div class="sticky-navigation">
                    <strong class="tit">프로그램 정보 항목</strong>
                    <div class="sticky-steps">
                        <ul>
                            <li><a href="#">프로그램 우수성</a></li>
                            <li><a href="#">프로그램 운영관리</a></li>
                            <li class="active"><a href="#" title="현재 단계">프로그램 평가</a></li>
                            <li><a href="#">지도자의 자격 및 배치</a></li>
                            <li><a href="#">안전관리</a></li>
                            <li><a href="#">체크리스트</a></li>
                        </ul>
                        <div class="btn-wrap">
                            <div class="center">
                                <button type="button" class="btn-large btn-gray">중간저장</button>
                                <button type="button" class="btn-medium btn-green" onclick="goNext()">다음</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col col-wide">

                <div class="table-caption mt0">
                    <div class="left">
                        <h3 class="sub-title">프로그램 평가 체계</h3>
                        <h4 class="dot-title">평가 체계</h4>
                    </div>
                </div>

                <div class="table-combi">
                    <table>
                        <caption>프로그램 평가 체계 - 구분(지도자 평가, 참여자 평가, 인솔자 평가, 평가목적), 평가 시기(사전,사후), 평가 목표 및 항목, 평가 도구</caption>
                        <colgroup>
                            <col style="width:15%">
                            <col style="width:50px">
                            <col>
                            <col>
                        </colgroup>
                        <thead>
                            <tr>
                                <th scope="col">구분</th>
                                <th scope="col">평가 <br class="mo-only">시기</th>
                                <th scope="col">평가목표 및 항목</th>
                                <th scope="col">평가도구</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row" rowspan="2">지도자 평가</th>
                                <th scope="row" class="bg-white">사전</th>
                                <td class="al vt">
                                    <input type="text" title="지도자 평가 (사전)">
                                    <p class="desc">* 예)교육 전 점검평가</p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="지도자 평가 (평가도구)">
                                    <p class="desc">* 예)문항지</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="bg-white">사후</th>
                                <td class="al vt">
                                    <input type="text" title="지도자 평가 (사전)">
                                    <p class="desc">* 예)교육 후 결과평가</p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="지도자 평가 (평가도구)">
                                    <p class="desc">* 예)프로그램평가발표</p>
                                </td>
                            </tr>

                            <tr>
                                <th scope="row" rowspan="2">참여자 평가</th>
                                <th scope="row" class="bg-white">사전</th>
                                <td class="al vt">
                                    <input type="text" title="참여자 평가 (사전)">
                                    <p class="desc">* 예)교육 전 점검평가</p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="참여자 평가 (평가도구)">
                                    <p class="desc">* 예)문항지</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="bg-white">사후</th>
                                <td class="al vt">
                                    <input type="text" title="참여자 평가 (사전)">
                                    <p class="desc">* 예)만족도조사 및 이해도향상조사 </p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="참여자 평가 (평가도구)">
                                    <p class="desc">* 예)문항지, 조사지</p>
                                </td>
                            </tr>

                            <tr>
                                <th scope="row" rowspan="2">인솔자 평가</th>
                                <th scope="row" class="bg-white">사전</th>
                                <td class="al vt">
                                    <input type="text" title="인솔자 평가 (사전)">
                                    <p class="desc">* 예)교육 전 점검평가</p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="인솔자 평가 (평가도구)">
                                    <p class="desc">* 예)문항지</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="bg-white">사후</th>
                                <td class="al vt">
                                    <input type="text" title="인솔자 평가 (사전)">
                                    <p class="desc">* 예)교육프로그램 만족도조사</p>
                                </td>
                                <td class="al vt">
                                    <input type="text" title="인솔자 평가 (평가도구)">
                                    <p class="desc">* 예)문항지, 조사지</p>
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">평가 <br class="mo-only">목적</th>
                                <td colspan="3" class="al">
                                    <textarea title="평가목적" placeholder="평가목적을 입력해주세요."></textarea>
                                    <div class="desc ar size"><span>0</span> / 50</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-caption">
                    <div class="left">
                        <h4 class="dot-title">교육활동 기록 및 관리</h4>
                    </div>
                </div>


                <div class="table-row table-row-mo">
                    <table>
                        <caption>교육활동 기록 및 관리 - 기록방법</caption>
                        <colgroup>
                            <col style="width:140px;">
                            <col>
                        </colgroup>
                        <tbody>
                            <tr>
                                <th scope="row">기록방법</th>
                                <td>
                                    <div class="form-input mo-flex-wrap">
                                        <div class="form-check-list p0">
                                            <label class="inp"><input type="checkbox"><b>데이터베이스(DB) 작성</b></label>
                                            <label class="inp"><input type="checkbox"><b>수업일지 작성</b></label>
                                            <label class="inp"><input type="checkbox"><b class="mr10">기타</b>
                                                <span class="form-input mo-flex-wrap">
                                                    <input type="text" class="" title="기타" style="flex:0 0 140px;width:140px;">
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>


                <div class="mo-only">
                    <div class="btn-wrap">
                        <div class="center">
                            <button type="button" class="btn-medium btn-gray">중간저장</button>
                        </div>
                    </div>
                    <div class="btn-wrap">
                        <div class="center">
                            <button type="button" class="btn-medium btn-gray">이전</button>
                            <button type="button" class="btn-medium btn-green" onclick="goNext()">다음</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <!-- //content -->
    </form>
    <script th:inline="javascript">

        var insertUrl = "/front/dsgnPrgrm/insertPrgrmEvlForm.do";
        var updateUrl = "/front/dsgnPrgrm/updatePrgrmEvlForm.do";

        function validate(){

            $("#evlForm").validate({
                ignore: [],
                rules: {
                    title       : { required: true , maxlength:200  }
                    ,cntnts      : { required: true , maxlength:4000}
                    ,bbs_clid    : { required: true }
                 },
                 messages: {
                    title       : { required: "게시판명을 입력해 주십시오."  , maxlength : "게시판 제목은 200자를 넘을 수 없습니다."  }
                    ,cntnts      : { required: "게시글 내용을 입력해 주십시오." , maxlength: "게시판 내용은 4000자를 넘을 수 없습니다." }
                    ,bbs_clid    : { required:"게시글 분류를 선택해주십시오 "}
                 }
            });

        }

        function goPrev(){
            document.dstnctnForm.action = "/front/dsgnPrgrm/prgrmOperMngForm.html";    //우수성
            $("#evlForm").submit();
        }

        function goNext(){
            if($("#evlForm").valid() == false) return;
            doSave();

        }

        function doSave(){

            if(!confirm("저장하시겠습니까?")) return;

            var data =  $("#evlForm").serialize() ;

//             $.ajax({
//                 url : insertPstUrl,
//                 type: 'POST',
//                 cache : false,
//                 dataType: 'json',
//                 data : data,
//                 success : function (data){
//                     if(data.result=="success"){
//                         alert("등록이 완료 되었습니다.");
//                         goBbsMain();
//                     }else{
//                         alert("등록중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
//                     }
//                 },
//                 error : function (error){
//                 }
//             });

            document.dstnctnForm.action = "/front/dsgnPrgrm/ldrQlfcForm.html";    //안전관리
            $("#evlForm").submit();
        }

        $(function() {

        });

        </script>
</div>

</body>
</html>