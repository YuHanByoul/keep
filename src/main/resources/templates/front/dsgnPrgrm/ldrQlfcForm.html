<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="layout/front/nolnbSubLayout" >
<body>
    <div layout:fragment="content">
    <form id="ldrQlfcForm" name="ldrQlfcForm" th:action="@{/front/dsgnPrgrm/sftyMngForm.html}" method="post">
        <input type="hidden"  id="prgrmid" name="prgrmid" th:value="${snrstfdvlprHstry.prgrmid}" />
        <input type="hidden"  id="hstryid" name="hstryid" th:value="${snrstfdvlprHstry.hstryid}" />
        <input type="hidden"  id="opner" name="opner" th:value="${opner==null ?'':opner}" />

            <!-- content -->
            <div class="steps" id="steps" th:if="${opner!='myPage'}">
                <ol>
                    <li>
                        <div class="steps-inner">
                            <span>01</span>
                            <strong>약관동의</strong>
                        </div>
                    </li>
                    <li>
                        <div class="steps-inner">
                            <span>02</span>
                            <strong>신청정보 확인 및 <br class="pc-only"> 증빙자료 등록</strong>
                        </div>
                    </li>
                    <li class="active" title="현재 단계" aria-current="step">
                        <div class="steps-inner">
                            <span>03</span>
                            <strong>프로그램 정보 작성</strong>
                        </div>
                    </li>
                    <li>
                        <div class="steps-inner">
                            <span>04</span>
                            <strong>신청완료</strong>
                        </div>
                    </li>
                </ol>
            </div>


            <div class="row row-section">
                <div class="col col-small">
                    <div class="sticky-navigation">
                        <strong class="tit">프로그램 정보 항목</strong>
                        <div class="sticky-steps">
                            <ul>
                                <li><a th:href="@{/front/dsgnPrgrm/prgrmDstnctnForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >프로그램 우수성</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/prgrmOperMngForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >프로그램 운영관리</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/prgrmEvlForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >프로그램 평가</a></li>
                                <li class="active"><a th:href="@{/front/dsgnPrgrm/ldrQlfcForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >지도자의 자격 및 배치</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/sftyMngForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >안전관리</a></li>
                                <li><a th:href="@{/front/dsgnPrgrm/chkListForm.html?prgrmid=}+${snrstfdvlprHstry.prgrmid}" >체크리스트</a></li>
                            </ul>
                            <div class="btn-wrap">
                                <div class="center">
                                    <button type="button" class="btn-large btn-gray" onclick="doSave()">중간저장</button>
                                    <button type="button" class="btn-medium btn-green" onclick="goNext()">다음</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col col-wide">

                    <div class="table-caption mt0">
                        <div class="left">
                            <h3 class="sub-title">지도자 현황</h3>
                        </div>
                    </div>

                    <div class="table-col table-col-scroll">
                        <table>
                            <caption>지도자 현황 - 구분, 성명, 업무내용, 열 삭제</caption>
                            <colgroup>
                                <col style="width:15%">
                                <col style="width:15%">
                                <col>
                                <col style="width:55px">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th scope="col">구분</th>
                                    <th scope="col">성명</th>
                                    <th scope="col">업무내용</th>
                                    <th scope="col"><span class="blind">열 삭제</span></th>
                                </tr>
                            </thead>
                            <tbody id="ldrTbody">
                            </tbody>
                        </table>
                    </div>
                    <button type="button" class="btn-row-add" title="열 추가" id="addLdrBtn" onclick="addLdr()">
                        <span class="icon icon-row-add"></span>
                    </button>

                    <div class="table-caption">
                        <div class="left">
                            <h3 class="sub-title">책임개발자 지도자 자격</h3>
                            <h4 class="dot-title">기본정보</h4>
                        </div>
                    </div>

                    <div class="table-row table-row-mo">
                        <table>
                            <caption>책임개발자 지도자 자격(기본정보) - 성명, 생년월일</caption>
                            <colgroup>
                                <col style="width:140px;">
                                <col>
                            </colgroup>
                            <tbody>
                                <tr>
                                    <th scope="row">성명</th>
                                    <td>
                                        <input type="text" title="성명" id="nm" name="nm" th:value="${snrstfdvlprHstry.nm}">
                                    </td>
                                    <th scope="row">생년월일</th>
                                    <td>
                                        <input type="date" title="생년월일" id="brdt" name="brdt" th:value="${snrstfdvlprHstry.brdt}">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>


                    <div class="table-caption">
                        <div class="left">
                            <h4 class="dot-title">환경교육관련 학력사항</h4>
                        </div>
                    </div>

                    <div class="table-col table-col-scroll">
                        <table>
                            <caption>환경교육관련 학력사항 - 기간, 학교명, 전공, 학위, 열 삭제</caption>
                            <colgroup>
                                <col>
                                <col style="width:19%">
                                <col style="width:19%">
                                <col style="width:19%">
                                <col style="width:55px">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th scope="col">기간</th>
                                    <th scope="col">학교명</th>
                                    <th scope="col">전공</th>
                                    <th scope="col">학위</th>
                                    <th scope="col"><span class="blind">열 삭제</span></th>
                                </tr>
                            </thead>
                            <tbody id="acbgTbody"></tbody>
                        </table>
                    </div>
                    <button type="button" class="btn-row-add" title="열 추가" id="addAcbgBtn"  onclick="addAcbg()">
                        <span class="icon icon-row-add"></span>
                    </button>

                    <div class="table-caption">
                        <div class="left">
                            <h4 class="dot-title">환경교육관련 자격사항</h4>
                        </div>
                    </div>

                    <div class="table-col table-col-scroll">
                        <table>
                            <caption>환경교육관련 자격사항 - 자격명, 급수, 취득일, 발령청, 열 삭제</caption>
                            <colgroup>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col style="width:55px">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th scope="col">자격명</th>
                                    <th scope="col">급수</th>
                                    <th scope="col">취득일</th>
                                    <th scope="col">발령청</th>
                                    <th scope="col"><span class="blind">열 삭제</span></th>
                                </tr>
                            </thead>
                            <tbody id="qlfcTbody"></tbody>
                        </table>
                    </div>
                    <button type="button" class="btn-row-add" title="열 추가" onclick="addQlfc()">
                        <span class="icon icon-row-add"></span>
                    </button>

                    <div class="table-caption">
                        <div class="left">
                            <h4 class="dot-title">환경교육관련 경력사항</h4>
                        </div>
                    </div>

                    <div class="table-col table-col-scroll">
                        <table>
                            <caption>환경교육관련 경력사항 - 기간, 활동(기관) 명, 활동유형, 열 삭제</caption>
                            <colgroup>
                                <col>
                                <col style="width:28%">
                                <col style="width:29%">
                                <col style="width:55px">
                            </colgroup>
                            <thead>
                                <tr>
                                    <th scope="col">기간</th>
                                    <th scope="col">활동(기관) 명</th>
                                    <th scope="col">활동유형</th>
                                    <th scope="col"><span class="blind">열 삭제</span></th>
                                </tr>
                            </thead>
                            <tbody id="careerTbody"></tbody>
                        </table>
                    </div>
                    <button type="button" class="btn-row-add" title="열 추가" onclick="addCareer()">
                        <span class="icon icon-row-add"></span>
                    </button>

                    <div class="mo-only">
                        <div class="btn-wrap">
                            <div class="center">
                                <button type="button" class="btn-medium btn-gray">중간저장</button>
                            </div>
                        </div>
                        <div class="btn-wrap">
                            <div class="center">
                                <button type="button" class="btn-medium btn-gray">이전</button>
                                <button type="button" class="btn-medium btn-green">다음</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </form>

        <!-- //content -->
        <script th:inline="javascript">

        /*<![CDATA[*/
        var ldrList = /*[[${ldrList}]]*/null;    //책임개발자 목록 조회
        /*]]>*/
        /*<![CDATA[*/
        var snrstfdvlprHstry = /*[[${snrstfdvlprHstry}]]*/null;     //책임개발자 이력 조회
        /*]]>*/
        /*<![CDATA[*/
        var acbgList = /*[[${acbgList}]]*/null;    //책임개발자 학력사항 목록 조회
        /*]]>*/
        /*<![CDATA[*/
        var careerList = /*[[${careerList}]]*/null;    //책임개발자 경력사항 목록 조회
        /*]]>*/
        /*<![CDATA[*/
        var qlfcList = /*[[${qlfcList}]]*/null;    //책임개발자 자격사항 목록 조회
        /*]]>*/

        var insertUrl = "/front/dsgnPrgrm/insertPrgrmLdrQlfcForm.do";
        var updateUrl = "/front/dsgnPrgrm/updateLdrQlfcForm.do";
        var nextUrl = "/front/dsgnPrgrm/sftyMngForm.html";    //안전관리
        var prevUrl = "/front/dsgnPrgrm/prgrmEvlForm.html";    //프로그램 평가
        var reUrl = "/front/dsgnPrgrm/ldrQlfcForm.html";    //지도자 의 자격 및 배치

        function validate(){

            $("#ldrQlfcForm").validate({
                ignore: [],
                rules: {
                    bgngDe    : { maxlength:10  } /** 시작 일자 */
                  , endDe     : { maxlength:00  }/** 종료 일자 */
                  , schlNm    : { maxlength:30  } /** 학교 이름 */
                  , mjr       : { maxlength:30  }/** 전공 */
                  , dgr       : { maxlength:30  }/** 학위 */
                  , nm        : { maxlength:30  }
                  , brdt      : { maxlength:10  }
                  , qlfcNm    : { maxlength:50  } /** 자격 명*/
                  , grd       : { maxlength:30  } /** 급수 */
                  , acqsDe    : { maxlength:10  } /** 취득일자 */
                  , wrkplc    : { maxlength:30  } /** 발령청*/
                  , actvtNm   : { maxlength:30  }   /** 활동명 */
                  , actvtType : { maxlength:30  }   /** 활동 유형 */
                 },
                 messages: {
                    bgngDe    : { maxlength : "시작 일자는 10자를 넘을 수 없습니다." }/** 시작 일자 */
                  , endDe     : { maxlength : "종료 일자는 10자를 넘을 수 없습니다." }/** 종료 일자 */
                  , schlNm    : { maxlength : "학교 이름은 30자를 넘을 수 없습니다." }/** 학교 이름 */
                  , mjr       : { maxlength : "전공운 30자를 넘을 수 없습니다." }/** 전공 */
                  , dgr       : { maxlength : "학위는 30자를 넘을 수 없습니다." }/** 학위 */
                  , nm        : { maxlength : "성명은 30자를 넘을 수 없습니다." }
                  , brdt      : { maxlength : "생년월일은 10자를 넘을 수 없습니다." }
                  , qlfcNm    : { maxlength : "자격 명 은 50자를 넘을 수 없습니다." }/** 자격 명*/
                  , grd       : { maxlength : "급수는 30자를 넘을 수 없습니다." }/** 급수 */
                  , acqsDe    : { maxlength : "취득일자 는 10자를 넘을 수 없습니다." }/** 취득일자 */
                  , wrkplc    : { maxlength : "발령처는 30자를 넘을 수 없습니다." }/** 발령청*/
                  , actvtNm   : { maxlength : "활동명은 30자를 넘을 수 없습니다." }/** 활동명 */
                  , actvtType : { maxlength : "활동 유형은 30자를 넘을 수 없습니다." }/** 활동 유형 */
                 }
            });

        }

        function goPrev(){
            document.dstnctnForm.action = "/front/dsgnPrgrm/evlForm.html";    //평가
            $("#ldrQlfcForm").submit();
        }

        function goNext(){
//             if($("#ldrQlfcForm").valid() == false) return;
            doSave("next");
        }

        function doSave(call){

            if(!confirm("저장하시겠습니까?")) return;
            var param={};


            $("#ldrTbody [id^=se           ]").each(function(index,item){ param["ldrLst["+index+"].se"] = item.value; });
            $("#ldrTbody [id^=nm           ]").each(function(index,item){ param["ldrLst["+index+"].nm"] = item.value; });/** 이름 */
            $("#ldrTbody [id^=taskCn       ]").each(function(index,item){ param["ldrLst["+index+"].taskCn"] = item.value; });/** 업무 내용 */
            $("#ldrTbody [id^=snrstfdvlprYn]").each(function(index,item){ param["ldrLst["+index+"].snrstfdvlprYn"] = item.value; });/** 책임개발자 여부 */

            //학력
            $("#acbgTbody [id^=acbgid]").each(function(index,item){ param["acbgLst["+index+"].acbgid"] = item.value; });/** 학력아이디 */
            $("#acbgTbody [id^=bgngDe]").each(function(index,item){ param["acbgLst["+index+"].bgngDe"] = item.value; });/** 시작 일자 */
            $("#acbgTbody [id^=endDe]").each(function(index,item){ param["acbgLst["+index+"].endDe"] = item.value; });/** 종료 일자 */
            $("#acbgTbody [id^=schlNm]").each(function(index,item){ param["acbgLst["+index+"].schlNm"] = item.value; });/** 학교 이름 */
            $("#acbgTbody [id^=mjr]").each(function(index,item){ param["acbgLst["+index+"].mjr"] = item.value; });/** 전공 */
            $("#acbgTbody [id^=dgr]").each(function(index,item){ param["acbgLst["+index+"].dgr"] = item.value; });/** 학위 */

            //이력
            param["prgrmid"]= $("#prgrmid").val();
            param["hstryid"]= $("#hstryid").val();
            param["nm"]= $("#nm").val();
            param["brdt"]= $("#brdt").val();


            //자격
            $("#qlfcTbody [id^=qlfcNm]").each(function(index,item){ param["qlfcLst["+index+"].qlfcNm"] = item.value; });    /** 자격 아이디 */
            $("#qlfcTbody [id^=grd]   ").each(function(index,item){ param["qlfcLst["+index+"].grd"   ] = item.value; });    /** 급수 */
            $("#qlfcTbody [id^=acqsDe]").each(function(index,item){ param["qlfcLst["+index+"].acqsDe"] = item.value; });    /** 취득일자 */
            $("#qlfcTbody [id^=wrkplc]").each(function(index,item){ param["qlfcLst["+index+"].wrkplc"] = item.value; });    /** 발령청*/

            //경력
            $("#careerTbody [id^=bgngDe   ]").each(function(index,item){ param["careerLst["+index+"].bgngDe"] = item.value; });    /** 시작일 */
            $("#careerTbody [id^=endDe    ]").each(function(index,item){ param["careerLst["+index+"].endDe"] = item.value; });    /** 종료일 */
            $("#careerTbody [id^=actvtNm  ]").each(function(index,item){ param["careerLst["+index+"].actvtNm"] = item.value; });    /** 활동명 */
            $("#careerTbody [id^=actvtType]").each(function(index,item){ param["careerLst["+index+"].actvtType"] = item.value; });    /** 활동 유형 */

            $.ajax({
                url : insertUrl,
                type: 'POST',
                cache : false,
                dataType: 'json',
                data: param,
                success : function (data){
                    if(data.result=="success"){

                        if(call == "next") {
                            document.ldrQlfcForm.action = nextUrl;
                            $("#ldrQlfcForm").submit();
                        }else{
                            alert(data.msg);
                            document.ldrQlfcForm.action = reUrl;
                        }
                        $("#ldrQlfcForm").submit();
                    }else{
                        alert(data.msg);
                    }
                },
                error : function (error){
                }
            });
        }

        //####################### ldrList
        function setLdrList() {
        	var lst = ldrList;
        	var idx = 1;
        	var html="";

        	var se;
        	var nm;
        	var taskCn;

        	for( var i=0; i < lst.length; i++ ){

        		se     = (idx == 1) ? "책임개발자" : lst[i].se == null ? "" : lst[i].se;
        		nm     = lst[i].nm == null ? "" : lst[i].nm;
        		taskCn = lst[i].taskCn == null ? "" : lst[i].taskCn ;
            	html   =
            	`/**/
                	<tr id="ldrTr${idx}">
                    <td><input type="text" title="구분" class="ac" id="se${idx}" name="se${idx}" value="${se}" ></td>
                        <td><input type="text" title="성명" class="ac" id="nm${idx}" name="nm${idx}" value="${nm}" ></td>
                        <td><input type="text" title="업무내용" id="taskCn${idx}" name="taskCn${idx}" value="${taskCn}"></td>
                        <td class="ac">
                `/**/
                html   += (idx != 1) ?
                		`<button type="button" class="btn-remove-table" title="열 삭제" id="delLdrBtn${idx}" onclick="delLdr(${idx})">
                		    <span class="icon icon-remove"></span>
                        </button>`:``;
                `/**/
                        </td>
                    </tr>
                `/**/

                $("#ldrTbody").append(html);
                idx++;
        	}
        }

        function addLdr(){
        	var html ="";
        	var idx = $("[id^=ldrTr]").length + 1;
            html   =
            `/**/
                <tr id="ldrTr${idx}">
                <td><input type="text" title="구분" class="ac" id="se${idx}" name="se${idx}" value="" ></td>
                    <td><input type="text" title="성명" class="ac" id="nm${idx}" name="nm${idx}" value="" ></td>
                    <td><input type="text" title="업무내용" id="taskCn${idx}" name="taskCn${idx}" value="" ></td>
                    <td class="ac">
                    <button type="button" class="btn-remove-table" title="열 삭제" id="delLdrBtn${idx}" onclick="delLdr(${idx})">
                        <span class="icon icon-remove"></span>
                    </button>
                    </td>
                </tr>
            `/**/

            $("#ldrTbody").append(html);

        }

        function delLdr(id){
        	$("#ldrTr"+id).remove();
        }

        //####################### ldr

        //####################### acbgList

        function setAcbgList(){

        	var lst = acbgList;
            var idx = 1;
            var html="";
            var acbgid;
            var bgngDe;
            var endDe ;
            var schlNm;
            var mjr   ;
            var dgr   ;

            for( var i=0; i < lst.length; i++ ){

                acbgid  = lst[i].acbgid == null ? "" : lst[i].acbgid
                bgngDe  = lst[i].bgngDe == null ? "" : lst[i].bgngDe
                endDe   = lst[i].endDe  == null ? "" : lst[i].endDe
                schlNm  = lst[i].schlNm == null ? "" : lst[i].schlNm
                mjr     = lst[i].mjr    == null ? "" : lst[i].mjr
                dgr     = lst[i].dgr    == null ? "" : lst[i].dgr

            	html= `
                <tr id="acbgTr${idx}">
                    <td>
                        <div class="form-input">
                            <input type="hidden" id="acbgid${idx}" name="acbgid${idx}" value="${acbgid}" >
                            <input type="date" title="기간 시작일" style="flex:1 1 100%;" id="bgngDe${idx}" name="bgngDe${idx}" value="${bgngDe}" >
                            <div class="bul">~</div>
                            <input type="date" title="기간 종료일" style="flex:1 1 100%;" id="endDe${idx}" name="endDe${idx}" value="${endDe}" >
                        </div>
                    </td>
                    <td>
                        <input type="text" title="학교명" id="schlNm${idx}" name="schlNm${idx}" value="${schlNm}" >
                    </td>
                    <td>
                        <input type="text" title="전공" id="mjr${idx}" name="mjr${idx}" value="${mjr}" >
                    </td>
                    <td>
                        <input type="text" title="학위" id="dgr${idx}" name="dgr${idx}" value="${dgr}" >
                    </td>
                    <td class="ac">
                `

                html+= (idx != 1) ? `
                        <button type="button" class="btn-remove-table" title="열 삭제" id="btnDelAcbg" onclick="delAcbg(${idx})">
                            <span class="icon icon-remove"></span>
                        </button>` :"";

                html+= `
                    </td>
                </tr>
                `

                $("#acbgTbody").append(html);
                idx++;
            }

        }

        function addAcbg(){

            var html ="";
            var idx = $("[id^=acbgTr]").length + 1;

            html   =
            `
            <tr id="acbgTr${idx}">
                <td>
                    <div class="form-input">
                        <input type="hidden" id="acbgid${idx}" name="acbgid${idx}" value="" >
                        <input type="date" title="기간 시작일" style="flex:1 1 100%;" id="bgngDe${idx}" name="bgngDe${idx}" value="" >
                        <div class="bul">~</div>
                        <input type="date" title="기간 종료일" style="flex:1 1 100%;" id="endDe${idx}" name="endDe${idx}" value="" >
                    </div>
                </td>
                <td>
                    <input type="text" title="학교명" id="schlNm${idx}" name="schlNm${idx}" value="" >
                </td>
                <td>
                    <input type="text" title="전공" id="mjr${idx}" name="mjr${idx}" value="" >
                </td>
                <td>
                    <input type="text" title="학위" id="dgr${idx}" name="dgr${idx}" value="" >
                </td>
                <td class="ac">
                    <button type="button" class="btn-remove-table" title="열 삭제" id="btnDelAcbg" onclick="delAcbg(${idx})">
                        <span class="icon icon-remove"></span>
                    </button>
                </td>
            </tr>
            `/**/
            $("#acbgTbody").append(html);

        }

        function delAcbg(id){
            $("#acbgTr"+id).remove();

        }

      //####################### acbgList

      //####################### qlfcList
        function setQlfcList(){

            var lst = qlfcList;
            var idx = 1;
            var html="";
            var qlfcid;
            var qlfcNm;
            var grd;
            var acqsDe;
            var wrkplc;

            for( var i=0; i < lst.length; i++ ){

                qlfcid = lst[i].qlfcid == null ? "" : lst[i].qlfcid;
                qlfcNm = lst[i].qlfcNm == null ? "" : lst[i].qlfcNm;
                grd    = lst[i].grd    == null ? "" : lst[i].grd;
                acqsDe = lst[i].acqsDe == null ? "" : lst[i].acqsDe;
                wrkplc = lst[i].wrkplc == null ? "" : lst[i].wrkplc;

                html= `
                	<tr id="qlfcTr${idx}">
                    <td><input type="text" title="자격명" id="qlfcNm${idx}" name="qlfcNm${idx}" value="${qlfcNm}" ></td>
                    <td><input type="text" title="급수"   id="grd${idx}"    name="grd${idx}"    value="${grd}" ></td>
                    <td><input type="date" title="취득일" id="acqsDe${idx}" name="acqsDe${idx}" value="${acqsDe}" ></td>
                    <td><input type="text" title="발령청" id="wrkplc${idx}" name="wrkplc${idx}" value="${wrkplc}" ></td>
                `

                html+= (idx != 1) ? `
                    <td class="ac">
                        <button type="button" class="btn-remove-table" title="열 삭제" onclick="delQlfc(${idx})">
                            <span class="icon icon-remove"></span>
                        </button>` :"";
                html+= `
                    </td>
                </tr>
                `
                $("#qlfcTbody").append(html);
                idx++;
            }

        }

        function addQlfc(){

            var html ="";
            var idx = $("[id^=qlfcTr]").length + 1;

            html   =
            `/**/
                <tr id="qlfcTr${idx}">
                    <td><input type="text" title="자격명" id="qlfcNm${idx}" name="qlfcNm${idx}"  value="" ></td>
                    <td><input type="text" title="급수"   id="grd${idx}"    name="grd${idx}"     value="" ></td>
                    <td><input type="date" title="취득일" id="acqsDe${idx}" name="acqsDe${idx}"  value="" ></td>
                    <td><input type="text" title="발령청" id="wrkplc${idx}" name="wrkplc${idx}"  value="" ></td>
                    <td class="ac">
                        <button type="button" class="btn-remove-table" title="열 삭제" onclick="delQlfc(${idx})">
                            <span class="icon icon-remove"></span>
                        </button>
                    </td>
                </tr>
            `/**/
            $("#qlfcTbody").append(html);
        }

        function delQlfc(id){
            $("#qlfcTr"+id).remove();
        }
      //####################### qlfcList

      //####################### careerList
        function setCareerList(){

            var lst = careerList;
            var idx = 1;
            var html="";
            var careerid;
            var bgngDe;
            var endDe;
            var actvtNm;
            var actvtType;

            for( var i=0; i < lst.length; i++ ){

                careerid  = lst[i].careerid  == null ? "" : lst[i].careerid;
                bgngDe    = lst[i].bgngDe    == null ? "" : lst[i].bgngDe;
                endDe     = lst[i].endDe     == null ? "" : lst[i].endDe;
                actvtNm   = lst[i].actvtNm   == null ? "" : lst[i].actvtNm;
                actvtType = lst[i].actvtType == null ? "" : lst[i].actvtType;

                html= `
                <tr id="careerTr${idx}">
                    <td>
                        <div class="form-input">
                            <input type="date" title="기간 시작일" style="flex:1 1 100%;" id="bgngDe${idx}" name="bgngDe${idx}" value="${bgngDe}" >
                            <div class="bul">~</div>
                            <input type="date" title="기간 종료일" style="flex:1 1 100%;" id="endDe${idx}" name="endDe${idx}" value="${endDe}" >
                        </div>
                    </td>
                    <td><input type="text" title="활동(기관) 명" id="actvtNm${idx}" name="actvtNm${idx}" value="${actvtNm}" ></td>
                    <td><input type="text" title="활동유형" id="actvtType${idx}" name="actvtType${idx}" value="${actvtType}" ></td>
                    <td class="ac">
                `

                html+= (idx != 1) ? `
                        <button type="button" class="btn-remove-table" title="열 삭제" onclick="delCareer(${idx})">
                            <span class="icon icon-remove"></span>
                        </button>` :"";
                html+= `
                    </td>
                </tr>
                `
                $("#careerTbody").append(html);
                idx++;
            }

        }

        function addCareer(){

            var html ="";
            var idx = $("[id^=careerTr]").length + 1;

            html   =
            `/**/
                <tr id="careerTr${idx}">
                    <td>
                        <div class="form-input">
                            <input type="date" title="기간 시작일" style="flex:1 1 100%;" id="bgngDe${idx}" name="bgngDe${idx}" value="" >
                            <div class="bul">~</div>
                            <input type="date" title="기간 종료일" style="flex:1 1 100%;" id="endDe${idx}" name="endDe${idx}" value="" >
                        </div>
                    </td>
                    <td><input type="text" title="활동(기관) 명" id="actvtNm${idx}" name="actvtNm${idx}" value="" ></td>
                    <td><input type="text" title="활동유형" id="actvtType${idx}" name="actvtType${idx}" value="" ></td>
                    <td class="ac">
                        <button type="button" class="btn-remove-table" title="열 삭제" onclick="delCareer(${idx})">
                            <span class="icon icon-remove"></span>
                        </button>
                    </td>
                </tr>
            `/**/

            $("#careerTbody").append(html);
        }

        function delCareer(id){
            $("#careerTr"+id).remove();
        }
      //####################### careerList

        $(function() {

            setLdrList();
            setAcbgList();
            setQlfcList();
            setCareerList();
        });

        </script>
    </div>

</body>
</html>