<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout/front/subLayout">

<div layout:fragment="content">
    <div class="terms-info">
        <div class="thumb"><img src="/images/front/terms/terms-thumb01.png" alt=""></div>
        <p>환경교육사 제도는 시범운영('15~'16)을 거쳐 2017년부터 본격적으로 시행되었습니다.<br>2017년부터 양성과정 지정·운영이 시작되어, 현재 총 11개 기관에서 환경교육사 양성과정을 운영하고 있습니다.</p>
    </div>

    <div class="edu-list type3">
        <ul id="list-area">
        </ul>
    </div>
    
    <script th:inline="javascript">
   	var list = /*[[${list}]]*/ null;
   	var listTag = "";
   	var hmpgTag = "";
   	var mo_hmpgTag = "";
   	
   	list.forEach(function(item) {
   		if(item.telno != "") {
	   		item.telno = item.telno.replace(/^(\d{2,3})(\d{3,4})(\d{4})$/, `$1-$2-$3`);   			
   		}else {
   			item.telno = '-'
   		}
   		
   		if(item.fxno != "") {
	   		item.fxno = item.fxno.replace(/^(\d{2,3})(\d{3,4})(\d{4})$/, `$1-$2-$3`);   			
   		}else {
   			item.fxno = '-'
   		}
   		
   		if(item.hmpg != "") {
			if(!((item.hmpg.includes("https://") || item.hmpg.includes("http://")))){
				item.hmpg = "https://" + item.hmpg;
			}
			hmpgTag = `<div class="pc-btn"><button type="button" class="btn-medium"><a href="${item.hmpg}" target="_blank" rel="noopener noreferrer" title="새창열림">홈페이지 바로가기</a></button></div>`;
			mo_hmpgTag = `<div class="mo-only mo-btn"><button type="button" class="btn-medium btn-green"><a href="${item.hmpg}" target="_blank" rel="noopener noreferrer" title="새창열림">홈페이지 바로가기</a></button></div>`;
		}
   		
   		listTag += `
        <li>
            <dl>
                <dt>${item.instNm}(${item.grdcdNm})</dt>
                <dd class="logo"><img src="/downloadFileByFileid.do?fileid=${item.logoFileid}&file_idntfc_key=${item.fileIdntfcKey}" alt="${item.instNm}" onerror="this.src='/images/front/bg/bg-noimage.png'; this.style.objectFit='none';"></dd>
                <dd>
                    <ul class="dot-list">
                        <li class="d-flex">
                            <span class="tit">TEL</span>
                            <span class="dc">${item.telno}</span>
                        </li>
                        <li class="d-flex">
                            <span class="tit">FAX</span>
                            <span class="dc">${item.fxno}</span>
                        </li>
                        <li class="d-flex">
                            <span class="tit">주소</span>
                            <span class="dc">${item.addr}</span>
                        </li>
                    </ul>
                </dd>
            </dl>
            <div class="detail">
                <dl>
                    <dt>${item.instNm}(${item.grdcdNm})</dt>
                    <dd>${item.expln}</dd>
                </dl>
                ${hmpgTag}
            </div>
            ${mo_hmpgTag}
        </li>
   		`;
   	});
    
   	$("#list-area").html(listTag);
   	
    </script>
</div>
</html>