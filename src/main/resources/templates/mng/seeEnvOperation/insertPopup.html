<form id="insertFrm">
<input type="hidden" id="aplyid" name="aplyid" th:value="${aplyid}">
<input type="hidden" id="sttsCd" name="sttsCd" value="248104">

<!-- [팝업] 지정정보 변경 -->
<div class="modal-dialog modal-md" role="document">
    <div class="modal-content type_2">
        <div class="modal-header">
            <h4 class="modal-title">지정정보 변경</h4>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                <span aria-hidden="true"></span>
            </button>
        </div>
        <div class="modal-body">
            <div class="card m-b-10">
                <div class="card-block-small">
                    <div class="mb-3 form-group row">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>진행상태</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" name="" id="" placeholder="" th:value="${sttsMsg}" readonly=""/>
                        </div>
                    </div>
                    <div class="mb-3 form-group row required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>지정번호</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" name="dsgnno" id="dsgnno" placeholder="" value=""/>
                        </div>
                    </div>
                    <div class="mb-0 form-group row required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>지정 획득일</strong></label>
                        <div class="col-12">
                            <input type="date" class="form-control form-control-sm" name="dsgnDe" id="dsgnDe" placeholder="" th:value="${#calendars.format(#calendars.createNow(), 'yyyy-MM-dd')}"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary waves-effect waves-light" onclick="save(); return false;">저장</button>
        </div>
    </div>
</div>
<!-- //[팝업] 지정정보 변경 -->
</form>


<script th:inline="javascript">
function save() {
	if($("#dsgnno").val() == "" || $("#dsgnno").val() == null) {
		alert("지정번호를 입력하십시오.");
		return;
	}
	if($("#dsgnDe").val() == "" || $("#dsgnDe").val() == null) {
		alert("지정 획득일을 선택하십시오.");
		return;
	}
    if(!confirm("저장 하시겠습니까?")) return;
    var data =  $("#insertFrm").serialize();
    if(displayWorkProgress()){
        $.ajax({
            url : saveUrl,
            type: 'POST',
            cache : false,
            dataType: 'json',
            data : data,
            success : function (data){
                if(data.result=="success"){
                    alert(data.msg);
                    gridHelper1.resetListContent();                         
	                insertModal.hide();
                }else{
                    alert(data.msg);
                }
                closeWorkProgress();
            }
        });
    }
}
</script>
</body>
</html>