<div class="col-12">
    <div class="card">
        <div class="card-header p-b-0">
            <ul class="nav nav-tabs  tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#trprSrvy" id="trprSrvy" role="tab"><strong>대상자 설문</strong></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#instSrvy" id="instSrvy" role="tab"><strong>기관 설문</strong></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#cnsltngDgstfnSrvy" id="cnsltngDgstfnSrvy" role="tab"><strong>컨설팅만족도 설문</strong></a>
                </li>
            </ul>
        </div>
        <div class="tab-content tabs p-t-20">
            <div class="tab-pane active" id="trprSrvy" role="tabpanel">
                <div class="card-block-small">
                    <div class="col-12 col-lg-6">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>키워드</strong></div>
                            <div class="input-group input-group-sm input-group-dropdown mb-0">
                                <select name="searchType" id="searchType" class="form-select form-control form-control-primary form-bg-primary">
                                    <option value="">- 선택 -</option>
                                    <option value="srvyNm">설문명</option>
                                </select>
                                <input type="text" class="form-control" name="searchKeyword" id="searchKeyword" aria-label="Text input with dropdown button"/>
                            </div>
                        </div>
                    </div>
                    <div class="m-t-20 text-center">
                        <button class="btn btn-disabled m-r-5">초기화</button>
                        <button class="btn btn-primary">검색</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-12">
    <div class="card">
        <div class="row p-20 p-b-0">
            <div class="col-12 col-md-6">
                <h5><strong>설문 검색 결과</strong></h5>
            </div>
            <div class="col-12 col-md-6 text-right">
                <button type="button" class="btn btn-primary waves-effect waves-light">등록</button>
            </div>
        </div>
        <div class="card-block-small">
            <table id="srvyGrid" class="table-responsive"></table>
            <div id="srvyPager" class="text-center"></div>
        </div>
    </div>
</div>
<div class="col-12">
    <div class="row">
        <div class="col-12 col-lg-6">
            <div id="contentPanel" class="card" style="display: none;">
            </div>
        </div>
    </div>
</div>

<script th:inline="javascript">
    var cnsltngDgstfnSrvy = {
        init: function() {
            this.registEvent();
        },
        
        registEvent: function() {
            var _this = this;
            $(".nav-tabs a").on("show.bs.tab", function(event) {
                var tabId = event.currentTarget.attributes.id.value;
                _this.selectTab(tabId);
            });
        },
        
        selectTab: function(tabId) {
            var uri; 
            if(tabId == "trprSrvy") {
                uri = "/mng/srvy/trprSrvy.html";
            } else if(tabId == "instSrvy") {
                uri = "/mng/srvy/instSrvy.html";
            } else if(tabId == "cnsltngDgstfnSrvy") {
                uri = "/mng/srvy/cnsltngDgstfnSrvy.html";
            }
            this.loadTabContent(uri);
        },
        
        loadTabContent: function(uri) {
            $.ajax({
                cache: false,
                url: uri, 
                type: "GET",
                async: "false",
                dataType: "html",
                success: function(result) { //요청이 성공했을때 실행되는 콜백 함수
                    $("#tabContent").html(result);
                    scrollIntoView("contentPanel");
                }
            });
        }
    };
    
    cnsltngDgstfnSrvy.init();
</script>