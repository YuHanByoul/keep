    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content type_2">
        
            <div class="modal-header">
                <h4 class="modal-title">예약일 일괄 등록</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"></span>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="card m-b-10">
                    <div class="card-block-small">
                    
                    
                        <div class="card-header p-b-0 mx-3 row bg-light rounded-3 justify-content-between">
                            <div class="col-12 col-lg-auto form-group row align-items-center">
                            
                                <div class="col-auto p-l-0 p-r-0">
                                    <strong>이용 구분</strong>
                                </div>
                                
                                <div class="col-auto form-radio">
                                    <div class="radio d-inline-block">
                                        <label class="mb-0 form-label">
                                            <input type="radio" name="utztnSeCd" class="radio-toggle" data-value="useStatusSelectAll1" value="169101"  >
                                            <i class="helper"></i>숙박
                                        </label>
                                    </div>
                                    <div class="radio d-inline-block m-l-10">
                                        <label class="mb-0 form-label">
                                            <input type="radio" name="utztnSeCd" class="radio-toggle" data-value="useStatusSelectAll2" value="169102"  checked>
                                            <i class="helper"></i>대여
                                        </label>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                        
                        <!--html load area start  -->
                        <div class="con-pane" id="useStatusSelectAll1">
                            <div class="card-header p-b-0">
                                <h3 class="sub-title"><strong>예약일 설정</strong></h3>
                            </div>
                            
	                        <!-- 예약일 설정 -->
                            <div class="card-block-small p-t-0">
                                <div class="mb-0 row">
                                    <div class="col-12 col-lg-6 mb-2 mb-lg-0">
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-12 col-lg-6 mb-2 mb-lg-0">
                                                    <div class="mb-0 form-group required">
                                                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveStartDate"><strong>예약 시작일</strong></label>
                                                        <div class="col-12">
                                                            <input type="date" class="form-control form-control-sm" name="rsvtStrtDt" id="rsvtStrtDt" placeholder="Text Input Validation">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-lg-6">
                                                    <div class="mb-0 form-group required">
                                                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveEndDate"><strong>예약 종료일</strong></label>
                                                        <div class="col-12">
                                                            <input type="date" class="form-control form-control-sm" name="rsvtStrtDt" id="rsvtStrtDt" placeholder="Text Input Validation">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6">
                                        <div class="mb-0 form-group required">
                                        
                                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>제외 요일선택</strong></div>
                                            
                                            <div class="border-checkbox-section">
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay1" id="exceptDay1" value="1">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay1">
                                                        월
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay2" id="exceptDay2" value="2">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay2">
                                                        화
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay3" id="exceptDay3" value="3">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay3">
                                                        수
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay4" id="exceptDay4" value="4">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay4">
                                                        목
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay5" id="exceptDay5" value="5">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay5">
                                                        금
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay6" id="exceptDay6" value="6">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay6">
                                                        토
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay0" id="exceptDay0" value="0">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay0">
                                                        일
                                                    </label>
                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card-header p-b-0">
                                <h3 class="sub-title"><strong>금액 설정</strong></h3>
                            </div>
                            
                            <div class="card-block-small p-t-0" id="insertFormListArea">
                            
                               <form class="insert-form" id="" >
                                <div class="row align-items-center insert-form">
                                    <div class="col-10 row">
                                        <div class="col-12 col-lg-7 mb-3">
                                            <div class="mb-0 form-group required">
                                                <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>요일선택</strong></div>
                                                <div class="border-checkbox-section">
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPaymentDay" id="reserveDatePackageInsertPopupPayment1Day1">
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day1">
                                                            월
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day2">
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day2">
                                                            화
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day3">
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day3">
                                                            수
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day4">
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day4">
                                                            목
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day5">
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day5">
                                                            금
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day6" disabled>
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day6">
                                                            토
                                                        </label>
                                                    </div>
                                                    <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                        <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day7" disabled>
                                                        <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day7">
                                                            일
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-lg-5 mb-3">
                                            <div class="mb-0 form-group required">
                                                <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveDatePackageInsertPopupPayment1"><strong>금액설정(1박 기준)</strong></label>
                                                <div class="col-12 row align-items-center">
                                                    <div class="col-auto">
                                                        <input type="text" class="col-lg-auto form-control form-control-sm" name="reserveDatePackageInsertPopupPayment1" id="reserveDatePackageInsertPopupPayment1" placeholder="Text Input Validation" value="keepgo">
                                                    </div>
                                                    <div class="col-auto p-l-0 p-r-0">
                                                        원
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="border-checkbox-section">
                                                            <div class="border-checkbox-group border-checkbox-group-inverse">
                                                                <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1SettingFree" id="reserveDatePackageInsertPopupPayment1SettingFree">
                                                                <label class="form-label form-label-sm border-checkbox-label mb-0" for="reserveDatePackageInsertPopupPayment1SettingFree">
                                                                    무료
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-2">
                                        <div class="input-group-text btn btn-primary" onclick="addInsertForm()">+</div>
                                    </div>
                                </div>
                                </form>
                                
                                
                                
                            </div>
                        </div>
                        
                        
                        
                        
                        
                        
                        <!--**********************************************************************************************************************************  -->
                        
                        
                        
                        <!-- 대여 일괄 등록 설정    -->
                        <div class="con-pane" id="useStatusSelectAll2" style="display:none;">
                            <div class="card-header p-b-0">
                                <h3 class="sub-title"><strong>예약일 설정</strong></h3>
                            </div>
                            <div class="card-block-small p-t-0">
                                <div class="mb-0 row">
                                    <div class="col-12 col-lg-6 mb-2 mb-lg-0">
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-12 col-lg-6 mb-2 mb-lg-0">
                                                    <div class="mb-0 form-group required">
                                                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveStartDate"><strong>예약 시작일</strong></label>
                                                        <div class="col-12">
                                                            <input type="date" class="form-control form-control-sm" name="reserveStartDate" id="reserveStartDate" placeholder="Text Input Validation">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-lg-6">
                                                    <div class="mb-0 form-group required">
                                                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveEndDate"><strong>예약 종료일</strong></label>
                                                        <div class="col-12">
                                                            <input type="date" class="form-control form-control-sm" name="reserveEndDate" id="reserveEndDate" placeholder="Text Input Validation">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6">
                                        <div class="mb-0 form-group required">
                                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>제외 요일선택</strong></div>
                                            <div class="border-checkbox-section">
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay1">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay1">
                                                        월
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay2">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay2">
                                                        화
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay3">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay3">
                                                        수
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay4">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay4">
                                                        목
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay5">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay5">
                                                        금
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay6">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay6">
                                                        토
                                                    </label>
                                                </div>
                                                <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                                                    <input class="border-checkbox" type="checkbox" name="exceptDay" id="exceptDay7">
                                                    <label class="form-label form-label-sm border-checkbox-label" for="exceptDay7">
                                                        일
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-header p-b-0">
                                <h3 class="sub-title"><strong>시간별 금액설정</strong></h3>
                            </div>
                            
                            <div class="card-block-small p-t-0">
                                <div class="col-12 table-border-style">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <colgroup>
                                                <col style="width:40%">
                                                <col style="width:40%">
                                                <col style="width:20%">
                                            </colgroup>
                                            <thead>
                                            <tr>
                                                <th class="text-center v-middle">예약시간</th>
                                                <th class="text-center v-middle">금액</th>
                                                <th class="text-center v-middle">사용여부<input type="hidden" class="js-single"></th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td class="text-center v-middle">
                                                    <div class="col-12 row m-0 justify-content-center">
                                                        <div class="col-auto p-0">
                                                            <input type="time" class="form-control form-control-sm" name="paymentPerTime1StartTime" id="paymentPerTime1StartTime" placeholder="Text Input Validation" value="14">
                                                        </div>
                                                        <div class="col-auto p-l-5 p-r-5">
                                                            -
                                                        </div>
                                                        <div class="col-auto p-0">
                                                            <input type="time" class="form-control form-control-sm" name="paymentPerTime1EndTime" id="paymentPerTime1EndTime" placeholder="Text Input Validation" value="10">
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="text-center v-middle">
                                                    <div class="align-items-center col-12 justify-content-center m-0 row">
                                                        <div class="col-auto p-l-0">
                                                            <input type="text" class="col-lg-auto form-control form-control-sm text-right" name="paymentPerTime1payment" id="paymentPerTime1payment" placeholder="Text Input Validation" value="keepgo" style="width:88px;">
                                                        </div>
                                                        <div class="col-auto p-l-0 p-r-0">
                                                            원
                                                        </div>
                                                        <div class="col-auto p-r-0">
                                                            <div class="border-checkbox-section">
                                                                <div class="border-checkbox-group border-checkbox-group-inverse">
                                                                    <input class="border-checkbox" type="checkbox" name="paymentPerTime1paymentFree" id="paymentPerTime1paymentFree">
                                                                    <label class="form-label form-label-sm border-checkbox-label m-0" for="paymentPerTime1paymentFree">
                                                                        무료
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="text-center v-middle">
                                                    <input type="checkbox" class="js-single-small" name="paymentPerTime1UseStatus" id="paymentPerTime1UseStatus" checked="">
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        
                        
                        
                     <!--html load area end  -->
                    </div>
                </div>
                
            </div>
            <!--ㅡmodal body end  -->
            
            
            <div class="modal-footer">
                <button type="button" class="btn btn-primary waves-effect waves-light">저장</button>
            </div>
            
        </div>
        
    </div>
    
  <script type="text/javascript" src="/files/assets/pages/advance-elements/swithces.js"></script>
  <script type="text/javascript" src="/files/assets/pages/advance-elements/select2-custom.js"></script>
  
  
  <script  id="insertForm" type="text/x-handlebars-template">

    <form class="insert-form" id="" >
    <div class="row align-items-center ">
        <div class="col-10 row">
            <div class="col-12 col-lg-7 mb-3">
                <div class="mb-0 form-group required">
                    <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>요일선택</strong></div>
                    <div class="border-checkbox-section">
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day1">
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day1">
                                월
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day2">
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day2">
                                화
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day3">
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day3">
                                수
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day4">
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day4">
                                목
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day5">
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day5">
                                금
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day6" disabled>
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day6">
                                토
                            </label>
                        </div>
                        <div class="border-checkbox-group border-checkbox-group-inverse d-inline-block">
                            <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1Day" id="reserveDatePackageInsertPopupPayment1Day7" disabled>
                            <label class="form-label form-label-sm border-checkbox-label" for="reserveDatePackageInsertPopupPayment1Day7">
                                일
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-5 mb-3">
                <div class="mb-0 form-group required">
                    <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="reserveDatePackageInsertPopupPayment1"><strong>금액설정(1박 기준)</strong></label>
                    <div class="col-12 row align-items-center">
                        <div class="col-auto">
                            <input type="text" class="col-lg-auto form-control form-control-sm" name="reserveDatePackageInsertPopupPayment1" id="reserveDatePackageInsertPopupPayment1" placeholder="Text Input Validation" value="keepgo">
                        </div>
                        <div class="col-auto p-l-0 p-r-0">
                            원
                        </div>
                        <div class="col-auto">
                            <div class="border-checkbox-section">
                                <div class="border-checkbox-group border-checkbox-group-inverse">
                                    <input class="border-checkbox" type="checkbox" name="reserveDatePackageInsertPopupPayment1SettingFree" id="reserveDatePackageInsertPopupPayment1SettingFree">
                                    <label class="form-label form-label-sm border-checkbox-label mb-0" for="reserveDatePackageInsertPopupPayment1SettingFree">
                                        무료
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-2">
            <div type="button" class="input-group-text btn btn-primary" onclick="exceptInsertForm()">-</div>
            <div type="button" class="input-group-text btn btn-primary" onclick="addInsertForm()">+</div>
        </div>
    </div>
    <form>
  </script>
  
  <script th:inline="javascript">


    var insertFromNum = 1 ; 


    $(document).ready(function () {
        //숙박 대여 선택
        $('.radio-toggle').on("click",function() {
            var val = $(this).attr('data-value');
            $("#" + val).show().siblings('.con-pane').hide();
        });
    
        // 예약설정 더보기
        $('.popup-more').on("click",function(){
            $(this).parent().next('.layer-schedule').show();
            $('.close-area .btn-close').on("click",function() {
                $(this).parents('.layer-schedule').hide();
            })
        })
    })
    
    function addInsertForm(){
        
    	console.log('addInsertForm');
    	insertFromNum++;
    	console.log(insertFromNum);

       //핸들바 템플릿 가져오기
         var source = $("#insertForm").html(); 

         //핸들바 템플릿 컴파일
         var template = Handlebars.compile(source); 

         //핸들바 템플릿에 바인딩할 데이터
         var data = {
                 users: [
                     { name: "홍길동1", id: "aaa1", email: "aaa1@gmail.com" },
                     { name: "홍길동2", id: "aaa2", email: "aaa2@gmail.com" },
                     { name: "홍길동3", id: "aaa3", email: "aaa3@gmail.com" },
                     { name: "홍길동4", id: "aaa4", email: "aaa4@gmail.com" },
                     { name: "홍길동5", id: "aaa5", email: "aaa5@gmail.com" }
                 ]
         }; 

         //핸들바 템플릿에 데이터를 바인딩해서 HTML 생성
         var html = template();
         
         $("#insertFormListArea").append(html);

              
    }


    
    var selectedItems = [];
    var gridHelper1;         
    $(function(){
        //gridHelper1 = new GridHelper('subJsGrid','contentPanel');
        writeManagerModalGridData();
    });

    searchManagerList = () =>{
        $("#instManagerModalGrid").jsGrid("reset");
    }
    
    initSearchManager = () =>{
    	$("#searchManagerModalFrm #searchType").val("");
    	$("#searchManagerModalFrm  #searchKeyword").val("");
    }
    
    function writeManagerModalGridData(){
        
        $("#instManagerModalGrid").jsGrid({
            height: "auto",
            width: "100%",
            autoload: true,
            sorting: true,
            paging: true,
            pagerContainer: "#listPager3",
            pagerFormat: "{first} {prev} {pages} {next} {last}",
            pagePrevText: "이전",
            pageNextText: "다음",
            pageFirstText: " < 처음 ㅣ",
            pageLastText: " | 마지막 >",
            pageSize: 10,
            pageButtonCount: 10,
            pageLoading: true,
            pageIndex: 1,
            noDataContent: "데이터가 없습니다.",
            
            controller: {
                loadData: function (filter) {
                    var data = $.Deferred();
                                            
                    var formData = $('#searchManagerModalFrm').serializeArray();
                    var params = [
                            {name: "pageNumber", value: filter.pageIndex},
                            {name: "rowPerPage", value: filter.pageSize},
                    ]
                    
                    if(filter.sortField != undefined){
                        params.push({name: "orderField", value: filter.sortField});
                        params.push({name: "orderDirection", value: filter.sortOrder});
                    }else{
                        params.push({name: "orderField", value: 'reg_dt'});
                    }

                    var paramid = {
                    		name:"instid" ,value: $("#searchManagerFrm #instid").val()
                    }

                    formData = formData.concat(params);
                    formData = formData.concat(paramid);

                    $.ajax({
                      type: "GET",
                      contentType: "application/json; charset=utf-8",
                      url: "/mng/inst/selectInstUser.do",
                      dataType: "json",
                      data: formData,
                    }).done(function(response){
                        var da = {
                                data : escapeGridData(response.list)
                                ,itemsCount : response.totalCount
                            };
                      data.resolve(da);
                    });
                    return data.promise();
                },
            },
            fields: [
                 {
                     itemTemplate: function(_, item) {
                         return $("<input>").attr("type", "radio").attr("class", "singleCheckbox3").attr("name","memchk")
                                .attr("value",item.userid).attr("id","memchk_"+item.userid)
                     },
                     align: "center",
                     width: "30",
                     sorting: false
                 }   
                ,{ name: 'userid', css: 'hide' }
                ,{ name: 'nm', css: 'hide' }
                ,{ title: '사용자'   ,name: 'nm'    ,type: "text" , width: "200" 
                    ,itemTemplate:function(value,item){return item.nm +" ( "+item.eml+" )"                        }
                    }
                ,{ title: '핸드폰'  ,name: 'moblphon',type: "text" , width: "150" ,align:"center"}
                ,{ title: '메일'   ,name: 'eml'     ,type: "text" , width: "200" }
            ],
            rowClick: function(args) {
                $("#memchk_"+args.item.userid).prop("checked",true);
                
            }
        });
    }

  var applyInstManager = () =>{
	  
      if($('input[name=memchk]:checked').length <= 0){
          alert("담당자를 선택해주세요");
          return;
      }

      if(!confirm("담당자로 등록 하시겠습니까?"))return; 
      
	  let chekcedUsrid = $('input[name=memchk]:checked').val();

	  var params = {
			  instid : $("#searchManagerFrm #instid").val(),
			  userid : chekcedUsrid 	  
	  }
	  
      if(displayWorkProgress()){
          $.ajax({
              url : "/mng/inst/updateInstUser.do",
              type: 'POST',
              cache : false,
              dataType: 'json',
              data : params,
              success : function (data){
                  alert(data.msg);
			      //담당자 그리드 목록 리셋
				  $("#instMemGrid").jsGrid("reset");
				  instManagerSearchModal.hide();
                  closeWorkProgress();
              }
          });
      }
  }
  
</script>
<script src="/js/ckeditor/ckeditor.js"></script>

</body>
</html>