<!-- [팝업] 꾸러미 개체 추가 -->
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content type_2">
            <div class="modal-header">
                <h4 class="modal-title">꾸러미 개체 추가</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true"></span>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="card m-b-10">
                    <div class="card-block-small">
                        <ul class="box-desc-list">
                        
                            <li class="mb-3"   th:each="item:${packageTchaidLsit}">
                                <p class="mb-1"><strong><th:block th:text="${item.tchaidNm}"/>
                                (<span th:class="(${item.qntyCmpstn > item.qntyInvntry})? 'text-c-pink':''"><th:block th:text="${item.qntyInvntry}"/></span>/<th:block th:text="${item.qntyCmpstn}"/>)
                                </strong></p>
                                <div><th:block th:text="${item.cmpntNms}"/></div>
                                <input type="hidden" class=""   name="addPossibleYn"  th:value="(${item.qntyCmpstn > item.qntyInvntry})? 'N':'Y'" />
                            </li>
                            
                        </ul>
                    </div>
                </div>
            </div>
            
            
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" onclick="createPackageindvd()">꾸러미 개체 생성</button>
            </div>
        </div>
    </div>
<!-- //[팝업] 꾸러미 개체 추가 -->
  <script th:inline="javascript">

  /*<![CDATA[*/ 
  var packageVo = /*[[${packageVo}]]*/null; 
  /*]]>*/
  
  createPackageindvd =()=>{

	   var isEnoughCntToCreatePackageindvd = true;
	   $("input[name=addPossibleYn]").each(function(){
		  if($(this).val() =='N'){
			  isEnoughCntToCreatePackageindvd = false;
		  }
	   })
	   
       if(!isEnoughCntToCreatePackageindvd){
           alert("재고가 부족합니다.");
           return;
       }
       
       if(displayWorkProgress()){
            $.ajax({
                url : "/mng/package/insertPackageindvd.do",
                type: 'POST',
                cache : false,
                dataType: 'json',
                data : {packageid:packageVo.packageid },
                success : function (data){
                    if(data.result=="success"){
                        alert(data.msg);
                        $("#detailJsGrid").jsGrid("reset");
                        packageModal.hide();
                        
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
        
  }  
  
  
  
  

</script>
