    <div class="col-12">
        <!-- 신청정보 -->
		<form id ="instDsgnDetailForm" name="instDsgnDetailForm">
			<input type="hidden" id="aplyid" name="aplyid" th:value="${instDsgnInfo.aplyid}"/>
			<input type="hidden" id="instid" name="instid" th:value="${instDsgnInfo.instid}"/>        
	        <div class="card">
	            <div class="card-header p-b-0">
	                <h3 class="sub-title"><strong>신청정보</strong></h3>
	            </div>
	            <div class="card-block-small p-t-0">
	                <div class="row">
	                    <div class="col-12 col-md-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>시도</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="ctprvnNm" name="ctprvnNm" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.ctprvnNm}" readonly>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-md-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>접수번호</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="rcptno" name="rcptno" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.rcptno}" readonly>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-sm-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>기관명</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="instNm" name="instNm" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.instNm}" readonly>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-sm-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>기관유형</strong></div>
	                            <div class="col-sm-12">
	                                <select id="instTypeCd" name="instTypeCd" class="form-select form-select-sm form-control-sm" disabled>
	                                    <option value="">- 전체 -</option>
	                                    <option th:value="${item.CD}" th:each="item:${typeCdList}" th:selected="${item.CD == instDsgnInfo.instTypeCd}"><th:block th:text="${item.CD_NM}"/></option>
	                                </select>
	                            </div>
	                        </div>     
	                    </div>               
	                </div>
	                <div class="row">
	                    <div class="col-12 col-md-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>대표자명</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="rprsvNm" name="rprsvNm" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.rprsvNm}" readonly>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-md-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group required">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>대표자 생년월일</strong></label>
	                            <div class="col-sm-12">
	                                <input type="date" id="rprsvBrdt" name="rprsvBrdt" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.rprsvBrdt}">
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-sm-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>법인등록번호(사업자등록번호)</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="brno" name="brno" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.brno}" readonly>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-12 col-sm-6 col-lg-3 mb-3">
	                        <div class="mb-0 form-group">
	                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>기관 이메일</strong></label>
	                            <div class="col-sm-12">
	                                <input type="text" id="instEml" name="instEml" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.instEml}" readonly>
	                            </div>
	                        </div>
	                    </div>                    
	                </div>
	                <div class="row">
		                <div class="col-12 col-sm-6 col-lg-3 mb-3">
		                    <div class="mb-0 form-group">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>기관 연락처</strong></label>
		                        <div class="col-sm-12">
		                            <input type="text" id="instCntct" name="instCntct" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.instCntct}"  readonly>
		                        </div>
		                    </div>
		                </div>
		                <div class="col-12 col-sm-6 col-lg-3 mb-3">
		                    <div class="mb-0 form-group required">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>신청자</strong></label>
		                        <div class="d-flex align-items-center">
		                            <div class="col">
		                                <input type="hidden" id="aplcntid" name="aplcntid" th:value="${instDsgnInfo.aplcntid}">
		                                <input type="text" id="aplcntNm" name="aplcntNm" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.aplcntNm}" readonly>
		                            </div>
		                            <div class="col-auto ps-2">
		                                <button type="button" class="btn btn-inverse btn-sm" onclick="openChgAltmntModal();">담당자 변경</button>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		                <div class="col-12 col-sm-6 col-lg-3 mb-3">
		                    <div class="mb-0 form-group required">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>신청자 이메일</strong></label>
		                        <div class="col-sm-12">
		                            <input type="text" id="aplcntEml" name="aplcntEml" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.aplcntEml}">
		                        </div>
		                    </div>
		                </div>
		                <div class="col-12 col-sm-6 col-lg-3 mb-3">
		                    <div class="mb-0 form-group required">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>신청자 연락처</strong></label>
		                        <div class="col-sm-12">
		                            <input type="text" id="aplcntMoblphon" name="aplcntMoblphon" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.aplcntMoblphon}">
		                        </div>
		                    </div>
		                </div>     
	                </div>
		            <div class="row">
		                <div class="col-12 col-lg-6 mb-3">
		                    <div class="mb-0 form-group">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>기관주소</strong></label>
		                        <div class="col-sm-12">
		                            <input type="text" id="instAddr" name="instAddr" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.instAddr}"  readonly>
		                        </div>
		                    </div>
		                </div>
		                <div class="col-12 col-lg-6 mb-3">
		                    <div class="mb-0 form-group">
		                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>상세주소</strong></label>
		                        <div class="col-sm-12">
		                            <input type="text" id="instAddrDtl" name="instAddrDtl" class="form-control form-control-sm" placeholder="" th:value="${instDsgnInfo.instAddrDtl}"  readonly>
		                        </div>
		                    </div>
		                </div>
		            </div>
		            <div class="form-group mb-3 required">
		                <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>증빙서류</strong></label>
		                <div class="col-sm-12">
		                    <input id="multiFileInput" type="file" name="files" multiple="multiple" accept=".jpeg,.jpg,.png,.gif,.tif,.tiff,.hwp,.hwpx,.pdf,.ppt,.pptx,.doc,.docx,.xls,.xlsx,.zip" class="form-control form-control-sm" />
		                    <input type="hidden" id="filegrpid" name="filegrpid" th:value="${(instDsgnInfo.filegrpid == '' or instDsgnInfo.filegrpid == null) ? 0 : instDsgnInfo.filegrpid}"/>
		                </div>
		                <div class="mt-2 row">
		                    <div class="col-auto">
		                        <th:block th:if="${fileList != null}">
		                            <div class="row">
		                                <th:block th:if="${fileList != null}">
		                                    <div th:each="item : ${fileList}" th:id="${item.fileid}"
		                                        class="col-auto">
		                                        <th:block th:if="${item.orginlFileNm != null}">
		                                            <span th:fileid='${item.fileid}'
		                                                th:fileIdntfcKey="${item.fileIdntfcKey}"
		                                                th:onclick="downloadFileByFileid(this.getAttribute('fileid'),this.getAttribute('fileIdntfcKey'))"
		                                                href="javascript:void(0)" class='label label-inverse'>
		                                                <th:block th:text="${item.orginlFileNm}" /> <a
		                                                th:name="${item.fileid}"
		                                                th:attr="data-idntfc-key=${item.fileIdntfcKey}"
		                                                th:onclick="fn_deleteFileList(this.name, this.dataset.idntfcKey)"
		                                                class='text-white'> <th:block th:text="X"></th:block></a>
		                                            </span>
		                                        </th:block>
		                                    </div>
		                                </th:block>
		                            </div>
		                        </th:block>
		                        <div id="multipleFileUploadError"></div>
		                        <div id="multipleFileUploadSuccess"></div>
		                    </div>
		                </div>
		            </div>
		            <div class="row">
		                <div class="col-12 col-md-6 col-lg-3 mb-3">
		                    <div class="mb-0 form-group">
		                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>신청상태</strong></div>
		                        <div class="col-sm-12">
		                            <span kattr:select_code="sttsCd" grpCd="248" th:attr="selectedCd=${instDsgnInfo.sttsCd}" firstOptTxt="- 선택 -" addClass="input-sm" isAdmin="true" disabled></span>
		                        </div>
		                    </div>
		                </div>
		            </div>                  
	            </div>
	            <div class="card-block-small">
	                <button type="button" class="btn btn-disabled" onclick="gridHelper1.toggleContent(); return false;">취소</button>
	                <button type="button" class="btn btn-primary" onclick="fn_save(); return false;">저장</button>
	                <button type="button" class="btn btn-primary" onclick="fn_chgStts(); return false;">확인중 상태변경</button>
	                <button type="button" class="btn btn-primary" onclick="fn_dsgnDropOut(); return false;">지정탈락</button>
	                <button type="button" class="btn btn-primary" onclick="fn_openDsgnAprvModal(); return false;" data-bs-toggle="modal" data-bs-target="#appointedApprovalPopup">지정승인</button>                
	            </div>
	        </div>
	        <!-- 보완요청 -->
	        <div class="card">
	            <div class="row p-20 p-b-0">
	                <div class="col-12 col-md-8 mb-2 mb-md-0">
	                    <h5><strong>보완요청</strong></h5>
	                </div>
	                <div class="col-12 col-md-4 text-right">
	                    <button type="button" class="btn btn-primary" onclick="openSuppModal('201101', 0);">보완요청</button>
	                </div>
	            </div>
	            <div class="card-block-small">
	                <div class="dt-responsive table-responsive">
	                    <div id="order-table_wrapper" class="dataTables_wrapper dt-bootstrap4">
	                        <table id="suppJsGrid" class="table-responsive"></table>
	                        <div id="suppListPager" class="text-center"></div>
	                    </div>
	                </div>
	            </div>
	        </div>
		</form>       
		<form name="suppSearchFrm" id="suppSearchFrm" action="" onsubmit="return false;">
		    <input type="hidden" name="aplyid" id="aplyidSupp" th:value="${instDsgnInfo.aplyid}" />
		</form>         
        <!-- // -->
        <div class="col-12">
            <div id="suppContentPanel" class=""></div>
        </div>    
    </div>
<div class="col-12">
    <ul class="nav nav-tabs tabs gray-tabs" role="tablist">
        <th:block sec:authorize-url="/mng/eduInst/operPlanOutlForm.html">
            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#tabCon1" role="tab" id="tabCon1Link"><strong>운영계획 개요</strong></a></li>
        </th:block>
        <th:block sec:authorize-url="/mng/eduInst/propSchdlForm.html">
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tabCon2" role="tab" id="tabCon2Link"><strong>추진일정</strong></a></li>
        </th:block>
        <th:block sec:authorize-url="/mng/eduInst/mnPwrSttusForm.html">
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tabCon3" role="tab" id="tabCon3Link"><strong>교육전문인력</strong></a></li>
        </th:block>
        <th:block sec:authorize-url="/mng/eduInst/hldngSttsForm.html">
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tabCon4" role="tab" id="tabCon4Link"><strong>교육프로그램 보유현황</strong></a></li>
        </th:block>
        <th:block sec:authorize-url="/mng/eduInst/fcltSttsForm.html">
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#tabCon5" role="tab" id="tabCon5Link"><strong>교육시설 및 설비 현황</strong></a></li>
        </th:block>
    </ul>
</div>      
<div id="myTabContent" class="tab-content"></div>
<!-- 담당자변경 회원검색 팝업 -->
<div class="modal fade" id="chgAltmntPopup" aria-hidden="true" data-bs-backdrop="static"></div>
<!--보완요청 팝업-->
<div class="modal fade" id="suppPopup" aria-hidden="true" data-bs-backdrop="static"></div>
<!-- 지정승인 팝업 -->
<div class="modal fade" id="instDsgnAprvPopup" aria-hidden="true" data-bs-backdrop="static"></div>

<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script type="text/javascript" src="/js/common/jsgrid-master/dist/jsgrid.min.js"></script>
<script th:inline="javascript">
	/*<![CDATA[*/
	var aplyid = /*[[${instDsgnInfo.aplyid}]]*/null;
	/*]]>*/
    var listUrl = "/mng/eduInst/selectInstDsgnList.do";
    var updateUrl = "/mng/eduInst/updateInstDsgnInfo.do";
    var suppListUrl = "/mng/eduInst/selectSuppList.do";    
    var atchfileCnt = 5;
    var uploadFileCnt = 0;
    var gridHelper2;
    
    $('.nav-tabs a').on('show.bs.tab', function(event) {
        //tab set
        var tabId = event.currentTarget.attributes.id.value;
        selectTab(tabId);
    });

    function selectTab(tabId) {
        if(tabId == "tabCon1Link") {
            loadTabContent("/mng/eduInst/operPlanOutlForm.html?aplyid=" + aplyid);
        } else if(tabId == "tabCon2Link") {
            loadTabContent("/mng/eduInst/propSchdlForm.html?aplyid=" + aplyid);
        } else if(tabId == "tabCon3Link") {
            loadTabContent("/mng/eduInst/mnPwrSttusForm.html?aplyid=" + aplyid);
        } else if(tabId == "tabCon4Link") {
            loadTabContent("/mng/eduInst/hldngSttsForm.html?aplyid=" + aplyid);
        } else if(tabId == "tabCon5Link") {
            loadTabContent("/mng/eduInst/fcltSttsForm.html?aplyid=" + aplyid);
        }
        $("#" + tabId).parent().addClass("active");
    }

    function loadTabContent(uri){
        $.ajax({
            cache   : false
          , url     : uri
          , type    : 'GET'
          , async   : 'false'
          , dataType: 'html'
          , success : function(result){ //요청이 성공했을때 실행되는 콜백 함수
              $('#myTabContent').html(result);
              //scrollIntoView('myTabContent');
          }
        });
        showContent();
    }

    function initTab() {

        var tabFlag = false;

        if(tabFlag == false) {
            selectTab("tabCon1Link");
            tabFlag = true;
        }

        if(tabFlag == false) {
            selectTab("tabCon2Link");
            tabFlag = true;
        }

        if(tabFlag == false) {
            selectTab("tabCon3Link");
            tabFlag = true;
        }

        if(tabFlag == false) {
            selectTab("tabCon4Link");
            tabFlag = true;
        }

        if(tabFlag == false) {
            selectTab("tabCon5Link");
            tabFlag = true;
        }

        if(tabFlag == false) {
            selectTab("tabCon6Link");
            tabFlag = true;
        }

    }
    
    // 파일업로드
    $('#multiFileInput').on("change", function(event) {
        var fileOjbId = $(this).prop("id");
        var objFile = document.querySelector('#'+fileOjbId);
        var formData = new FormData();
        var content = "";

        for( i = 0 ; i < objFile.files.length ; i++) {
            if(uploadFileCnt >= atchfileCnt){
                alert("첨부파일은  "+atchfileCnt+ " 개 까지 가능합니다." ); break;
            } else {
                formData.append("files", objFile.files[i]);
                uploadFileCnt++;
            }
        }
        
        formData.append("filegrpid", $("#filegrpid").val());
        formData.append("filegrpNm", "eduInst_file");

        if(uploadFileCnt > 0){
            $.ajax({
                url : '/uploadMultipleFiles.do',
                processData : false,
                contentType : false,
                data : formData,
                type : 'POST',
                success : function(response) {
                    if(response.result == 'fail'){
                        alert(response.msg);
                    }else{
                        if($("#filegrpid").val()=='0' || $("#filegrpid").val()==''  || $("#filegrpid").val()==null){
                            $("#filegrpid").val( response[0].filegrpid );
                        }

                        for(i = 0 ;i < response.length; i++ ){
                            content =  "<span id='"+response[i].fileid+"' class='label label-inverse' href=javascript:downloadFileByFileid('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"')>"+response[i].orginlFileNm
                            content += "&nbsp;&nbsp;<a href='javascript:void(0)' onclick =uploadFileCnt--;fn_deleteFileList('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') class='text-white'>X</a></span>"
                            $('#multipleFileUploadSuccess').append(content);
                        }
                    }
                }
            });
        }
    });

    // 파일삭제
    function fn_deleteFileList(fileid, fileIdntfcKey){
        if(!confirm("파일을 삭제하시겠습니까?")){return;}
        fn_deleteFile(fileid, fileIdntfcKey);
        $("#"+fileid).remove();
//            $("#sftyMngMnlFile").val("");
    }

    // 파일삭제
    function fn_deleteFile(fileid, fileIdntfcKey){
        var deleteFileUrl="/deleteFile.do?fileid="+fileid+"&file_idntfc_key=" + fileIdntfcKey;
          $.ajax({
            url : deleteFileUrl,
            type: 'GET',
            cache : false,
            dataType: 'json',
            success : function (data){
                if(data.result=="success"){
                    $("#"+fileid).remove();
                    alert("파일삭제가 완료 되었습니다.");
                }else{
                    alert("파일삭제중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
                }
            },
            error : function (error){
            }
         })
    };	
    //담당자 변경 팝업
    var chgAltmntModal;
    var openChgAltmntModal = () => {
    	debugger;
        var url = "/mng/eduInst/userSrchPopup.html?instid="+$("#instid").val();    //회원검색
    
        $("#chgAltmntPopup").load(url, function(response, status, xhr) {
            if (status == "success") {
                chgAltmntModal = new bootstrap.Modal($('#chgAltmntPopup'));
                chgAltmntModal.show();
            }
        });
    
    }    
    //보완요청 팝업
    var suppModal;
    var openSuppModal = (sttsCd, splmntid) => {
        var url = "/mng/eduInst/suppPopup.html?splmntid=" + splmntid + "&aplyid="+aplyid + '&ansSttsCd=' + sttsCd;
        $("#suppPopup").load(url, function(response, status, xhr) {
            if (status == "success") {
                suppModal = new bootstrap.Modal($('#suppPopup'));
                suppModal.show();
            }
        });
    }
    $(function(){
        gridHelper2 = new GridHelper('suppJsGrid','suppContentPanel');
        var validator = $("#insertForm").validate({
            rules: {
            	rprsvBrdt : { required: true, maxlength: 6 }
            },
            messages: {
            	rprsvBrdt : { required: "대표자 생년월일을 입력해주십시오.", maxlength: "생년월일은 6자를 넘을 수 없습니다." }
            }
        });
           
	    $("#suppJsGrid").jsGrid({
	        height: "auto",
	        width: "100%",
	        autoload: true,
	        sorting: false,
	        paging: true,
	        pagerContainer: "#suppListPager",
	        pagerFormat: "{first} {prev} {pages} {next} {last}",
	        pagePrevText: "이전",
	        pageNextText: "다음",
	        pageFirstText: "< 처음ㅣ",
	        pageLastText: "ㅣ 마지막 >",
	        pageSize: 10,
	        pageButtonCount: 10,
	        pageLoading: true,
	        pageIndex: 1,
	        noDataContent: "데이터가 없습니다.",
	        
	        controller: {
	            loadData: function (filter) {
	                var data = $.Deferred();
	                var formData = $('#suppSearchFrm').serializeArray();
	                var params = [
	                    {name: "pageNumber", value: filter.pageIndex},
	                    {name: "rowPerPage", value: filter.pageSize},
	                ]
	
	                if(filter.sortField != undefined) {
	                    params.push({name: "orderField", value: filter.sortField});
	                    params.push({name: "orderDirection", value: filter.sortOrder});
	                } else {
	                    params.push({name: "orderField", value: 'reg_dt'});
	
	                }
	                formData = formData.concat(params);
	                
	                $.ajax({
	                    type: "GET",
	                    contentType: "application/json; charset=utf-8",
	                    url: suppListUrl,
	                    dataType: "json",
	                    data: formData
	                }).done(function(response){
	                    var da = {
	                        data : escapeGridData(response.list)
	                        , itemsCount : response.totalCount
	                    };
	                    data.resolve(da);
	                });
	                
	                return data.promise();
	            }
	        },
	        fields: [ 
	            { name : 'splmntid', css : 'hide' }
	            , { title: 'No.'      ,name: 'rowNumber' ,type: "number", width: "80" , align:"center", sorting :false }
	            , { title: '상태' ,name: 'ansSttsNm'     ,type: "text"  , width: "100" , align:"center"}
	            , { title: '요청내용' ,name: 'dmndCn'     ,type: "text"  , width: "350" , align:"left"}
	            , { title: '요청일'   ,name: 'dmndDt'        ,type: "text"  , width: "100", align:"center"}
	            , { title: '완료처리일'   ,name: 'ansDt'   ,type: "text"  , width: "100" , align:"center"}
	        ],
	        /*[# sec:authorize-url="/mng/eduInst/insertSplmnt.do"]*/
	        rowClick: function (args) {
	            if(args.event.originalEvent.target.cellIndex == 0 || isNaN(args.event.originalEvent.target.cellIndex)) return;
	            openSuppModal('201102', args.item.splmntid);
	        },
	        /*[/]*/
	    });   
    });	   
    
    function fn_chgStts(){
        var param={};
        param = {
            aplyid : aplyid
          , sttsCd  : "248103"     //확인중 상태
        }
        if(displayWorkProgress()){
            $.ajax({
                url      : "/mng/eduInst/updateSttsCd.do"
              , type     : 'POST'
              , cache    : false
              , dataType : 'json'
              , data     : param
              , success  :
                  function (data){
                      if(data.result=="success"){
                          alert(data.msg);
                          gridHelper1.resetPageContent();
                      }else{
                          alert(data.msg);
                      }
                      closeWorkProgress();
                  }
            });
        }
    }
    
    function fn_dsgnDropOut(){
        var param={};
        param = {
            aplyid : aplyid
          , sttsCd  : "248105"          //지정탈락  
          , dsctnSttsCd  : "248105"     //지정탈락
        }
        if(!confirm("해당 지정신청이 탈락 처리됩니다. 지정탈락 처리 하시겠습니까?")){return;}

        if(displayWorkProgress()){
            $.ajax({
                url      : "/mng/eduInst/updateSttsCd.do"
              , type     : 'POST'
              , cache    : false
              , dataType : 'json'
              , data     : param
              , success  :
                  function (data){
                      if(data.result=="success"){
                          alert(data.msg);
                          gridHelper1.resetPageContent();
                      }else{
                          alert(data.msg);
                      }
                      closeWorkProgress();
                  }
            });
        }
    }
    //지정 승인
    var dsgnAprvModal;
    var fn_openDsgnAprvModal = (id) => {
        if($("#sttsCd").val() =="248104"){
            alert("이미 승인 상태입니다.")
            return;
        }
        var vAplyid = aplyid;
        var vCallSe  = "dsgnAprv";    //구분 : 지정승인
        var url = "/mng/eduInst/instDsgnInfoChgPopup.html?aplyid="+vAplyid + "&callSe="+vCallSe;

        $("#instDsgnAprvPopup").load(url, function(response, status, xhr) {
            if (status == "success") {
                dsgnAprvModal = new bootstrap.Modal($('#instDsgnAprvPopup'));
                dsgnAprvModal.show();
            }
        });
    }
    
    // 저장
    function fn_save(){
        if(!($("#instDsgnDetailForm").valid())) return;
        
        if(!confirm("저장하시겠습니까?")) return;
        
        var data =  $("#instDsgnDetailForm").serialize();
        
        if(displayWorkProgress()){
            $.ajax({
                url : updateUrl,
                type: 'POST',
                cache : false,
                dataType: 'json',
                data : data,
                success : function (data){
                    if(data.result=="success"){
                        alert(data.msg);
                        gridHelper1.resetPageContent();
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
    }
    
    initTab();
</script>   