<form id="insertForm">
    <input type="hidden" name="aplyid" id="aplyid" th:value="${detail.aplyid}" />
    <!-- [탭] 프로그램정보 -->
	<div class="tab-pane" id="tab_04" role="tabpanel">
	    <div class="card">
	        <!-- 프로그램정보 -->
	        <div class="card-header p-b-0">
	            <h3 class="sub-title"><strong>프로그램정보</strong></h3>
	        </div>
	        <div class="card-block-small p-t-0">
	            <div class="row">
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>대면/비대면</strong></div>
	                        <div class="form-radio">
	                            <span kattr:radio_code="eduMthdCd" grpCd="205" isAdmin="true" th:attr="selectedCd=${detail.eduMthdCd}">	                            
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>실내/실외</strong></div>
	                        <div class="form-radio">
	                            <span kattr:radio_code="lctrPlcSeCd" grpCd="206" isAdmin="true" th:attr="selectedCd=${detail.lctrPlcSeCd}">
	                        </div>
	                    </div>
	                </div>
	            </div>
	            <div class="row">
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>강의/체험형</strong></div>
	                        <div class="form-radio">
	                            <span kattr:radio_code="lctrFrmCd" grpCd="207" isAdmin="true" th:attr="selectedCd=${detail.lctrFrmCd}">
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>일회/다회성</strong></div>
	                        <div class="form-radio">
	                            <span kattr:radio_code="lctrTmeMthdCd" grpCd="208" isAdmin="true" th:attr="selectedCd=${detail.lctrTmeMthdCd}">
	                        </div>
	                    </div>
	                </div>
	            </div>
	            <div class="row">
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>필수주제 교육차시</strong></label>
	                        <div class="row">
	                            <div class="col-6">
	                                <input type="text" class="form-control form-control-sm" id="essntlSbjctNm" name="essntlSbjctNm" placeholder="Text Input Validation" th:value="${detail.essntlSbjctNm}" readonly>
	                            </div>
	                            <div class="col-6">
	                                <input type="text" class="form-control form-control-sm" id="essntlSbjctRnd" name="essntlSbjctRnd" placeholder="Text Input Validation" th:value="${detail.essntlSbjctRnd}" >
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>선택주제 교육차시</strong></label>
	                        <div class="row">
	                            <div class="col-6">
	                                <input type="text" class="form-control form-control-sm" id="choiseSbjctNm" name="choiseSbjctNm" placeholder="Text Input Validation" th:value="${detail.choiseSbjctNm}" >
	                            </div>
	                            <div class="col-6">
	                                <input type="text" class="form-control form-control-sm" id="choiseSbjctRnd" name="choiseSbjctRnd" placeholder="Text Input Validation" th:value="${detail.choiseSbjctRnd}" >
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </div>
	            <div class="row">
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>운영회기</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="operSesn" name="operSesn" placeholder="Text Input Validation" th:value="${detail.operSesn}" >
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>회기별 교육차시</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="sesnEduRnd" name="sesnEduRnd" placeholder="Text Input Validation" th:value="${detail.sesnEduRnd}" >
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>총 운영차시</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="wholOperRnd" name="wholOperRnd" placeholder="Text Input Validation" th:value="${detail.wholOperRnd}" >
	                        </div>
	                    </div>
	                </div>
	            </div>
	            <div class="row">
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>차시별 교육인원</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="rndEduNope" name="rndEduNope" placeholder="Text Input Validation" th:value="${detail.rndEduNope}" >
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>총 교육인원</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="wholEduNope" name="wholEduNope" placeholder="Text Input Validation" th:value="${detail.wholEduNope}" >
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>교육대상</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="eduTrgt" name="eduTrgt" placeholder="Text Input Validation" th:value="${detail.eduTrgt}" >
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>교육장소</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="eduPlc" name="eduPlc" placeholder="Text Input Validation" th:value="${detail.eduPlc}" >
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	        <!-- 프로그램개요 -->
	        <div class="card-header p-t-0 p-b-0">
	            <h3 class="sub-title"><strong>프로그램개요</strong>
	                <a href="javascript:void(0)" data-bs-toggle="tooltip" data-bs-html="true" data-bs-original-title="프로그램개요 툴팁">
	                    <i class="fa fa-question-circle-o"></i>
	                </a>
	            </h3>
	        </div>
	        <div class="card-block-small p-t-0">
	            <div class="col-12 table-responsive">
	                <table id="dataTable" class="table table-framed">
	                    <thead>
	                    <tr>
	                        <th class="text-center" style="width:60px;">번호</th>
	                        <th class="text-center">프로그램명</th>
	                        <th class="text-center">교육차시</th>
	                        <th class="text-center">교육인원</th>
	                        <th class="text-center" style="width:121px;">설정</th>
	                    </tr>
	                    </thead>
	                    <tbody>
	                    <tr th:if="${#lists.size(prgrmList) > 0}" th:each="list, i: ${prgrmList}">
	                        <td class="v-middle text-center"><th:block th:text="${list.ordr}"/></td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="prgrmNm" name="prgrmNm" th:value="${list.prgrmNm}" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="eduRnd" name="eduRnd" th:value="${list.eduRnd}" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="eduNope" name="eduNope" th:value="${list.eduNope}" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle">
	                            <button onclick="addRow(this);" type="button" class="btn btn-primary btn-sm" th:if="${i.last}">추가</button>
	                            <button onclick="removeRow(this);" type="button" class="btn btn-inverse btn-sm">삭제</button>
	                        </td>
	                    </tr>
	                    <tr th:unless="${#lists.size(prgrmList) > 0}">
	                        <td class="v-middle text-center">1</td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="prgrmNm" name="prgrmNm" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="eduRnd" name="eduRnd" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle text-center">
	                            <input type="text" id="eduNope" name="eduNope" class="form-control form-control-sm">
	                        </td>
	                        <td class="v-middle">
	                            <button onclick="addRow(this);" type="button" class="btn btn-primary btn-sm">추가</button>
	                            <button onclick="removeRow(this);" type="button" class="btn btn-inverse btn-sm">삭제</button>
	                        </td>
	                    </tr>
	                    </tbody>
	                </table>
	            </div>
	        </div>
	        <!-- 프로그램 소개 -->
	        <div class="card-header p-t-0 p-b-0">
	            <h3 class="sub-title"><strong>프로그램 소개</strong></h3>
	        </div>
	        <div class="card-block-small p-t-0">
	            <div class="row form-group mb-3">
	                <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>프로그램 개발 배경 및 필요성</strong></label>
	                <div class="col-sm-12">
	                    <textarea rows="5" cols="5" class="form-control form-control-sm" placeholder="500자 이내" id="prgrmBcrn" name="prgrmBcrn"><th:block th:text="${detail.prgrmBcrn}"></textarea>
	                </div>
	            </div>
	            <div class="row form-group mb-3">
	                <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>환경 및 환경 교육적 적절성</strong></label>
	                <div class="col-sm-12">
	                    <textarea rows="5" cols="5" class="form-control form-control-sm" placeholder="300자 이내" id="eduAppro" name="eduAppro"><th:block th:text="${detail.eduAppro}"></textarea>
	                </div>
	            </div>
	            <div class="row form-group mb-3">
	                <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>프로그램 우수성</strong></label>
	                <div class="col-sm-12">
	                    <textarea rows="5" cols="5" class="form-control form-control-sm" placeholder="300자 이내" id="prgrmDstnctn" name="prgrmDstnctn"><th:block th:text="${detail.prgrmDstnctn}"></textarea>
	                </div>
	            </div>
	        </div>
	        <!-- 운영계획 -->
	        <div class="card-header p-t-0 p-b-0">
	            <h3 class="sub-title"><strong>운영계획</strong></h3>
	        </div>
	        <div class="card-block-small p-t-0">
	            <div class="row">
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>연간 운영 계획</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="operPlan" name="operPlan" th:value="${detail.operPlan}" placeholder="Text Input Validation">
	                        </div>
	                    </div>
	                </div>
	                <div class="col-12 col-md-6 col-lg-3 mb-3">
	                    <div class="mb-0 form-group">
	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for=""><strong>연간 프로그램 이수 예정인원</strong></label>
	                        <div class="col-sm-12">
	                            <input type="text" class="form-control form-control-sm" id="fyerComplPrearngeNope" name="fyerComplPrearngeNope" th:value="${detail.fyerComplPrearngeNope}" placeholder="Text Input Validation">
	                        </div>
	                    </div>
	                </div>
	            </div>
	        </div>
	        <!-- 월별 교육운영 횟수 -->
	        <div class="card-header p-t-0 p-b-0">
	            <h3 class="sub-title"><strong>월별 교육운영 횟수</strong></h3>
	        </div>
	        <div class="card-block-small p-t-0">
	            <div class="table-responsive">
	                <table class="table table-framed table-bordered">
	                    <thead>
	                    <tr class="border-bottom-inverse">
	                        <th class="text-center v-middle">1월</th>
	                        <th class="text-center v-middle">2월</th>
	                        <th class="text-center v-middle">3월</th>
	                        <th class="text-center v-middle">4월</th>
	                        <th class="text-center v-middle">5월</th>
	                        <th class="text-center v-middle">6월</th>
	                        <th class="text-center v-middle">7월</th>
	                        <th class="text-center v-middle">8월</th>
	                        <th class="text-center v-middle">9월</th>
	                        <th class="text-center v-middle">10월</th>
	                        <th class="text-center v-middle">11월</th>
	                        <th class="text-center v-middle">12월</th>
	                    </tr>
	                    </thead>
	                    <tbody>
	                    <tr>
	                        <td><input type="text" id="janCnt" name="janCnt" th:value="${detail.janCnt}" class="form-control form-control-sm" aria-label="1월 횟수"></td>
	                        <td><input type="text" id="febCnt" name="febCnt" th:value="${detail.febCnt}" class="form-control form-control-sm" aria-label="2월 횟수"></td>
	                        <td><input type="text" id="marCnt" name="marCnt" th:value="${detail.marCnt}" lass="form-control form-control-sm" aria-label="3월 횟수"></td>
	                        <td><input type="text" id="aprCnt" name="aprCnt" th:value="${detail.aprCnt}" class="form-control form-control-sm" aria-label="4월 횟수"></td>
	                        <td><input type="text" id="mayCnt" name="mayCnt" th:value="${detail.mayCnt}" class="form-control form-control-sm" aria-label="5월 횟수"></td>
	                        <td><input type="text" id="juneCnt" name="juneCnt" th:value="${detail.juneCnt}" class="form-control form-control-sm" aria-label="6월 횟수"></td>
	                        <td><input type="text" id="julyCnt" name="julyCnt" th:value="${detail.julyCnt}" class="form-control form-control-sm" aria-label="7월 횟수"></td>
	                        <td><input type="text" id="augCnt" name="augCnt" th:value="${detail.augCnt}" class="form-control form-control-sm" aria-label="8월 횟수"></td>
	                        <td><input type="text" id="septCnt" name="septCnt" th:value="${detail.septCnt}" class="form-control form-control-sm" aria-label="9월 횟수"></td>
	                        <td><input type="text" id="octCnt" name="octCnt" th:value="${detail.octCnt}" class="form-control form-control-sm" aria-label="10월 횟수"></td>
	                        <td><input type="text" id="novCnt" name="novCnt" th:value="${detail.novCnt}" class="form-control form-control-sm" aria-label="11월 횟수"></td>
	                        <td><input type="text" id="dcmCnt" name="dcmCnt" th:value="${detail.dcmCnt}" class="form-control form-control-sm" aria-label="12월 횟수"></td>
	                    </tr>
	                    </tbody>
	                </table>
	            </div>
	        </div>
	        <!-- // -->
	        <div class="card-block-small">
	            <button class="btn btn-disabled m-r-5" onclick="gridHelper3.toggleContent(); return false;">취소</button>
	            <button class="btn btn-primary" onclick="fn_save(); return false;">저장</button>
	        </div>
	    </div>
	</div>
</form>

<script th:inline="javascript">    
	/*<![CDATA[*/
	var popupYn = /*[[${popupYn}]]*/null;
	/*]]>*/
//     var listUrl = "/mng/bizAply/req/selectSuppList.do";
    var updateUrl = "/mng/bizAply/req/updatePrgrmInfo.do";
    
    $(function(){
    	if (popupYn == "Y") {
            $("input, select, textarea").prop("disabled", true);
            $("button").hide();
        }
    });

    // 테이블 로우 추가
    function addRow(obj) {
        var html = '<button onclick="addRow(this);" type="button" class="btn btn-primary btn-sm">추가</button>';
        html += '<button onclick="removeRow(this);" type="button" class="btn btn-inverse btn-sm">삭제</button>';
    	var clickedRow = $(obj).parent().parent();
    	$(obj).remove();
        var newrow = clickedRow.clone();
        var ordr = Number(clickedRow.find("td:first").text())+1;
        newrow.find("td:first").html(ordr);
        newrow.find("td > input").val("");
        newrow.find("td:last").html(html);
        newrow.insertAfter(clickedRow.parent().parent().find("tr:last"));
    }

    // 테이블 로우 삭제
    function removeRow(obj) {
    	var html = '<button onclick="addRow(this);" type="button" class="btn btn-primary btn-sm">추가</button>';
        html += '<button onclick="removeRow(this);" type="button" class="btn btn-inverse btn-sm">삭제</button>';
        var tableObj = $(obj).parent().parent().parent();
        $(obj).parent().parent().remove();
        tableObj.find("tr:last").find("td:last").html(html);
        tableObj.find("tr").each(function(i){
        	$(this).find("td:first").text(i+1);
        });
    }
    
    // 저장
    function fn_save(){
        if(!($("#insertForm").valid())) return;
        
        if(!confirm("저장하시겠습니까?")) return;
        
        var data =  $("#insertForm").serialize();
        
        if(displayWorkProgress()){
            $.ajax({
                url : updateUrl,
                type: 'POST',
                cache : false,
                dataType: 'json',
                data : data,
                success : function (data){
                    if(data.result=="success"){
                        alert(data.msg);
                        gridHelper2.resetListContent();
//                         gridHelper1.loadContent(uri);
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
        
        //천단위 콤마
		function addComma(value){
			value = value.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
			return value; 
		}
        
		//콤마 제거
		function removeComma(value){
			if (value == "" || value == null) {
				return 0;				
			}
			value = value.replace(/[^\d]+/g, "");
			return value; 
		}
    }

</script>