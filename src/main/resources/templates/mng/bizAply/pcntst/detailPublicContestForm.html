<!-- Date-range picker css  -->
<link rel="stylesheet" type="text/css"
	href="/files/bower_components/bootstrap-daterangepicker/daterangepicker.css">
<form id="insertForm">
	<input type="hidden" name="pcntstid" id="pcntstid" th:value="${publicContestVo.pcntstid}" /> 
	<input type="hidden" name="bsnsBgngDe" id="bsnsBgngDe" th:value="${publicContestVo.bsnsBgngDe}" /> 
	<input type="hidden" name="bsnsEndDe" id="bsnsEndDe" th:value="${publicContestVo.bsnsEndDe}" /> 
	<input type="hidden" name="jsonString" id="jsonString" value="" /> 
<!-- 	<input type="hidden" name="wctDelvryCnt" id="wctDelvryCnt" th:value="${publicContestVo.wctDelvryCnt}" /> -->
	<!-- insert 부분 -->
	<div class="col-12">
		<div class="card">
			<!-- 기본정보 -->
			<div class="card-header p-b-0">
				<h3 class="sub-title">
					<strong>기본 정보</strong>
				</h3>
			</div>
			<div class="card-block-small p-t-0">
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>사업분야</strong>
							</div>
							<span kattr:select_code="fldCd"	th:attr="selectedCd=${publicContestVo.fldCd}" grpCd="173" firstOptTxt="- 전체 -" addClass="input-sm" isAdmin="true">
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>신청대상</strong>
							</div>
							<div class="border-checkbox-section">
								<span kattr:radio_code="trgtCd" grpCd="175" isAdmin="true" th:attr="selectedCd=${publicContestVo.trgtCd}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12 mb-3">
						<div class="mb-0 form-group">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="input01"><strong>공모명</strong></label>
							<div class="col-12">
								<input type="text" class="form-control form-control-sm"	name="pcntstNm" id="pcntstNm" placeholder="Text Input Validation" th:value="${publicContestVo.pcntstNm}" />
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>신청기간 설정</strong>
							</div>
							<div class="row">
								<div class="col-md-6">
									<input type="datetime-local" id="aplyBgngDt" name="aplyBgngDt" class="form-control form-control-sm" aria-label="신청기간 시작일시" th:value="${publicContestVo.aplyBgngDt}">
								</div>
								<div class="col-md-6">
									<input type="datetime-local" id="aplyEndDt" name="aplyEndDt" class="form-control form-control-sm" aria-label="신청기간 종료일시" th:value="${publicContestVo.aplyEndDt}">
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="input01"><strong>사업기간 설정</strong></label>
							<div class="col-12">
								<input type="text" id="bsnsBgng" name="bsnsBgng" class="form-control form-control-sm" th:value="${publicContestVo.bsnsDe}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>중간보고 사용여부</strong>
							</div>
							<div class="form-radio">
								<span kattr:radio_yn="mdlReportYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.mdlReportYn == null ? 'Y' : publicContestVo.mdlReportYn}" isAdmin="true"></span>
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>사업비 교부 횟수</strong>
							</div>
							<div class="form-radio">
							    <div class="radio radio-inline">
							        <label class="mb-0 form-label">
							            <input type="radio" name="wctDelvryCnt" value="2" th:checked="${publicContestVo.wctDelvryCnt == 2}">
							            <i class="helper"></i>2회
							        </label>
							    </div>
							    <div class="radio radio-inline">
							        <label class="mb-0 form-label">
							            <input type="radio" name="wctDelvryCnt" value="1" th:checked="${publicContestVo.wctDelvryCnt == 1}">
							            <i class="helper"></i>1회
							        </label>
							    </div>
							    <div class="radio radio-inline">
							        <label class="mb-0 form-label">
							            <input type="radio" name="wctDelvryCnt" value="0" th:checked="${publicContestVo.wctDelvryCnt == 0}">
							            <i class="helper"></i>없음
							        </label>
							    </div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>컨설팅 사용여부</strong>
							</div>
							<div class="form-radio">
								<span kattr:radio_code="cnsltngUseCd" grpCd="176" selectedCd="" isAdmin="true" th:attr="selectedCd=${publicContestVo.cnsltngUseCd}">
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>컨설팅 운영방식</strong>
							</div>
							<div class="form-radio">
								<span kattr:radio_code="cnsltngOperCd" grpCd="223" isAdmin="true" th:attr="selectedCd=${publicContestVo.cnsltngOperCd}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>온라인 심사유형</strong>
							</div>
							<div class="col-12">
							    <span kattr:radio_code="onlnSrngTypeCd" grpCd="177" isAdmin="true" th:attr="selectedCd=${publicContestVo.onlnSrngTypeCd}">
<!-- 								<span kattr:select_code="onlnSrngTypeCd" th:attr="selectedCd=${publicContestVo.onlnSrngTypeCd}" grpCd="177" firstOptTxt="- 선택 -" addClass="input-sm" isAdmin="true"> -->
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
                       <div class="row mb-0 form-group">
                           <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>심사비중(가중치) 설정</strong></div>
                           <div class="col-sm-auto">
                               <div class="row align-items-center">
                                   <strong class="col-auto p-r-0">1차 심사</strong>
                                   <div class="col-auto">
                                       <input type="text" class="form-control form-control-sm" name="rtFirst" id="rtFirst" placeholder="" th:value="${publicContestVo.rtFirst}" style="width:60px" readonly>
                                   </div>
                                   <span class="col-auto p-l-0">%</span>
                               </div>
                           </div>
                           <div class="col-sm-auto mt-1 mt-sm-0" >
                               <div class="row align-items-center">
                                   <strong class="col-auto p-r-0">2차 심사</strong>
                                   <div class="col-auto">
                                       <input type="text" class="form-control form-control-sm" name="rtScnd" id="rtScnd" placeholder="" th:value="${publicContestVo.rtScnd}" style="width:60px" readonly>
                                   </div>
                                   <span class="col-auto p-l-0">%</span>
                               </div>
                           </div>
                       </div>
                   </div>
				</div>
				<div class="row">
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>심사배분율 사용여부</strong></div>
                            <div class="row align-items-center">
                                <div class="col-12 col-md-auto mb-1 mb-lg-0">
                                    <div class="form-radio">
                                        <span kattr:radio_yn="srngRtUseYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.srngRtUseYn == null ? 'N' : publicContestVo.srngRtUseYn}" isAdmin="true"></span>
                                    </div>
                                </div>
                                <div class="col-12 col-md-auto ps-md-0">
                                    <button type="button" class="btn btn-inverse btn-sm" data-bs-toggle="modal" onclick="openSrngModal();">심사배분율 설정</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>최고점 제외 사용여부</strong></div>
                            <div class="form-radio">
                                <span kattr:radio_yn="topScrExclYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.topScrExclYn == null ? 'N' : publicContestVo.topScrExclYn}" isAdmin="true"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>최저점 제외 사용여부</strong></div>
                            <div class="form-radio">
                                <span kattr:radio_yn="lwetScrExclYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.lwetScrExclYn == null ? 'N' : publicContestVo.lwetScrExclYn}" isAdmin="true"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>선정인원제한 사용여부</strong></div>
                            <div class="row align-items-center">
                                <div class="col-12 col-md-auto mb-1 mb-lg-0">
                                    <div class="form-radio">
                                        <span kattr:radio_yn="nopeLmtUseYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.nopeLmtUseYn == null ? 'N' : publicContestVo.nopeLmtUseYn}" isAdmin="true"></span>
                                    </div>
                                </div>
                                <div class="col-12 col-md-auto ps-md-0">
                                    <input type="text" class="form-control form-control-sm" name="nopeLmt" id="nopeLmt" placeholder="" th:value="${publicContestVo.nopeLmt}" style="width:80px;" readonly="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
				<div class="row">
					<div class="col-12 mb-3">
						<div class="mb-0 form-group">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="input02"><strong>사업안내</strong></label>
							<div class="col-12">
								<textarea class="form-control form-control-sm" id="bsnsCn" name="bsnsCn" th:utext="${publicContestVo.bsnsCn}"></textarea>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12 mb-3">
						<div class="mb-0 form-group">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1"
								for="detailFile"><strong>첨부파일</strong></label>
							<div class="col-12">
								<input id="multiFileInput" type="file" name="files" multiple
									accept="image/jpeg,image/gif,image/png,application/pdf"
									class="form-control form-control-sm" />
							</div>
							<div class="mt-2 row">
								<div class="col-auto">
									<th:block th:if="${fileList != null}">
										<div class="row">
											<th:block th:if="${fileList != null}">
												<div th:each="item : ${fileList}" th:id="${item.fileid}" class="col-auto">
													<th:block th:if="${item.orginlFileNm != null}">
														<span th:fileid='${item.fileid}' th:fileIdntfcKey="${item.fileIdntfcKey}" th:onclick="downloadFileByFileid(this.getAttribute('fileid'),this.getAttribute('fileIdntfcKey'))"	href="javascript:void(0)" class='label label-inverse'>
															<th:block th:text="${item.orginlFileNm}" /> 
															    <a th:name="${item.fileid}"	th:attr="data-idntfc-key=${item.fileIdntfcKey}"	th:onclick="fn_deleteFileList(this.name, this.dataset.idntfcKey)" class='text-white'> 
															<th:block th:text="X"></th:block></a>
														</span>
													</th:block>
												</div>
											</th:block>
										</div>
									</th:block>
									<div id="multipleFileUploadError"></div>
									<div id="multipleFileUploadSuccess"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>사용여부</strong>
							</div>
							<div class="form-radio">
								<span kattr:radio_yn="useYn" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.useYn == null ? 'Y' : publicContestVo.useYn}" isAdmin="true"></span>
							</div>
						</div>
					</div>
				</div>
				<input type="hidden" id="filegrpid" name="filegrpid" th:value="${(publicContestVo.filegrpid == '' or publicContestVo.filegrpid == null) ? 0 : publicContestVo.filegrpid}" />
			</div>
			<!-- 1차 심사 설정 -->
			<div class="card-header p-t-0 p-b-0">
				<h3 class="sub-title">
					<strong>1차 심사 설정</strong>
				</h3>
			</div>
			<div class="card-block-small p-t-0">
				<div class="mb-3 form-group row">
					<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
						<strong>담당자 배정</strong>
					</div>
					<div class="col-sm-12 btn-group-sm">
						<button type="button" class="btn btn-inverse" onclick="openSearchModal('1')">담당자 검색</button>
					</div>
					<div class="m-0 row">
						<div class="col-12 row border rounded p-t-10 p-b-10 m-0 mt-2">
							<div class="col-auto">
								<div class="col-auto" id="mng_list_area_1">
									<th:block th:each="item : ${mngList_1}">
										<span class="label label-inverse mb-2" th:id="'mng_list_'+${item.userid}"> <th:block th:text="${item.nm}+' '"></th:block> (<th:block th:text="${item.acnt}"></th:block>) | 
										    <th:block th:text="${item.eml}"></th:block> | <th:block th:text="${item.moblphon}+' '"></th:block>
											&nbsp;&nbsp;&nbsp;
											<a th:href="'javascript:deleteMng(1,'+${item.userid}+')'"	class="text-white delete-manager">X</a> 
											<input type="hidden" th:id="'pcntst'+${item.userid}" name="pcntstids1" th:value="${item.userid}">
										</span>
									</th:block>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>심사표</strong>
							</div>
							<div class="col-12">
								<select name="srngFormidFirst" id="srngFormidFirst"	class="form-select form-select-sm">
									<option value="" disabled="" selected="">-선택-</option>
									<th:block th:each="item : ${srngFormList}">
										<option th:value="${item.srngFormId}" th:selected="${publicContestVo.srngFormidFirst == item.srngFormId}"><th:block	th:text="${item.srngFormNm}" /></option>
									</th:block>
								</select>
							</div>
						</div>
					</div>
				</div>
	            <div class="row">
	                <div class="col-lg-6 mb-3">
	                    <div class="mb-0 form-group">
	                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>최저 기준 평균점수 사용여부</strong></div>
	                        <div class="row align-items-center">
	                            <div class="col-12 col-md-auto mb-1 mb-lg-0">
	                                <div class="form-radio">
	                                    <span kattr:radio_yn="lwetCrtrScrUseYnFirst" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.lwetCrtrScrUseYnFirst == null ? 'N' : publicContestVo.lwetCrtrScrUseYnFirst}" isAdmin="true"></span>
	                                </div>
	                            </div>
	                            <div class="col-12 col-md-auto ps-md-0 row align-items-center">
	                                <div class="col-auto">
	                                    <input type="text" class="form-control form-control-sm" name="lwetCrtrScrFirst" id="lwetCrtrScrFirst" placeholder="" th:value="${publicContestVo.lwetCrtrScrFirst}" style="width:80px;" readonly="">
	                                </div>
	                                <div class="col-auto ps-0">
	                                    점 미만
	                                </div>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </div>
			</div>
			<!-- 2차 심사 설정 -->
			<div class="card-header p-t-0 p-b-0 secondForm"
				style="display: none;">
				<h3 class="sub-title">
					<strong>2차 심사 설정</strong>
				</h3>
			</div>
			<div class="card-block-small p-t-0 secondForm" style="display: none;">
				<div class="mb-3 form-group row">
					<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
						<strong>담당자 배정</strong>
					</div>
					<div class="col-sm-12 btn-group-sm">
						<button type="button" class="btn btn-inverse" onclick="openSearchModal('2')">담당자 검색</button>
					</div>
					<div class="m-0 row">
						<div class="col-12 row border rounded p-t-10 p-b-10 m-0 mt-2">
							<div class="col-auto">
								<div class="col-auto" id="mng_list_area_2">
									<th:block th:each="item : ${mngList_2}">
										<span class="label label-inverse mb-2" th:id="'mng_list_'+${item.userid}"> 
										    <th:block th:text="${item.nm}+' '"></th:block> (<th:block th:text="${item.acnt}"></th:block>) | 
										    <th:block th:text="${item.eml}"></th:block> | <th:block	th:text="${item.moblphon}+' '"></th:block>
											&nbsp;&nbsp;&nbsp;
											<a th:href="'javascript:deleteMng(2,'+${item.userid}+')'" class="text-white delete-manager">X</a> 
											<input type="hidden" th:id="'pcntst'+${item.userid}" name="pcntstids2" th:value="${item.userid}">
										</span>
									</th:block>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group required">
							<div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
								<strong>심사표</strong>
							</div>
							<div class="col-12">
								<select name="srngFormidScnd" id="srngFormidScnd"
									class="form-select form-select-sm">
									<option value="" disabled="" selected="">-선택-</option>
									<th:block th:each="item : ${srngFormList}">
										<option th:value="${item.srngFormId}" th:selected="${publicContestVo.srngFormidScnd == item.srngFormId}">
										    <th:block th:text="${item.srngFormNm}" />
										</option>
									</th:block>
								</select>
							</div>
						</div>
					</div>
				</div>
                <div class="row">
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group">
                            <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>최저 기준 평균점수 사용여부</strong></div>
                            <div class="row align-items-center">
                                <div class="col-12 col-md-auto mb-1 mb-lg-0">
                                    <div class="form-radio">
                                        <span kattr:radio_yn="lwetCrtrScrUseYnScnd" label1="Y" label2="N" th:attr="defaultVal=${publicContestVo.lwetCrtrScrUseYnScnd == null ? 'N' : publicContestVo.lwetCrtrScrUseYnScnd}" isAdmin="true"></span>
                                    </div>
                                </div>
                                <div class="col-12 col-md-auto ps-md-0 row align-items-center">
                                    <div class="col-auto">
                                        <input type="text" class="form-control form-control-sm" name="lwetCrtrScrScnd" id="lwetCrtrScrScnd" placeholder="" th:value="${publicContestVo.lwetCrtrScrScnd}" style="width:80px;" readonly="">
                                    </div>
                                    <div class="col-auto ps-0">
                                        점 미만
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</div>
			<!-- 일정정보 -->
			<div class="card-header p-t-0 p-b-0">
				<h3 class="sub-title">
					<strong>일정정보</strong>
				</h3>
			</div>
			<div class="card-block-small p-t-0">
				<!-- 	            <div class="row"> -->
				<!-- 	                <div class="col-lg-6 mb-3"> -->
				<!-- 	                    <div class="mb-0 form-group row required"> -->
				<!-- 	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod01"><strong>신청기간 설정</strong></label> -->
				<!-- 	                        <div class="col-md-6"> -->
				<!-- 	                            <input type="datetime-local" class="form-control form-control-sm" id="setPeriod01"> -->
				<!-- 	                        </div> -->
				<!-- 	                        <div class="col-md-6 mt-1 mt-md-0"> -->
				<!-- 	                            <input type="datetime-local" class="form-control form-control-sm" id="setPeriod012"> -->
				<!-- 	                        </div> -->
				<!-- 	                    </div> -->
				<!-- 	                </div> -->
				<!-- 	            </div> -->
				<!-- 	            <div class="row"> -->
				<!-- 	                <div class="col-lg-6 mb-3"> -->
				<!-- 	                    <div class="mb-0 form-group required"> -->
				<!-- 	                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod02"><strong>사업기간 설정</strong></label> -->
				<!-- 	                        <div class="col-12"> -->
				<!-- 	                            <input type="text" name="daterange" class="form-control form-control-sm" value="01/01/2015 - 01/31/2015" id="setPeriod02"> -->
				<!-- 	                        </div> -->
				<!-- 	                    </div> -->
				<!-- 	                </div> -->
				<!-- 	            </div> -->
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod03"><strong>심사기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="srngBgngDt" name="srngBgngDt" th:value="${publicContestVo.srngBgngDt}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="srngEndDt" name="srngEndDt" th:value="${publicContestVo.srngEndDt}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod04"><strong>교부신청발표기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyPrsntnBgngDt" name="delvryAplyPrsntnBgngDt" th:value="${publicContestVo.delvryAplyPrsntnBgngDt}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyPrsntnEndDt" name="delvryAplyPrsntnEndDt" th:value="${publicContestVo.delvryAplyPrsntnEndDt}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod05"><strong>교부신청기간 설정</strong></label>
							<div class="col-md-6">
							    <input type="hidden" name="delvryidFirst" id="delvryidFirst" th:value="${publicContestVo.delvryidFirst}" /> 
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyBgngDtFirst" name="delvryAplyBgngDtFirst" th:value="${publicContestVo.delvryAplyBgngDtFirst}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyEndDtFirst" name="delvryAplyEndDtFirst" th:value="${publicContestVo.delvryAplyEndDtFirst}">
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod06"><strong>교부신청기간(2차) 설정</strong></label>
							<div class="col-md-6">
							    <input type="hidden" name="delvryidScnd" id="delvryidScnd" th:value="${publicContestVo.delvryidScnd}" />  
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyBgngDtScnd" name="delvryAplyBgngDtScnd"	th:value="${publicContestVo.delvryAplyBgngDtScnd}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryAplyEndDtScnd" name="delvryAplyEndDtScnd" th:value="${publicContestVo.delvryAplyEndDtScnd}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod07"><strong>교부확정발표기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryCfmtnPrsntnBgngDtFirst" name="delvryCfmtnPrsntnBgngDtFirst" th:value="${publicContestVo.delvryCfmtnPrsntnBgngDtFirst}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryCfmtnPrsntnEndDtFirst" name="delvryCfmtnPrsntnEndDtFirst" th:value="${publicContestVo.delvryCfmtnPrsntnEndDtFirst}">
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod07"><strong>교부확정발표기간(2차) 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryCfmtnPrsntnBgngDtScnd" name="delvryCfmtnPrsntnBgngDtScnd" th:value="${publicContestVo.delvryCfmtnPrsntnBgngDtScnd}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="delvryCfmtnPrsntnEndDtScnd" name="delvryCfmtnPrsntnEndDtScnd"	th:value="${publicContestVo.delvryCfmtnPrsntnEndDtScnd}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod08"><strong>자금집행기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="cptalExcutBgngDtFirst" name="cptalExcutBgngDtFirst" th:value="${publicContestVo.cptalExcutBgngDtFirst}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="cptalExcutEndDtFirst" name="cptalExcutEndDtFirst" th:value="${publicContestVo.cptalExcutEndDtFirst}">
							</div>
						</div>
					</div>
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod09"><strong>자금집행기간(2차) 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="cptalExcutBgngDtScnd"	name="cptalExcutBgngDtScnd"	th:value="${publicContestVo.cptalExcutBgngDtScnd}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="cptalExcutEndDtScnd" name="cptalExcutEndDtScnd" th:value="${publicContestVo.cptalExcutEndDtScnd}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
                    <div class="col-lg-6 mb-3">
                        <div class="mb-0 form-group row">
                            <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod10"><strong>컨설팅신청기간 설정</strong></label>
                            <div class="col-md-6">
                                <input type="datetime-local" class="form-control form-control-sm" id="cnsltngAplyBgngDt" name="cnsltngAplyBgngDt" th:value="${publicContestVo.cnsltngAplyBgngDt}">
                            </div>
                            <div class="col-md-6 mt-1 mt-md-0">
                                <input type="datetime-local" class="form-control form-control-sm" id="cnsltngAplyEndDt" name="cnsltngAplyEndDt" th:value="${publicContestVo.cnsltngAplyEndDt}">
                            </div>
                        </div>
                    </div>
                </div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod10"><strong>중간보고기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="mdlReportBgngDt" name="mdlReportBgngDt" th:value="${publicContestVo.mdlReportBgngDt}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="mdlReportEndDt" name="mdlReportEndDt" th:value="${publicContestVo.mdlReportEndDt}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row required">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="setPeriod11"><strong>결과보고기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="rsltReportBgngDt"	name="rsltReportBgngDt"	th:value="${publicContestVo.rsltReportBgngDt}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="rsltReportEndDt" name="rsltReportEndDt" th:value="${publicContestVo.rsltReportEndDt}">
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6 mb-3">
						<div class="mb-0 form-group row">
							<label class="form-label col-sm-12 col-form-label p-t-0 pb-1"
								for="setPeriod12"><strong>정산보고기간 설정</strong></label>
							<div class="col-md-6">
								<input type="datetime-local" class="form-control form-control-sm" id="excclcReportBgngDt" name="excclcReportBgngDt" th:value="${publicContestVo.excclcReportBgngDt}">
							</div>
							<div class="col-md-6 mt-1 mt-md-0">
								<input type="datetime-local" class="form-control form-control-sm" id="excclcReportEndDt" name="excclcReportEndDt" th:value="${publicContestVo.excclcReportEndDt}">
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 하단버튼 -->
			<div class="card-block-small">
				<button type="button" class="btn btn-disabled m-r-5" id="cancelInsertEnvedu" onclick="gridHelper1.toggleContent()">취소</button>
				<th:block sec:authorize-url="/mng/bizAply/pcntst/insertPublicContest.do">
					<button type="button" class="btn btn-primary" id="insertEnvedu"	onclick="fn_save()">저장</button>
				</th:block>
			</div>
			<!-- // -->
		</div>
	</div>
	<!-- //insert 부분 -->
</form>

<!-- Date-range picker js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="/files/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<script th:inline="javascript">    
    var insertUrl = "/mng/bizAply/pcntst/insertPublicContest.do";
    var updateUrl = "/mng/bizAply/pcntst/updatePublicContest.do";
    var pcntstid = $("#pcntstid").val();
    var editor;
    var atchfileCnt = 5;
    var uploadFileCnt = 0;
    var managerSearchModal;
    var srngMngModal;
    /*<![CDATA[*/
    var gradeList = /*[[${gradeList}]]*/null;
    var gradeListSize = /*[[${#lists.size(gradeList)}]]*/null;
    /*]]>*/
    
    // 담당자 배정 팝업 호출
    var openSearchModal =(cycl)=> {
        var url = "/mng/bizAply/pcntst/managerSearchPopup.html?pcntstid="+pcntstid+"&cycl="+cycl;
        $("#searchModal").load(url, function(response, status, xhr) {
            if (status == "success") {
                managerSearchModal = new bootstrap.Modal($('#searchModal'));
                managerSearchModal.show();
            }
        });
    }
    
    // 심사배분율 설정 팝업 호출
    var openSrngModal =()=> {
        var url = "/mng/bizAply/pcntst/srngPopup.html?pcntstid="+pcntstid;
        $("#srngModal").load(url, function(response, status, xhr) {
            if (status == "success") {
            	srngMngModal = new bootstrap.Modal($('#srngModal'));
            	srngMngModal.show();
            }
        });
    }
    
    $(document).ready(function() {
		//editor = CKEDITOR.replace('bsnsCn');
        //에디터 엔터키 두줄 바꿈 제거 (shift + enter 처럼 바로 한줄 밑으로 떨어지게 함 )
        editor = CKEDITOR.replace('bsnsCn', {enterMode: CKEDITOR.ENTER_BR});
        
        
        // 사업기간 설정 daterangepicker
		$("#bsnsBgng").daterangepicker({
		    autoUpdateInput: false,
		    locale: {
		        format: "YYYY-MM-DD",
		    },
		});
		
        // 사업기간 설정시 사업 시작일과 종료일을 각각 저장해준다.
		$("#bsnsBgng").on('apply.daterangepicker', function(ev, picker) {
			$("#bsnsBgngDe").val(picker.startDate.format('YYYY-MM-DD'));
            $("#bsnsEndDe").val(picker.endDate.format('YYYY-MM-DD'));
            $(this).val(picker.startDate.format('YYYY-MM-DD') + ' - ' + picker.endDate.format('YYYY-MM-DD'));
        });

        // 사업기간 설정 daterangepicker에서 cancel 버튼 클릭 시 선택한 기간을 취소한다.
//         $("#bsnsBgng").on('cancel.daterangepicker', function(ev, picker) {
//             $(this).val('');
//         });
        
        var validator = $("#insertForm").validate({
            rules: {
                fldCd    : { required: true }
                , trgtCd : { required: true } 
                , aplyBgngDt : { required: true } 
                , aplyEndDt : { required: true } 
                , bsnsBgng : { required: true } 
                , onlnSrngTypeCd : { required: true } 
                , srngFormidFirst : { required: true } 
//                 , delvryAplyBgngDtFirst : { required: true } 
//                 , delvryAplyEndDtFirst : { required: true } 
//                 , delvryCfmtnPrsntnEndDtFirst : { required: true } 
//                 , delvryCfmtnPrsntnEndDtFirst : { required: true } 
//                 , cptalExcutBgngDtFirst : { required: true } 
//                 , cptalExcutEndDtFirst : { required: true } 
                , rsltReportBgngDt : { required: true } 
                , rsltReportEndDt : { required: true } 
            },
            messages: {
                fldCd    :   { required: "사업분야를 선택해주십시오." }  
                , trgtCd    :   { required: "신청대상을 선택해주십시오." }  
                , aplyBgngDt    :   { required: "신청기간 시작일시를 선택해주십시오." }  
                , aplyEndDt    :   { required: "신청기간 종료일시를 선택해주십시오." }  
                , bsnsBgng    :   { required: "사업기간을 선택해주십시오." }  
                , onlnSrngTypeCd    :   { required: "온라인 심사유형을 선택해주십시오." }  
                , srngFormidFirst    :   { required: "1차 심사표를 선택해주십시오." }  
//                 , delvryAplyBgngDtFirst    :   { required: "교부신청기간 시작일시를 선택해주십시오." }  
//                 , delvryAplyEndDtFirst    :   { required: "교부신청기간 종료일시를 선택해주십시오." }  
//                 , delvryCfmtnPrsntnEndDtFirst    :   { required: "교부확정발표기간 시작일시를 선택해주십시오." }
//                 , delvryCfmtnPrsntnEndDtFirst    :   { required: "교부확정발표기간 종료일시를 선택해주십시오." }
//                 , cptalExcutBgngDtFirst    :   { required: "자금집행기간 시작일시를 선택해주십시오." }
//                 , cptalExcutEndDtFirst    :   { required: "자금집행기간 종료일시를 선택해주십시오." }
                , rsltReportBgngDt    :   { required: "결과보고기간 시작일시를 선택해주십시오." }
                , rsltReportEndDt    :   { required: "결과보고기간 종료일시를 선택해주십시오." }
            }
        });
        
        if ($("#atchfileCnt").val() != null && $("#atchfileCnt").val() != 0) {
            atchfileCnt = $("#atchfileCnt").val()
        }
        if ($("#atchfileSize").val() != null && $("#atchfileSize").val() != 0) {
            atchfileSize = $("#atchfileSize").val()
        }
        
        // 신청대상 클릭 이벤트 중지.
        $('input[name=trgtCd]').click(function (event){
            event.preventDefault();
            event.stopPropagation();
        });
        
        // 사업분야 선탹값에 따른 신청대상 값 자동 적용
        $("#fldCd").change(function() {
        	if ($(this).val() != "") {
	        	if ($(this).val() == "173105" || $(this).val() == "173106") {
	        		// 개인
	        		$("input[name='trgtCd'][value='175101']").prop('checked', false);
	        		$("input[name='trgtCd'][value='175102']").prop('checked', true);
	        	} else {
	        		// 기관
	        		$("input[name='trgtCd'][value='175101']").prop('checked', true);
	        		$("input[name='trgtCd'][value='175102']").prop('checked', false);
	        	}        		
        	} else {
        		$("input[name='trgtCd'][value='175101']").prop('checked', false);
                $("input[name='trgtCd'][value='175102']").prop('checked', false);
        	}
        });
        
        // 교부 기간 설정
        $("input[name='wctDelvryCnt']").change(function() {
        	changeDelevery($(this).val());
        });
        
        // 중간보고 사용여부가 'Y'일 경우 중간보고기간 설정을 활성화 한다.
        $("input[name='mdlReportYn']").change(function() {
        	if ($(this).val() == "Y") {
        		$("input[name='mdlReportBgngDt']").attr("disabled", false);
        		$("input[name='mdlReportEndDt']").attr("disabled", false);
        	} else {
        		$("input[name='mdlReportBgngDt']").attr("disabled", true);
        		$("input[name='mdlReportEndDt']").attr("disabled", true);
        	}
        });
        
        $("input[name='nopeLmtUseYn']").change(function() {
        	if ($(this).val() == "Y") {
        		$("input[name='nopeLmt']").attr("readonly", false);
        	} else {
        		$("input[name='nopeLmt']").attr("readonly", true);
        	}
        });
        
        // 1차 최저 기준 평균점수 사용여부가 'Y'일 경우 점수입력란을 활성화 한다.
        $("input[name='lwetCrtrScrUseYnFirst']").change(function() {
        	if ($(this).val() == "Y") {
        		$("input[name='lwetCrtrScrFirst']").attr("readonly", false);
        		$("input[name='lwetCrtrScrFirst']").attr("readonly", false);
        	} else {
        		$("input[name='lwetCrtrScrFirst']").val("");
        		$("input[name='lwetCrtrScrFirst']").attr("readonly", true);
        		$("input[name='lwetCrtrScrFirst']").attr("readonly", true);
        	}
        });
        
        // 2차 최저 기준 평균점수 사용여부가 'Y'일 경우 점수입력란을 활성화 한다.
        $("input[name='lwetCrtrScrUseYnScnd']").change(function() {
        	if ($(this).val() == "Y") {
        		$("input[name='lwetCrtrScrScnd']").attr("readonly", false);
        		$("input[name='lwetCrtrScrScnd']").attr("readonly", false);
        	} else {
        		$("input[name='lwetCrtrScrScnd']").val("");
        		$("input[name='lwetCrtrScrScnd']").attr("readonly", true);
        		$("input[name='lwetCrtrScrScnd']").attr("readonly", true);
        	}
        });
        
        // 온라인 심사유형이 2차일 경우 2차심사 설정영역을 노출한다.
        $("input[name='onlnSrngTypeCd']").change(function() {
            if ($(this).val() == "177102") {
                $(".secondForm").show();
                $("#rtFirst").attr("readonly", false);
                $("#rtScnd").attr("readonly", false);
            } else {
            	$(".secondForm").hide();
            	$("#rtFirst").attr("readonly", true);
                $("#rtScnd").attr("readonly", true);
            }
        });
        
        // 수정화면에서 온라인 심사유형이 2차일 경우 2차심사 설정영역을 노출한다.
        if ($("input[name='onlnSrngTypeCd']:checked").val() == "177102") {
        	$(".secondForm").show();
        	$("#rtFirst").attr("readonly", false);
            $("#rtScnd").attr("readonly", false);
        }
        
        // 수정화면에서 교부 기간 설정
        changeDelevery($("input[name='wctDelvryCnt']:checked").val());
        
        // 수정화면에서 중간보고 사용여부가 'N'일 경우 중간보고기간 설정을 비활성화 한다.
        if ($("input[name='mdlReportYn']:checked").val() == "N") {
        	$("input[name='mdlReportBgngDt']").attr("disabled", true);
            $("input[name='mdlReportEndDt']").attr("disabled", true);
        }
        
        // 수정화면에서 1차 최저 기준 평균점수 사용여부가 'Y'일 경우 점수입력란을 비활성화 한다.
        if ($("input[name='lwetCrtrScrUseYnFirst']:checked").val() == "Y") {
        	$("input[name='lwetCrtrScrFirst']").attr("readonly", false);
            $("input[name='lwetCrtrScrFirst']").attr("readonly", false);
        }
        
        // 수정화면에서 2차 최저 기준 평균점수 사용여부가 'Y'일 경우 점수입력란을 비활성화 한다.
        if ($("input[name='lwetCrtrScrUseYnScnd']:checked").val() == "Y") {
        	$("input[name='lwetCrtrScrScnd']").attr("readonly", false);
            $("input[name='lwetCrtrScrScnd']").attr("readonly", false);
        }
        
        if ($("input[name='nopeLmtUseYn']:checked").val() == "Y") {
        	$("input[name='nopeLmt']").attr("readonly", false);
        }
	});
	
    // 파일업로드
    $('#multiFileInput').on("change", function(event) {
        var objFile = document.querySelector('#multiFileInput');
        var formData = new FormData();
        var content = "";

        for( i = 0 ; i < objFile.files.length ; i++) {
	        if(uploadFileCnt >= atchfileCnt){
	            alert("첨부파일은  "+atchfileCnt+ " 개 까지 가능합니다." ); break;
	        } else {
	            formData.append("files", objFile.files[i]);
	            uploadFileCnt++;
	        }
        }

        formData.append("filegrpid", $("#filegrpid").val());
        formData.append("filegrpNm", "pcntst");

        if(uploadFileCnt > 0){
            $.ajax({
                url : '/uploadMultipleFiles.do',
                processData : false,
                contentType : false,
                data : formData,
                type : 'POST',
                success : function(response) {
                    if(response.result == 'fail'){
                        alert(response.msg);
                    }else{
                        if($("#filegrpid").val()=='0' || $("#filegrpid").val()==''  || $("#filegrpid").val()==null){
                            $("#filegrpid").val( response[0].filegrpid );
                        }

                        for(i = 0 ;i < response.length; i++ ){
    //                         content = "<div class ='' id='"+response[i].fileid+"'><a href=javascript:downloadFileByFileid('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"')>"+response[i].orginlFileNm +"</a>";
    //                         content +="&nbsp;&nbsp;<input type='button'  class = 'btn btn-xs btn-danger' onclick =uploadFileCnt--;fn_deleteFileList('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') value='X'/></div>";
                            content =  "<span id='"+response[i].fileid+"' class='label label-inverse' href=javascript:downloadFileByFileid('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"')>"+response[i].orginlFileNm
                            content += "&nbsp;&nbsp;<a href='javascript:void(0)' onclick =uploadFileCnt--;fn_deleteFileList('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') class='text-white'>X</a></span>"
    //                         content += "<a type='button'  class = 'text-white' onclick =uploadFileCnt--;fn_deleteFileList('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') value='X'/></a></span>"
                            $('#multipleFileUploadSuccess').append(content);
                        }
                    }
                }
            });
           $("#sftyMngMnlFile").val("");
        }
    });
    
    // 사업비 교부횟수가 1회일 경우 교부신청기간(1차), 교부확정발표기간(1차), 자금집행기간(1차) 설정을 활성화 
    // 2회일 경우 교부신청기간(2차), 교부확정발표기간(2차), 자금집행기간(2차) 설정을 활성화.
    // 0회일 경우 모두 비활성화
    function changeDelevery(value) {
    	if (value == "1") {
            $("input[name='delvryAplyBgngDtFirst']").attr("disabled", false);
            $("input[name='delvryAplyEndDtFirst']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnBgngDtFirst']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnEndDtFirst']").attr("disabled", false);
            $("input[name='cptalExcutBgngDtFirst']").attr("disabled", false);
            $("input[name='cptalExcutEndDtFirst']").attr("disabled", false);
            $("input[name='delvryAplyBgngDtScnd']").attr("disabled", true);
            $("input[name='delvryAplyEndDtScnd']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnBgngDtScnd']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnEndDtScnd']").attr("disabled", true);
            $("input[name='cptalExcutBgngDtScnd']").attr("disabled", true);
            $("input[name='cptalExcutEndDtScnd']").attr("disabled", true);
        } else if (value == "2") {
            $("input[name='delvryAplyBgngDtFirst']").attr("disabled", false);
            $("input[name='delvryAplyEndDtFirst']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnBgngDtFirst']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnEndDtFirst']").attr("disabled", false);
            $("input[name='cptalExcutBgngDtFirst']").attr("disabled", false);
            $("input[name='cptalExcutEndDtFirst']").attr("disabled", false);
            $("input[name='delvryAplyBgngDtScnd']").attr("disabled", false);
            $("input[name='delvryAplyEndDtScnd']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnBgngDtScnd']").attr("disabled", false);
            $("input[name='delvryCfmtnPrsntnEndDtScnd']").attr("disabled", false);
            $("input[name='cptalExcutBgngDtScnd']").attr("disabled", false);
            $("input[name='cptalExcutEndDtScnd']").attr("disabled", false);
        } else {
            $("input[name='delvryAplyBgngDtFirst']").attr("disabled", true);
            $("input[name='delvryAplyEndDtFirst']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnBgngDtFirst']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnEndDtFirst']").attr("disabled", true);
            $("input[name='cptalExcutBgngDtFirst']").attr("disabled", true);
            $("input[name='cptalExcutEndDtFirst']").attr("disabled", true);
            $("input[name='delvryAplyBgngDtScnd']").attr("disabled", true);
            $("input[name='delvryAplyEndDtScnd']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnBgngDtScnd']").attr("disabled", true);
            $("input[name='delvryCfmtnPrsntnEndDtScnd']").attr("disabled", true);
            $("input[name='cptalExcutBgngDtScnd']").attr("disabled", true);
            $("input[name='cptalExcutEndDtScnd']").attr("disabled", true);
        }
    }

    // 파일삭제
    function fn_deleteFileList(fileid, fileIdntfcKey){
        if(!confirm("파일을 삭제하시겠습니까?")){return;}
        fn_deleteFile(fileid, fileIdntfcKey);
        $("#"+fileid).remove();
    }

    // 파일삭제
    function fn_deleteFile(fileid, fileIdntfcKey){
        var deleteFileUrl="/deleteFile.do?fileid="+fileid+"&file_idntfc_key=" + fileIdntfcKey;
          $.ajax({
            url : deleteFileUrl,
            type: 'GET',
            cache : false,
            dataType: 'json',
            success : function (data){
                console.log(data);
                if(data.result=="success"){
                    $("#"+fileid).remove();
                    alert("파일삭제가 완료 되었습니다.");
                }else{
                    alert("파일삭제중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
                }
            },
            error : function (error){
            }
         })
    };
    
    // 저장
    function fn_save(){
        if(!($("#insertForm").valid())) return;
        
        // 온라인 심사유형이 2차일 경우 2차 심사표를 필수 항목으로 설정한다.
        if ($("#onlnSrngTypeCd").val() == "177102") {
            if ($("#srngFormidScnd").val() == "" || $("#srngFormidScnd").val() == null) {
            	alert("2차 심사표를 선택해주십시오");
            	showErrorMark("#srngFormidScnd");
                return;
            }
        }
        
        // 사업비 교부횟수가 2회일 경우 교부신청기간(2차), 자금집행기간(2차) 입력을 필수로 한다.
        if ($("input[name='wctDelvryCnt']:checked").val() == "2") {
        	if ($("input[name='delvryAplyBgngDtScnd']").val() == "" || $("input[name='delvryAplyBgngDtScnd']").val() == null) {
        		alert("교부신청기간(2차) 설정은 필수입니다.");
        		showErrorMark("#delvryAplyBgngDtScnd");
                return;
        	}
            if ($("input[name='delvryAplyEndDtScnd']").val() == "" || $("input[name='delvryAplyEndDtScnd']").val() == null) {
        		alert("교부신청기간(2차) 설정은 필수입니다.");
        		showErrorMark("#delvryAplyEndDtScnd");
        		return;
        	}
        	if ($("input[name='cptalExcutBgngDtScnd']").val() == "" || $("input[name='cptalExcutBgngDtScnd']").val() == null) {
        		alert("자금집행기간(2차) 설정은 필수입니다.");
        		showErrorMark("#cptalExcutBgngDtScnd");
                return;
        	} 
        	if ($("input[name='cptalExcutEndDtScnd']").val() == "" || $("input[name='cptalExcutEndDtScnd']").val() == null) {
        		alert("자금집행기간(2차) 설정은 필수입니다.");
        		showErrorMark("#cptalExcutEndDtScnd");
        		return;
        	}
        }
        
        // 중간보고 사용여부가 'Y'일 경우 중간보고기간 입력을 필수로 한다.
        if ($("input[name='mdlReportYn']:checked").val() == "Y") {
        	if ($("input[name='mdlReportBgngDt']").val() == "" || $("input[name='mdlReportBgngDt']").val() == null) {
        		alert("중간보고기간 설정은 필수입니다.");
        		showErrorMark("#mdlReportBgngDt");
                return;
        	} 
        	if ($("input[name='mdlReportEndDt']").val() == "" || $("input[name='mdlReportEndDt']").val() == null) {
        		alert("중간보고기간 설정은 필수입니다.");
        		showErrorMark("#mdlReportEndDt");
        		return;
        	}
        }
        
        // 설정기간체크
        if($("#aplyBgngDt").val() > $("#aplyEndDt").val() ) { alert("신청기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#aplyEndDt"); return; }
        if($("#srngBgngDt").val() > $("#srngEndDt").val() ) { alert("심사기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#srngEndDt"); return; }
        if($("#delvryAplyPrsntnBgngDt").val() > $("#delvryAplyPrsntnEndDt").val() ) { alert("교부신청발표기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#delvryAplyPrsntnEndDt"); return; }
        if($("#delvryAplyBgngDtFirst").val() > $("#delvryAplyEndDtFirst").val() ) { alert("교부신청기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#delvryAplyEndDtFirst"); return; }
        if($("#delvryAplyBgngDtScnd").val() > $("#delvryAplyEndDtScnd").val() ) { alert("교부신청기간(2차) 종료일은 시작일 이후여야 합니다."); showErrorMark("#delvryAplyEndDtScnd"); return; }
        if($("#delvryCfmtnPrsntnEndDtFirst").val() > $("#delvryCfmtnPrsntnEndDtFirst").val() ) { alert("교부확정발표기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#delvryCfmtnPrsntnEndDtFirst"); return; }
        if($("#cptalExcutBgngDtFirst").val() > $("#cptalExcutEndDtFirst").val() ) { alert("자금집행기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#cptalExcutEndDtFirst"); return; }
        if($("#cptalExcutBgngDtScnd").val() > $("#cptalExcutEndDtScnd").val() ) { alert("자금집행기간(2차) 종료일은 시작일 이후여야 합니다."); showErrorMark("#cptalExcutEndDtScnd"); return; }
        if($("#mdlReportBgngDt").val() > $("#mdlReportEndDt").val() ) { alert("중간보고기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#mdlReportEndDt"); return; }
        if($("#rsltReportBgngDt").val() > $("#rsltReportEndDt").val() ) { alert("결과보고기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#rsltReportEndDt"); return; }
        if($("#excclcReportBgngDt").val() > $("#excclcReportEndDt").val() ) { alert("정산보고기간 종료일은 시작일 이후여야 합니다."); showErrorMark("#excclcReportEndDt"); return; }
        
        var editorData = editor.getData();
        $("#bsnsCn").val(editorData);
        
//         if ($("input[name='wctDelvryCntYn']:checked").val() == "Y") {
//         	$("#wctDelvryCnt").val("2");
//         } else {
//         	$("#wctDelvryCnt").val("1");
//         }
        
        if(!confirm("저장하시겠습니까?")) return;
        
        var data =  $("#insertForm").serialize();
        
        if(displayWorkProgress()){
            $.ajax({
                url : (pcntstid == "" || pcntstid == null) ? insertUrl : updateUrl,
                type: 'POST',
                cache : false,
                dataType: 'json',
                data : data,
                success : function (data){
                    if(data.result=="success"){
                        alert(data.msg);
                        if (pcntstid == "" || pcntstid == null) {
                            gridHelper1.resetListContent();                         
                        } else {
                            gridHelper1.resetPageContent();                         
                        }
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
    }
    
    //담당자 삭제 
    var deleteMng = (num, id) =>{
        $("#mng_list_area_"+num).find("#mng_list_"+id).remove();
    }
</script>