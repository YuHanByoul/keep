<form id="fcltMngUpdate" onsubmit="return false;">
    <input type="hidden" id="fcltid" name="fcltid" th:value="${fcltMng.fcltid}">
    <!--탭영역 start --> 
    <div class="tab-pane active" id="agencyInfo" role="tabpanel">
        <div class="card-header p-t-0 p-b-0">
            <h3 class="sub-title"><strong>시설 정보</strong></h3>
        </div>
        <div class="card-block-small p-t-0">
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="instNm"><strong>운영기관</strong></label>
                        <div class="row">
                            <div class="col">
<!--                                 <th:block th:if ="${inst != null}">
                                    <p th:text ="${fcltMng.instNm}">기관명</p>
                                    <input type="hidden" name="instid" id="instid" th:value="${fcltMng.instid}"/>
                                </th:block>
                                <th:block th:if ="${inst == null}"> -->
                                    <input type="text" class="form-control form-control-sm" name="instNm" id="instNm" th:value="${fcltMng.instNm}" placeholder="운영기관" readonly/>
                                    <input type="hidden" name="instid" id="instid" th:value="${fcltMng.instid}"/>
<!--                                 </th:block> -->
                            </div>
<!--                             <th:block th:if ="${inst == null}"> -->
                                <div class="col-auto p-l-0">
                                    <button type="button" class="btn btn-inverse btn-sm" onclick="fn_openInstSearchModal();">
                                        기관검색
                                    </button>
                                </div>
<!--                             </th:block> -->
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="fcltNm"><strong>시설</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" name="fcltNm" id="fcltNm" placeholder="시설명" th:value="${fcltMng.fcltNm}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="fcltNo"><strong>시설번호</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" name="fcltNo" id="fcltNo" placeholder="시설번호" readonly th:value="${fcltMng.fcltNo}">
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="addr"><strong>주소</strong></label>
                        <div class="row">
                            <div class="col">
                                <input type="hidden" class="form-control form-control-sm" name="zip" id="zip" th:value="${fcltMng.zip}">
                                <input type="text" class="form-control form-control-sm" name="addr" id="addr" placeholder="주소" onclick="daumPostcode()" readonly th:value="${fcltMng.addr}">
                            </div>
                            <div class="col-auto p-l-0">
                                <button type="button" class="btn btn-inverse btn-sm" onclick="daumPostcode()">
                                    주소검색
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="addrDtl"><strong>상세주소</strong></label>
                        <input type="text" class="form-control form-control-sm" name="addrDtl" id="addrDtl" placeholder="상세주소" th:value="${fcltMng.addrDtl}">
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1">
                            <strong>예약신청방법</strong></div>
                        <div class="col-12 row align-items-center">
                            <div class="col-12 col-lg-auto mb-2 mb-lg-0 p-r-0">
                                <div class="form-radio">
                                    <span kattr:radio_code="aplyMthdCd" th:attr="grpCd=153, selectedCd=${fcltMng.aplyMthdCd}" isAdmin="true" addStyle="margin-top:4px" addClass="col-sm-6"></span>
                                </div>
                            </div>
                            <div class="col-12 col-lg-auto">
                                <input type="text" class="form-control form-control-sm" name="extnlUrl" id="extnlUrl" placeholder="외부 URL" th:value="${fcltMng.extnlUrl}">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>입금계좌정보</strong></div>
                        <div class="col-12 row m-r-0 m-l-0">
                            <div class="col-3 p-l-0 p-r-0">
                                <span kattr:select_code="bankCd" grpCd="154" firstOptTxt="- 선택 -" th:attr="selectedCd=${fcltMng.bankCd}" addClass="form-select form-select-sm form-control-sm" ></span>
                            </div>
                            <div class="col-6 p-r-0">
                                <input type="text" class="form-control form-control-sm" name="bacntNo" id="bacntNo" placeholder="입금계좌번호" th:value="${fcltMng.bacntNo}">
                            </div>
                            <div class="col-3 p-r-0">
                                <input type="text" class="form-control form-control-sm" name="dpstrNm" id="dpstrNm" placeholder="예금주명" th:value="${fcltMng.dpstrNm}">
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>작성자</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" readonly="" th:value="${fcltMng.nm}">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>등록일</strong></label>
                        <div class="col-12">
                            <input type="text" class="form-control form-control-sm" th:value="${#dates.format(fcltMng.regDt, 'yyyy-MM-dd')}" readonly>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group row required">
                        <div class="form-label col-sm-12 col-form-label p-t-0 pb-1"><strong>사용여부</strong></div>
                        <div class="col-12">
                            <div class="form-radio">
                                <div class="radio radio-inline">
                                    <label class="mb-0 form-label">
                                        <input type="radio" name="useYnChk" id="useYnChkY" value="Y" th:checked = "${fcltMng.useYn == 'Y' }">
                                        <i class="helper"></i>사용
                                    </label>
                                </div>
                                <div class="radio radio-inline">
                                    <label class="mb-0 form-label">
                                        <input type="radio" name="useYnChk" id="useYnChkN" value="N" th:checked = "${fcltMng.useYn == 'N' }">
                                        <i class="helper"></i>사용안함
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-header p-t-0 p-b-0">
            <h3 class="sub-title"><strong>이미지/안내자료 업로드</strong></h3>
        </div>
        <div class="card-block-small p-t-0">
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group required">
                        <div class="col-12 form-label m-b-0 pb-1">
                            <label class="col-form-label pb-0 p-t-0" for="rprsImgFile"><strong>대표 이미지</strong></label>
                            <p class="text-warning m-b-0">* 10MB 미만의 JPG, PNG, GIF파일만 업로드 가능(권장사이즈 : 가로 398px, 세로 223px)</p>
                        </div>
                        <div class="col-12">
                            <input type="file" class="form-control form-control-sm" id="rprsImgFile" name="rprsImgFile"/>
                            <input type="hidden" name="rprsImgFilegrpid" id="rprsImgFilegrpid" value="0">
                            <input type="hidden" name="rprsImgFileid" id="rprsImgFileid" th:value="${fcltMng.rprsImgFileid}">
                        </div>
                        <div class="mt-2 row">
                            <div class="col-auto">
                                <div id="fileUploadRprsSuccess">
                                    <!-- 파일 명 및 삭제 버튼 영역-->
                                    <th:block th:if = "${rprsImgFileMap} != null ">
                                        <span class ='label label-inverse ' th:id="'rprsImgFile_'+${rprsImgFileMap.fileid}">
                                            <th:block th:text="${rprsImgFileMap.orginlFileNm}"></th:block>
                                            &nbsp;&nbsp;
                                            <a  class = 'text-white' href = "javascript:void(0)"
                                                th:name="${rprsImgFileMap.fileid}" th:attr="data-idntfc-key=${rprsImgFileMap.fileIdntfcKey}"
                                                th:onclick="fn_deleteRprsImgFile(this.name, this.dataset.idntfcKey)">X</a>
                                        </span>
                                    </th:block>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="multiFileInput"><strong>상세 이미지 <!-- (권장 사이즈 : 000x000) --></strong></label>
                        <p class="text-warning m-b-0">* 10MB 미만의 JPG, PNG, GIF파일만 업로드 가능(권장사이즈 : 가로 398px, 세로 223px)</p>
                        <div class="col-12">
                            <input type="file" multiple id="multiFileInput" name="dtlImgFiles" class="form-control form-control-sm"/>
                            <input type="hidden" name="dtlImgFilegrpid" id="dtlImgFilegrpid" th:value="${fcltMng.dtlImgFilegrpid}">
                        </div>
                        <div class="mt-2 row">
                            <div class="col-auto">
                                <span id="fileListArea">
                                    <!-- 파일 명 및 삭제 버튼 영역-->
                                     <th:block th:if = "${dtlImgFileMap} != null ">
                                        <span th:each="item:${dtlImgFileMap}" class ='label label-inverse ' th:id="'dtlImgFile_'+${item.fileid}">
                                            <th:block th:text="${item.orginlFileNm}"></th:block>
                                            &nbsp;&nbsp;
                                            <a  class = 'text-white' href = "javascript:void(0)"
                                                th:name="${item.fileid}" th:attr="data-idntfc-key=${item.fileIdntfcKey}"
                                                th:onclick="fn_deleteDtlImgFile(this.name, this.dataset.idntfcKey)">X</a>
                                        </span>
                                     </th:block>
                                  </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 mb-3">
                    <div class="mb-0 form-group">
                        <label class="form-label col-sm-12 col-form-label p-t-0 pb-1" for="gdncFile"><strong>안내자료</strong></label>
                        <div class="col-12">
                            <input type="file" class="form-control form-control-sm" id="gdncFile" name="gdncFile"/>
                            <input type="hidden" name="gdncFilegrpid" id="gdncFilegrpid" value="0">
                            <input type="hidden" name="gdncFileid" id="gdncFileid" th:value="${fcltMng.gdncFileid}">
                        </div>
                        <div class="mt-2 row">
                            <div class="col-auto">
                                <div id="fileUploadGdncSuccess">
                                    <!-- 파일 명 및 삭제 버튼 영역-->
                                    <th:block th:if = "${gdncFileMap} != null ">
                                        <span th:each="item:${gdncFileMap}" class ='label label-inverse ' th:id="'gdncFile_'+${item.fileid}">
                                            <th:block th:text="${item.orginlFileNm}"></th:block>
                                            &nbsp;&nbsp;
                                            <a  class = 'text-white' href = "javascript:void(0)"
                                                th:name="${item.fileid}" th:attr="data-idntfc-key=${item.fileIdntfcKey}"
                                                th:onclick="fn_deleteGdncFile(this.name, this.dataset.idntfcKey)">X</a>
                                        </span>
                                    </th:block>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-header p-t-0 p-b-0">
            <h3 class="sub-title"><strong>상세 정보</strong></h3>
        </div>
        <div class="card-block-small p-t-0">
            <div class="mb-2 form-group row">
                <div class="col-12">
                    <textarea rows="5" cols="5" class="form-control form-control-sm" id="dtlCn" name="dtlCn"><th:block th:text="${fcltMng.dtlCn}"/></textarea>
                </div>
            </div>
        </div>
        <div class="card-block-small">
            <button class="btn btn-disabled m-r-5" onclick="gridHelper2.toggleContent()">취소</button>
            <th:block sec:authorize-url="/mng/fcltMng/updateFcltMng.do">
            <button class="btn btn-primary" onclick="fn_updateFcltMng()">저장</button>
            </th:block>
        </div>
        <div class="tab-pane" id="managerInfo" role="tabpanel"></div>
    </div>

    <!-- 탭영역 end -->
    <input type="hidden" id="rgnCd" name="rgnCd" th:value="${fcltMng.rgnCd}"/>
    <!-- 탭영역 end -->
</form>

<!-- 임시비밀번호발급 Start -->
<div class="modal fade" id="popCon1" tabindex="-1" role="dialog" aria-labelledby="popCon1Title" aria-hidden="true"></div>
<!-- 임시비밀번호발급 End -->

<div class="modal fade" id="instSearchPopup" data-bs-backdrop="static"></div>

<script th:inline="javascript">
    // 기관검색 팝업
    var instSearchPopupUrl = "/mng/fcltMng/instSearchPopup.html";
    var instSearchAddModal;

    init();
    
    
    var fn_openInstSearchModal = () => {
        $("#instSearchPopup").load(instSearchPopupUrl, function(response, status, xhr) {
            if (status == "success") {
                instSearchAddModal = new bootstrap.Modal($('#instSearchPopup'));
                instSearchAddModal.show();
            }
        });
    }
    
    function init() {
        changeAplyMthdCdYn();
        
        $('input:radio[name=aplyMthdCd]').on('change', function(){
            changeAplyMthdCdYn();
        })
    }
    
    // 예약신청방법
    function changeAplyMthdCdYn() {

        if($('input:radio[name=aplyMthdCd]:checked').val() == "153102"){
            // 외부 URL 입력 창 활성화
            $('#extnlUrl').css('visibility', '');
            // $('#extnlUrl').show();

            // 입금계좌정보 비활성화
            $('#bankCon').removeClass('required');
            $('#bankCd').val('');
            $('#bankCd').attr('disabled', true);
            $('#bacntNo').val('');
            $('#bacntNo').attr('disabled', true);
            $('#dpstrNm').val('');
            $('#dpstrNm').attr('disabled', true);
        }else{
            // 외부 URL 입력 창 비활성화
            $('#extnlUrl').val('');
            $('#extnlUrl').css('visibility', 'hidden')

            // 입금계좌정보 활성화
            $('#bankCon').addClass('required');
            $('#bankCd').attr('disabled', false);
            $('#bacntNo').attr('disabled', false);
            $('#dpstrNm').attr('disabled', false);
        }
    } 
    
    // 대표이미지 파일 첨부 (단일 파일)
    $('#rprsImgFile').change(function(event) {
        var formData = new FormData();
        var objFile = event.target;
        var content = "";

        formData.append("file", objFile.files[0]);
        formData.append("filegrpNm", "rprsImg_file");
        if($('#rprsImgFilegrpid').val() != '')
            formData.append("filegrpid", $('#rprsImgFilegrpid').val());

        if(displayWorkProgress()){
            $.ajax({
                url : '/uploadFile.do',
                processData : false,
                contentType : false,
                data : formData,
                type : 'POST',
                success : function(response) {
                    if(response.result == 'fail'){
                        alert(response.msg);
                    }else if(response.filegrpid != undefined && response.filegrpid != ''){
                        $("#rprsImgFileid").val(response.fileid);
                        content = "<div class ='label label-inverse text-white' id='"+response.fileid+"'><a href=javascript:downloadFileByFileid('"+response.fileid+"','"+response.fileIdntfcKey+"') class='text-white'>"+response.orginlFileNm+"&nbsp;&nbsp;</a>";
                        content +="<a href=javascript:fn_deleteRprsImgFile('"+response.fileid+"','"+response.fileIdntfcKey+"') class='text-white'>X</a></div>";
                        $('#fileUploadRprsSuccess').html(content);
                    }
                    closeWorkProgress();
                }
            });
            $("#rprsImgFile").val("");
        }

        event.preventDefault();
    });
    
    // 상세 이미지 파일 첨부 (멀티 파일) 
    $('#multiFileInput').on("change", function(event) {
       
       var objFile = document.querySelector('#multiFileInput');
       var formData = new FormData();
       var content = "";
       var uploadFileCnt = 0;
       
       for( i = 0 ; i < objFile.files.length ; i++) {
           formData.append("files", objFile.files[i]);
           uploadFileCnt++;
       }
       
       formData.append("filegrpid", $("#dtlImgFilegrpid").val()); 
       formData.append("filegrpNm", "dtlImg_file");
       
           $.ajax({
               url : '/uploadMultipleFiles.do',
               processData : false,
               contentType : false,
               data : formData,
               type : 'POST',
               success : function(response) {

                   if(response.result == 'fail'){
                      alert(response.msg);
                   }else{
                       if($("#dtlImgFilegrpid").val()=='0' || $("#dtlImgFilegrpid").val()==''  || $("#dtlImgFilegrpid").val()==null){
                           $("#dtlImgFilegrpid").val( response[0].filegrpid );
                       }
                       
                       for(i = 0 ;i < response.length; i++ ){

                           content = "<div class ='label label-inverse text-white' id='"+response[i].fileid+"'><a href=javascript:downloadFileByFileid('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') class='text-white'>"
                           content += response[i].orginlFileNm+"&nbsp;&nbsp;</a>";
                           content +="<a href=javascript:fn_deleteGdncFile('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"') class='text-white'>X</a></div>";
                           
/*                            content = "<span class ='label label-inverse mb-2' id='dtImgFile_"+response[i].fileid+"'>"+response[i].orginlFileNm ;
                           content +="&nbsp;&nbsp;  <a  class = 'btn text-white' href = javascript:fn_deleteDtlImgFile('"+response[i].fileid+"','"+response[i].fileIdntfcKey+"')>X</a></span>&nbsp;&nbsp;"; */
                           
                           $('#fileListArea').append(content);
                       }
                   }
               }
           })
           
          if (detectBrowser() == "other") { 
              $("#multiFileInput").val("");
          } else {   
             $("#multiFileInput").replaceWith( $("#multiFileInput").clone(true)) 
          }
           
    });
    
    // 안내자료 파일 첨부 (단일 파일)
    $('#gdncFile').change(function(event) {
        var formData = new FormData();
        var objFile = event.target;
        var content = "";

        formData.append("file", objFile.files[0]);
        formData.append("filegrpNm", "gdnc_file");
        if($('#gdncFilegrpid').val() != '')
            formData.append("filegrpid", $('#gdncFilegrpid').val());

        if(displayWorkProgress()){
            $.ajax({
                url : '/uploadFile.do',
                processData : false,
                contentType : false,
                data : formData,
                type : 'POST',
                success : function(response) {
                    if(response.result == 'fail'){
                        alert(response.msg);
                    }else if(response.filegrpid != undefined && response.filegrpid != ''){
                        
                        $("#gdncFileid").val(response.filegrpid);
                        
                        content = "<div class ='label label-inverse text-white' id='"+response.fileid+"'><a href=javascript:downloadFileByFileid('"+response.fileid+"','"+response.fileIdntfcKey+"') class='text-white'>"+response.orginlFileNm+"&nbsp;&nbsp;</a>";
                        content +="<a href=javascript:fn_deleteGdncFile('"+response.fileid+"','"+response.fileIdntfcKey+"') class='text-white'>X</a></div>";
                        $('#fileUploadGdncSuccess').html(content);
                    }
                    closeWorkProgress();
                }
            });
            $("#gdncFile").val("");
        }

        event.preventDefault();

    });

    function fn_deleteFileList(fileid, fileIdntfcKey){
        if(!confirm("파일을 삭제하시겠습니까?")){return;}
        fn_deleteFile(fileid, fileIdntfcKey);
        $("#"+fileid).remove();
        $('#rprsImgFile').val('');
    };
    
    function fn_deleteFile(fileid, fileIdntfcKey){
                   
        var deleteFileUrl="/deleteFile.do?fileid="+fileid+"&file_idntfc_key=" + fileIdntfcKey; 
          $.ajax({
            url : deleteFileUrl,
            type: 'GET',
            cache : false,
            dataType: 'json',
            success : function (data){
                if(data.result=="success"){
                    alert("파일삭제가 완료 되었습니다.");
                }else{
                    alert("파일삭제중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
                }
            },
            error : function (error){
            } 
         })
    };
    
    var validator= $("#fcltMngUpdate").validate({
        onsubmit: false,
        rules: {
              fcltNm    : { required: true , maxlength: 50 }
              ,addr     : { required: true }
              ,addrDtl  : { required: true , maxlength: 200}
              ,bankCd   : { required: true }
              ,bacntNo  : { required: true , maxlength: 20, number:true}
              ,dpstrNm  : { required: true , maxlength: 10}
          },
          messages: {
              fcltNm    : { required: "시설명을 입력해주십시오." , maxlength: "기관명은 50자 이하여야 합니다." }  
              ,addr     : { required: "주소를 입력해주십시오" }
              ,addrDtl  : { required: "상세주소를 입력해주십시오" , maxlength: "상세주소는 200자 이하여야 합니다." }
              ,bankCd   : { required: "입금졔좌 은행을 선택해주십시오." }
              ,bacntNo  : { required: "입금 계좌번호를 입력해주십시오." ,maxlength: "계좌번호는 20자 이하여야 합니다.", number:"계좌번호는 숫자여야 합니다."}
              ,dpstrNm  : { required: "예금주명을 입력해주십시오." ,maxlength: "예금주명은 10자 이하여야 합니다."}
          }
  })
    
    // 데이터 submit
    function fn_updateFcltMng(){
        
        if(!($("#fcltMngUpdate").valid())) return;
        
        
        let data =  $("#fcltMngUpdate").serialize() ;
        let instid = "&instid="+($('#instid').val());
        let useYn = "&useYn="+($('input[name="useYnChk"]:checked').val());
        let aplyMthdCd = $('input:radio[name=aplyMthdCd]:checked').val();
        let extnlUrl = $('#extnlUrl').val();

        if( aplyMthdCd == "153102" ){
            if( extnlUrl == '' || extnlUrl == null ){
                alert('외부 URL을 입력해주세요.');
                showErrorMark("#extnlUrl");
                return false;
            }
        }
        
        if(!confirm("저장하시겠습니까?")) return;
        
        // 지역
        // let rgnCdPoint = $('#addr').val().indexOf(' ');
        // let rgnCd = $('#addr').val().substr(0, rgnCdPoint);
        data = data+instid+useYn;
         
        if(displayWorkProgress()){
            $.ajax({
                url : "/mng/fcltMng/updateFcltMng.do",
                type: 'POST',
                cache : false,
                dataType: 'json',
                data : data,
                success : function (data){
                    if(data.result=="success"){
                        alert(data.msg);
                        gridHelper2.resetListContent();
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
    }
            
    // 다음주소
    function daumPostcode(){
        new daum.Postcode({
            oncomplete: function(data) {
                var addr = '';
                if (data.userSelectedType === 'R') {
                    addr = data.roadAddress;
                } else {
                    addr = data.jibunAddress;
                }
                $('#rgnCd').val(data.sigunguCode)
                $('#zip').val(data.zonecode);
                $('#addr').val(addr);
                $('#addrDtl').focus();
            }
        }).open();
   }
    
    // 대표 이미지 삭제
   var fn_deleteRprsImgFile = (fileid,fileIdntfcKey) =>{
        $("#rprsImgFile_"+fileid).remove();
        fn_deleteFile(fileid, fileIdntfcKey);
    }
    
    // 상세 이미지 삭제
    var fn_deleteDtlImgFile = (fileid,fileIdntfcKey)=>{
        $("#dtlImgFile_"+fileid).remove();
        fn_deleteFile(fileid, fileIdntfcKey);
    }
    
    // 안내자료 파일 삭제
   var fn_deleteGdncFile = (fileid,fileIdntfcKey) =>{
        $("#gdncFile_"+fileid).remove();
        fn_deleteFile(fileid, fileIdntfcKey);
    }
    
    // 삭제
    function deleteItem(){
        
        if(!confirm("삭제하시겠습니까?")) return;
        var fcltid = $('#fcltid').val();
        if(displayWorkProgress()){
            $.ajax({
                url: "/mng/fcltMng/deleteFcltMng.do",
                type: 'POST',
                cache : false,
                traditional : true,
                dataType: 'json',
                data: {fcltids:fcltid},
                success: function(data){
                    if(data.result=="success"){
                        alert(data.msg);
                        gridHelper2.resetPageContent();
                    }else{
                        alert(data.msg);
                    }
                    closeWorkProgress();
                }
            });
        }
    }

</script>

