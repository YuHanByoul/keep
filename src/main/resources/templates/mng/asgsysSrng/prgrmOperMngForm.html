<form id="prgrmOperMngFrm">
<input type="hidden" id="prgrmid" name="prgrmid" th:value="${prgrmOperMngInfo.prgrmid}">
	<div class="card-header p-t-0 p-b-0">
	    <h3 class="sub-title"><strong>예산구성</strong></h3>
	</div>
	<div class="card-block-small p-t-0">
	    <div class="col-12 table-border-style">
	        <div class="col-12 table-responsive">
	            <table class="table table-framed table-bordered">
	                <thead>
	                <tr class="border-bottom-inverse">
	                    <th class="text-center">참가비 수입</th>
	                    <th class="text-center">기타 (후원)</th>
	                    <th class="text-center">자부담</th>
	                </tr>
	                </thead>
	                <tbody>
	                    <tr>
	                        <td>
	                            <div class="col-12 row m-0 align-items-center justify-content-center">
	                                <div class="col-11 p-l-0 p-r-0">
	                                    <input type="text" class="form-control form-control-sm" name="etrfeeIncm" id="etrfeeIncm" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.etrfeeIncm}">
	                                </div>
									<div class="col-auto p-l-5 p-r-0">%</div>
								</div>
	                        </td>
	                        <td>
	                            <div class="col-12 row m-0 align-items-center justify-content-center">
	                                <div class="col-11 p-l-0 p-r-0">
	                                    <input type="text" class="form-control form-control-sm" name="etcIncm" id="etcIncm" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.etcIncm}">
	                                </div>
									<div class="col-auto p-l-5 p-r-0">%</div>
								</div>
	                        </td>
	                        <td>
	                            <div class="col-12 row m-0 align-items-center justify-content-center">
	                                <div class="col-11 p-l-0 p-r-0">
	                                    <input type="text" class="form-control form-control-sm" name="slfpy" id="slfpy" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.slfpy}">
	                                </div>
									<div class="col-auto p-l-5 p-r-0">%</div>
								</div>
	                        </td>
	                    </tr>
	                    <tr>
	                        <th class="table-active text-center">총계</th>
	                        <th colspan="2" class="table-active text-center">100%</th>
	                    </tr>
	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>

	<div class="card-block-small p-t-0">
	    <div class="col-12 table-border-style">
	        <div class="col-12 table-responsive">
	            <table class="table table-framed">
	                <thead>
	                <tr>
	                    <th class="text-center">지출항목</th>
	                    <th class="text-center">금액</th>
	                    <th class="text-center" style="width: 117px;">설정</th>
	                </tr>
	                </thead>
	                <tbody>
	                <tr>
	                    <td>
                            <input type="text" class="form-control form-control-sm" name="prgrmOperMngBudgetExpendCost1" id="prgrmOperMngBudgetExpendCost1" placeholder="Text Input Validation" value="keepgo"/>
	                    </td>
	                    <td>
	                        <div class="col-12 row m-0 align-items-center justify-content-center">
	                            <div class="col-11 p-l-0 p-r-0">
	                                <input type="text" class="form-control form-control-sm" name="prgrmOperMngBudgetExpendCost1" id="prgrmOperMngBudgetExpendCost1" placeholder="Text Input Validation" value="keepgo"/>
	                            </div>
	                            <div class="col-auto p-l-5 p-r-0">
	                                원
	                            </div>
	                        </div>
	                    </td>
	                    <td>
	                        <div class="btn-group-sm">
	                            <button type="button" class="btn btn-primary m-r-5">추가</button>
	                        </div>
	                    </td>
	                </tr>
	                <tr>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="prgrmOperMngBudgetExpendItem2" id="prgrmOperMngBudgetExpendItem2" placeholder="Text Input Validation" value="keepgo"/>
	                    </td>
	                    <td>
	                        <div class="col-12 row m-0 align-items-center justify-content-center">
	                            <div class="col-11 p-l-0 p-r-0">
	                                <input type="text" class="form-control form-control-sm" name="prgrmOperMngBudgetExpendCost2" id="prgrmOperMngBudgetExpendCost2" placeholder="Text Input Validation" value="keepgo"/>
	                            </div>
	                            <div class="col-auto p-l-5 p-r-0">
	                                원
	                            </div>
	                        </div>
	                    </td>
	                    <td>
	                        <div class="btn-group-sm">
	                            <button type="button" class="btn btn-primary m-r-5">추가</button>
	                            <button type="button" class="btn btn-inverse">삭제</button>
	                        </div>
	                    </td>
	                </tr>
	                <tr>
	                    <th class="table-active text-center">총 예산액</th>
	                    <th colspan="2" class="table-active text-center">300원</th>
	                </tr>
	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>
	<div class="card-header p-t-0 p-b-0">
	    <h3 class="sub-title"><strong>교구 및 시설</strong></h3>
	</div>
	<div class="card-block-small p-t-0">
	    <div class="col-12 table-border-style">
	        <div class="col-12 table-responsive">
	            <table class="table table-framed" id="tchaidFcltTb">
	                <thead>
	                <tr>
	                    <th class="text-center">세부 프로그램명</th>
	                    <th class="text-center">교육장소</th>
	                    <th class="text-center">교구 및 매체 등</th>
	                    <th class="text-center">수량 (개) 또는 분량 (장)</th>
	                    <th class="text-center" style="width: 117px;">설정</th>
	                </tr>
	                </thead>
	                <tbody>

	                <tr th:each="tchaidFcltList ,i: ${tchaidFcltList}">
	                    <td>
	                        <input type="text" class="form-control form-control-sm" th:name="${'dtlPrgrmNm'+i.count}" th:id="${'dtlPrgrmNm'+i.count}" placeholder="Text Input Validation" th:value="${tchaidFcltList.dtlPrgrmNm}">
	                    </td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" th:name="${'eduPlc'+i.count}" th:id="${'eduPlc'+i.count}" placeholder="Text Input Validation" th:value="${tchaidFcltList.eduPlc}">
	                    </td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" th:name="${'tchaid'+i.count}" th:id="${'tchaid'+i.count}" placeholder="Text Input Validation" th:value="${tchaidFcltList.tchaid}">
	                    </td>
	                    <td>
	                        <div class="col-12 row m-0 align-items-center justify-content-center">
	                            <div class="col-11 p-l-0 p-r-0">
	                                <input type="text" class="form-control form-control-sm" th:name="${'qnty'+i.count}" th:id="${'qnty'+i.count}" placeholder="Text Input Validation" th:value="${tchaidFcltList.qnty}">
	                            </div>
	                            <div class="col-auto p-l-5 p-r-0">
	                                개/장
	                            </div>
	                        </div>
	                    </td>
	                    <td>
	                        <div class="btn-group-sm">
	                            <button th:id="${'addBtnTchaidFclt'+i.count}" type="button" class="btn btn-primary m-r-5" onclick="fn_addBtn(this.id)">추가</button>
	                            <button th:id="${'rmbBtnTchaidFclt'+i.count}" type="button" class="btn btn-inverse" onclick="fn_rmvBtn(this.id)">삭제</button>
	                        </div>
	                    </td>
	                </tr>

	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>
	<div class="card-header p-t-0 p-b-0">
	    <h3 class="sub-title"><strong>홍보 및 참가접수</strong></h3>
	</div>
	<div class="card-block-small p-t-0">
	    <div class="col-12 table-border-style">
	        <div class="col-12 table-responsive">
	            <table class="table table-framed table-bordered">
	                <thead>
	                <tr class="border-bottom-inverse">
	                    <th colspan="2" class="text-center">구분</th>
	                    <th class="text-center" style="width:150px;">시기</th>
	                    <th class="text-center">홍보방법</th>
	                </tr>
	                </thead>
	                <tbody>
	                <tr>
	                    <td rowspan="3" class="table-active v-middle text-center" style="width: 120px;">홍보</td>
	                    <td class="v-middle text-center" style="width: 100px;">운영전</td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="operBfrPrmtnSess" id="operBfrPrmtnSess" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operBfrPrmtnSess}">
	                 </td>
	                 <td>
	                    <input type="text" class="form-control form-control-sm" name="operBfrPrmtnMthd" id="operBfrPrmtnMthd" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operBfrPrmtnMthd}">
	                 </td>
	                </tr>
	             <tr>
	                    <td class="v-middle text-center">운영중</td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="operMdlPrmtnSess" id="operMdlPrmtnSess" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operMdlPrmtnSess}">
	                    </td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="operMdlPrmtnMthd" id="operMdlPrmtnMthd" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operMdlPrmtnMthd}">
	                    </td>
	                </tr>
	                <tr>
	                    <td class="v-middle text-center">운영후</td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="operAftrPrmtnSess" id="operAftrPrmtnSess" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operAftrPrmtnSess}">
	                    </td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="operAftrPrmtnMthd" id="operAftrPrmtnMthd" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.operAftrPrmtnMthd}">
	                    </td>
	                </tr>
	                <tr>
	                    <td class="table-active v-middle text-center">참가접수방법2</td>
	                    <td colspan="2" class="v-middle">
	                        <div class="border-checkbox-section">
	                            <div class="border-checkbox-group border-checkbox-group-inverse">
	                                <input class="border-checkbox" type="checkbox" name="telRcptYn" id="telRcptYn"
	                                   th:checked ="${prgrmOperMngInfo.telRcptYn=='Y'}">
	                                <label class="form-label form-label-sm border-checkbox-label mb-0" for="telRcptYn">전화접수</label>
	                            </div>
	                            <div class="border-checkbox-group border-checkbox-group-inverse">
	                                <input class="border-checkbox" type="checkbox" name="aplfrmRcptYn" id="aplfrmRcptYn" th:checked="${prgrmOperMngInfo.aplfrmRcptYn=='Y'}">
	                                <label class="form-label form-label-sm border-checkbox-label mb-0" for="aplfrmRcptYn">신청서접수</label>
	                            </div>
	                            <div class="border-checkbox-group border-checkbox-group-inverse">
	                                <input class="border-checkbox" type="checkbox" name="onlnAplyYn" id="onlnAplyYn" th:checked="${prgrmOperMngInfo.onlnAplyYn=='Y'}">
	                                <label class="form-label form-label-sm border-checkbox-label mb-0" for="onlnAplyYn">온라인신청</label>
	                            </div>
	                            <div class="border-checkbox-group border-checkbox-group-inverse">
	                                <input class="border-checkbox" type="checkbox" name="etcYn" id="etcYn" th:checked="${prgrmOperMngInfo.etcYn=='Y'}">
	                                <label class="form-label form-label-sm border-checkbox-label mb-0" for="etcYn">기타</label>
	                            </div>
	                        </div>
	                    </td>
	                    <td>
	                        <input type="text" class="form-control form-control-sm" name="etcCn" id="etcCn" placeholder="Text Input Validation" th:value="${prgrmOperMngInfo.etcCn}"/>
	                    </td>
	                </tr>
	                </tbody>
	            </table>
	        </div>
	    </div>
	</div>
	<div class="card-block-small">
	    <button type="button" class="btn btn-inverse m-r-5" onclick="gridHelper1.toggleList();">목록</button>
        <button type="button" class="btn btn-primary m-r-5" onclick="fn_savePrgrmOperBtn()">저장</button>
        <button type="button" class="btn btn-primary" onclick="fn_prgrmOperNextbtn()">다음</button>
	</div>

	</div>
</form>

<script th:inline="javascript">

    var vTchaidFcltList = [[${tchaidFcltList}]];
    var vIdx = vTchaidFcltList.length;

    function fn_addBtn(btnId){
    	debugger;

    	var vHtml = "<tr><td><input type='text' class='form-control form-control-sm' placeholder='Text Input Validation'></td>";
    	 vHtml +="<td>"
    	 vHtml +="<input type='text' class='form-control form-control-sm' placeholder='Text Input Validation' >"
    	 vHtml +="</td>"
    	 vHtml +="<td>"
    	 vHtml +="<input type='text' class='form-control form-control-sm' placeholder='Text Input Validation'>"
    	 vHtml +="</td>"
    	 vHtml +="<td>"
    	 vHtml +="<div class='col-12 row m-0 align-items-center justify-content-center'>"
    	 vHtml +="<div class='col-11 p-l-0 p-r-0'>"
    	 vHtml +="<input type='text' class='form-control form-control-sm' placeholder='Text Input Validation' >"
    	 vHtml +="</div>"
    	 vHtml +="<div class='col-auto p-l-5 p-r-0'>"
    	 vHtml +="개/장"
    	 vHtml +="</div>"
    	 vHtml +="</div>"
    	 vHtml +="</td>"
    	 vHtml +="<td>"
    	 vHtml +="<div class='btn-group-sm'>"
    	 vHtml +="<button type='button' class='btn btn-primary m-r-5' onclick='fn_addBtn(this.id)'>추가</button>"
    	 vHtml +="<button type='button' class='btn btn-inverse'>삭제</button>"
    	 vHtml +="</div>"
    	 vHtml +="</td></tr>"
    	$("#tchaidFcltTb").append(vHtml);
    }

    function fn_rmvBtn(btnId){
    	alert("삭제");
    }

    function fn_savePrgrmOperBtn(){

        if(!confirm("저장 하시겠습니까?")){return;}

        var prgrmOperMngInfo = [[${prgrmOperMngInfo}]];


        if($("#telRcptYn").is(":checked"))    prgrmOperMngInfo.telRcptYn ="Y"; else    prgrmOperMngInfo.telRcptYn ="N";
        if($("#aplfrmRcptYn").is(":checked")) prgrmOperMngInfo.telRcptYn ="Y"; else    prgrmOperMngInfo.aplfrmRcptYn ="N";
        if($("#onlnAplyYn").is(":checked"))   prgrmOperMngInfo.telRcptYn ="Y"; else    prgrmOperMngInfo.onlnAplyYn ="N";
        if($("#etcYn").is(":checked"))        prgrmOperMngInfo.telRcptYn ="Y"; else    prgrmOperMngInfo.etcYn ="N";

        var data =  $("#prgrmOperMngFrm").serialize() ;
        debugger;
        $.ajax({
            url : "/mng/asgsysSrng/updatePrgrmOperMng.do",
            type: 'POST',
            cache : false,
            dataType: 'json',
            data : data,
            success : function (data){
                if(data.result=="success"){
                    alert("수정이 완료 되었습니다.");
                    loadJdsgTabContent("/mng/asgsysSrng/prgrmOperMngForm.html?prgrmid=" + prgrmid);
                }else{
                    alert("수정중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
                }
            },
            error : function (error){
            }
        });
    }

    function fn_prgrmOperNextbtn(){
    	$("#jdsgTab2Link").removeClass("active");
        $("#jdsgTab3Link").addClass("active");
        selectJdsgTab("jdsgTab3Link");
    }

    $("input:checkbox").on('click', function() {
debugger;
        if ( $(this).prop('checked') ) {
          $(this).parent().addClass("selected");
        } else {
          $(this).parent().removeClass("selected");
        }
      });



    function initPrgrmOperMng(){
    	debugger;
    }
    initPrgrmOperMng();

</script>