 <form class=" form-inline form-horizontal row-border" role="form" id ="bbsInsertForm" >

		<div class="panel panel-default">
	    	<div class="panel-heading" >
	      		<h4 >> 기본정보</h4>
	    	</div>
	    	
	      	<div class="panel-body">
					
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>비로그인 파일다운로드</label>
					    <div class="form-control-static" style="text-align:left;">
   			              <span kattr:radio_yn="nloginDwnldPermYn" label1="허용" label2="불가"  defaultVal="N" ></span>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>게시판 유형</label>
					    <div class="form-control-static" style="text-align:left;">
		                    <select id="clCd" name="clCd" class="form-control input-sm" style="padding:0px; width:150px;" onchange="fn_validationCl">
		                        <option value="1">일반형</option>
		                        <option value="2">공지형</option>
		                    </select>
   			              
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>게시판명</label>
					    <div class="form-control-static" style="text-align:left;">
   			              <input type="text" class="form-control input-sm" id="nm" name= "nm"  style="width:600px;" placeholder="게시판명" maxlength="50"/>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>게시판설명</label>
					    <div class="form-control-static" style="text-align:left;">
   			               <textarea  class="form-control" id="dc" name= "dc" style="width:600px; height:100px;"></textarea>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="useYn" label1="사용" label2="미사용"   defaultVal="N" ></span>
					    </div>                
					  </div>
           </div>
        </div>
    
		<!-- List Area -->
		<div class="panel panel-default">
	    	<div class="panel-heading" >
	      		<h4>> 기능정보</h4>
	    	</div>
	      	<div class="panel-body">
					
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>분류사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="clUseYn" label1="사용" label2="미사용"     defaultVal="N"></span>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>답글사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="rplyUseYn" label1="사용" label2="미사용"  defaultVal="N" ></span>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>댓글 사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="cmntUseYn" label1="사용" label2="미사용" defaultVal="N"></span>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>첨부파일 사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			               <span kattr:radio_yn="atchfileUseYn" label1="사용" label2="미사용"  defaultVal="N" ></span>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                           <label class="control-label">첨부파일 수:</label>
			               <input type="number" class="form-control input-sm" id="atchfileCnt" name= "atchfileCnt" placeholder="첨부파일 수 "   disabled  />
			               <label class="control-label"> 파일최대크기 :</label>
			               <input type="number" class="form-control input-sm" id="atchfileSize" name= "atchfileSize" placeholder="파일 최대크기" disabled/>mb
					    </div>                
					  </div>
					   
		              <div class="form-group  col-md-12 row">
		              
						<label class="col-md-2 control-label"><span class="text-danger">* </span>고정공지사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="fxdNtcUseYn" label1="사용" label2="미사용"  defaultVal="N" ></span>
   			              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   			              
			              <label class="control-label"><span class="text-danger"></span> 고정공지수:</label>
   			              <input type="number" class="form-control input-sm" id="fxdNtcCnt" name= "fxdNtcCnt"   placeholder="고정공지 수 " disabled/>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>NEW 사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="newUseYn" label1="사용" label2="미사용" defaultVal="N"></span>
   			              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			              <label class="control-label"><span class="text-danger"></span> 표시일수 &nbsp;:&nbsp;&nbsp;</label>
   			              <input type="number" class="form-control input-sm" id="newIndictDaycnt" name= "newIndictDaycnt"   placeholder="new 표시일수"  disabled/>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>HOT 사용여부</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <span kattr:radio_yn="hotUseYn" label1="사용" label2="미사용" defaultVal="N"></span>
   			              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			              <label class="control-label"><span class="text-danger"></span> 표시일수 &nbsp;:&nbsp;&nbsp;</label>
   			              <input type="number" class="form-control input-sm" id="hotUseStdrHits" name= "hotUseStdrHits"   placeholder="HOT 기준조회수"  disabled/>
					    </div>                
					  </div>
					  
		              <div class="form-group  col-md-12 row">
						<label class="col-md-2 control-label"><span class="text-danger">* </span>페이지 게시글 개수</label>
					    <div class="form-control-static  " style="text-align:left;">
   			              <input type="number" class="form-control input-sm" id="pagePstCnt" name= "pagePstCnt"  placeholder="게시글 개수 "  />
					    </div>                
					  </div>
					  
                      <div style= 'text-align : right'> 
                       <input  type="button" class="btn btn-sm btn-primary" onclick="fn_insertBbs()" value="저장" />
                       <input type="button" class="btn btn-sm btn-default"  onclick="resetListContent()" value="취소"/>
                      </div>
           </div>
        </div>
        
    
   <!--hidden 변수 저장  -->
   <!-- <input type="hidden"  id="bbsid" name="bbsid"  th:value = "${paramMap.bbsid}" > -->
   <input type="hidden" id="userid" th:if ="${paramMap} != null"  th:value = "${paramMap.userid}" >
</form>  	   
		              
<script type="text/javascript">
	       
	       function fn_validationCl(){
	    	   
	    	   //공지형인 경우 댓글 사용 선택 X 
	    	   if($("#clCd").val() == "2"){
	    		   $("input[name='rplyUseYn']").val(["N"]);
    			   $("input[name='rplyUseYn']").attr("disabled","true");
	    		   $("input[name='cmntUseYn']").val(["N"]);
    			   $("input[name='cmntUseYn']").attr("disabled","true");
    			   
	    		   $("input[name='fxdNtcUseYn']").removeAttr("disabled");
	    	   }else{ //일반형 인 경우
	    		   $("input[name='rplyUseYn']").removeAttr("disabled");
	    		   $("input[name='cmntUseYn']").removeAttr("disabled");
	    		   $("input[name='fxdNtcUseYn']").val(["N"]);
	    		   $("input[name='fxdNtcUseYn']").attr("disabled","true");
	    		   fn_disableTrue("fxdNtcCnt");
	    	   }
	       }

	       function fn_disableTrue(id){
	    	   $("#"+id).attr("disabled","true");
	       }

	       function fn_disableFalse(id){
	    	   $("#"+id).removeAttr("disabled");
	       }

	       $(function(){
	    	   fn_validationCl();
	    	   
	    	   $('#clCd').change(fn_validationCl);
	    	   
	    	   $("input").click(function(){
	    		   
	    		   var fileUse=$("input[name='atchfileUseYn']:checked").val();
	    		   var fixedUse=$("input[name='fxdNtcUseYn']:checked").val();
	    		   var newUse=$("input[name='newUseYn']:checked").val();
	    		   var hotUse=$("input[name='hotUseYn']:checked").val();
	    		   
	    		   if(fileUse == "N"){ fn_disableTrue("atchfileCnt") ; fn_disableTrue("atchfileSize");
	    		   }else{ fn_disableFalse("atchfileCnt") ; fn_disableFalse("atchfileSize");}
	    		   
	    		   if(fixedUse == "N"){ fn_disableTrue("fxdNtcCnt");
	    		   }else{ fn_disableFalse("fxdNtcCnt");}
	    		   
	    		   if(newUse == "N"){ fn_disableTrue("newIndictDaycnt");
	    		   }else{ fn_disableFalse("newIndictDaycnt");}
	    		   
	    		   if(hotUse == "N"){ fn_disableTrue("hotUseStdrHits");
	    		   }else{ fn_disableFalse("hotUseStdrHits");}
	
	    	   })
	       })
	       
	       	 var validator= $("#bbsInsertForm").validate({
		 		    rules: {  
		 		    	 nm                 : { required: true}
	                     ,nm                 : { maxlength: [50]}
		     	         ,dc                : { maxlength : [400] }
		     	         ,pagePstCnt      : { required: true, digits:true  }
		     	         ,atchfileCnt      : { required: true, digits:true, range:[1,5]}
		     	         ,atchfileSize     : { required: true , number:true, range:[1,20]}
		     	         ,fxdNtcCnt       : { required: true , digits:true}
		     	         ,newIndictDaycnt : { required: true , digits:true}
		     	         ,hotUseStdrHits : { required: true , digits:true}
				    },
				    messages: {  
				    	nm                 : { required: "게시판명을 입력해 주십시오."}
				        ,nm                : { maxlength: "게시판명은 50자를 넘을 수 없습니다."}
	    	            ,dc                : { maxlength : "게시판 설명은 400자를 넘을 수 없습니다."}
				        ,pagePstCnt      : { required: "게시글 개수를 입력해 주십시오." , digits:"게시글 개수는 숫자만 입력 가능합니다!" }
		     	        ,atchfileCnt      : { required: "첨부 파일 개수를 입력해 주십시오. (1~ 5 사이 )", digits:"첨부 파일 개수는 숫자만 입력가능합니다" , range: "첨부파일은 5개 이하만 가능합니다."}
		     	        ,atchfileSize     : { required: "첨부 파일 사이즈를 입력해 주십시오.( 1 ~ 20 MB 사이)", digits:"첨부 파일 개수는 숫자만 입력가능합니다.", range: "첨부파일 사이즈는  20 MG(20,480 KB) 이하입니다." }
		     	        ,fxdNtcCnt       : { required: "고정공지수 갯수를 입력해 주십시오." ,number:"고정공지 개수는 숫자만 입력가능합니다."   }
		     	        ,newIndictDaycnt : { required: "NEW 표시일수를 입력해 주십시오." ,digits:"new 표시일수는 숫자만 입력가능합니다."  }
		     	        ,hotUseStdrHits : { required: "HOT 사용일수를 입력해 주십시오." ,digits:"HOT 사용 일수는 숫자만 입력가능합니다." }
				    }
	 		 })
	        	 		 
		 	function fn_insertBbs(){
	    	   
		 	    //jquery 밸리데이션 체크 
   	 	       if($("#bbsInsertForm").valid() == false) return;

    	 	    //최종 의사 타진 
    	 	    if(!confirm("저장하시겠습니까?")) return;
    	 	    //form data serialized
 		        var data =  $("#bbsInsertForm").serialize() ;
				$.ajax({
					url : "/bbs/insertBbs.do",
					type: 'POST',
					cache : false,
					dataType: 'json',
					data : data,
					success : function (data){
						if(data.result=="success"){
							alert("등록이 완료 되었습니다.");
							fn_searchForm();
							toggleList();
							hideContent();
						}else{
							alert("등록중 에러가 발생하였습니다. 관리자에게 문의 부탁드립니다.");
						}
					},
				 	error : function (error){
					} 
				});
			}
		 
   	   </script> 

