<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title th:text="${session.site.siteNm}">페이지 타이틀</title>
<meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
<link rel="icon" href="/images/front/favicon/favicon-local.png" type="image/x-icon">
<meta name="_csrf" th:content="${_csrf.token}"/>
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>    
<link rel="stylesheet" href="/css/front/default.css">
<link rel="stylesheet" href="/css/front/font.css">
<link rel="stylesheet" href="/css/front/swiper-bundle.min.css">
<link rel="stylesheet" href="/css/front/autoComplete.min.css">
<link rel="stylesheet" href="/css/front/ui-layout.css">
<link rel="stylesheet" href="/css/front/ui-style.css">
<link rel="stylesheet" href="/css/front/ui-content.css">
<link rel="stylesheet" href="/css/front/ui-plugins.css">
<span th:replace="layout/front/jsCommon"></span>
<script src="/js/front/jquery-ui.js"></script>
<script src="/js/front/swiper-bundle.min.js"></script>
<script src="/js/front/aos.js"></script>
<script src="/js/front/autoComplete.min.js"></script>
</head>
<body class="preload">
    <!-- skipnav -->
    <div id="skip">
        <a href="#gnb">주메뉴 바로가기</a>
        <a href="#content">본문 바로가기</a>
        <a href="#asdie">챗봇 &amp; SNS에 공유하기 바로가기</a>
    </div>



    <!-- wrap -->
    <div id="wrap">

        <!-- header -->
        <header id="header" class="header">
            <th:block th:replace="layout/front/header"></th:block>

        </header>
        <!-- //header -->

        <!-- container -->
        <main class="sub-content" aria-label="Main">
            <div class="visual">
                <div class="visual-inner">
                    <h2 th:if="${menuPrgrmCntntsCd != null && menuPrgrmCntntsCd != 'all'}"><th:block th:text="${@'resCodeServiceImpl'.getCodeInfo(menuPrgrmCntntsCd).cdNm}"></h2>
                    <h2 th:unless="${menuPrgrmCntntsCd != null && menuPrgrmCntntsCd != 'all'}" th:with="menuItem=${#request.getAttribute('MENU_ITEM')}"   >
                       <th:block th:if="${menuPrgrmCntntsCd == 'all'}" th:text ="${menuItem.upprMenuNm}"></th:block>
                       <th:block th:unless="${menuPrgrmCntntsCd == 'all'}" th:text ="${(menuItem.ptypeCd eq '03' or menuItem.ptypeCd eq '04')? menuItem.upprMenuNm : menuItem.nm }"></th:block>
                    </h2>
                </div>
            </div>
            
            <div id="container" class="container">
            
                <nav id="navigation" class="navigation" role="navigation">
                    <th:block th:utext="${@lnbMenuPrintImpl.menuPrint()}" />
                </nav>
                
                <!-- content -->
                <div id="content" class="content">
                    <section>
                        <div aria-label="Breadcrumb" class="breadcrumb">
                            <div class="breadcrumb-inner">
                                <div class="left">
                                    <ol th:with="menuItem=${#request.getAttribute('MENU_ITEM')}">
                                    
                                        <li class="breadcrumb-home"><a href="/" class="btn-inner-icon" th:title="|${session.site.siteNm} 홈|"></a></li>
                                        
                                        <th:block th:each="menuid : ${menuItem.splitTreeMenuid()}">
                                            
                                            <th:block th:with="naviMenuItem = ${@'cmm.resMenuService'.getMenuItemByMenuID(menuItem.siteid, menuid)},listSize = ${#lists.size(menuItem.splitTreeMenuid())}  ">
                                            
	                                            <th:block th:unless="${menuidStat.index == 1} and ${menuPrgrmCntntsCd == 'all'}">
	                                            <li th:if="${ menuidStat.index <  listSize -1}">
	                                                <a th:href="${naviMenuItem.url}"><th:block th:text="${naviMenuItem.nm}"></th:block></a>
	                                            </li>
	                                            </th:block>
	                                            <th:block th:if="${menuidStat.index == 1} and ${menuPrgrmCntntsCd == 'all'}">
	                                           	<li th:if="${ menuidStat.index <  listSize -1}">
	                                                <a area-current="page" th:href="${naviMenuItem.url}"><th:block th:text="${naviMenuItem.nm}+'1'"></th:block></a>
	                                            </li>
	                                            </th:block>
                                            
	                                            <th:block th:if="${menuPrgrmCntntsCd != 'all'}">
	                                            <li th:if="${menuidStat.index eq  listSize -1  and  naviMenuItem.ptypeCd ne '03' and naviMenuItem.ptypeCd ne'04'}">
	                                                <a area-current="page" th:href="${naviMenuItem.url}"><th:block th:text="${naviMenuItem.nm}"></th:block></a>
	                                            </li>
	                                            </th:block>
	                                            
                                            </th:block>
                                            
                                        </th:block>
                                            <li th:if="${menuPrgrmCntntsCd != null && menuPrgrmCntntsCd != 'all'}">
                                                <a area-current="page" href="javascript:void(0)"><th:block th:text="${@'resCodeServiceImpl'.getCodeInfo(menuPrgrmCntntsCd).cdNm}"></a>
                                            </li>
                                    </ol>
                                    
                                </div>
                                <div class="right">
                                    <ul>
                                        <li class="breadcrumb-share toggleParent trapTab">
                                            <button type="button" title="SNS 공유하기 리스트 열기" class="toggleTrigger">
                                                <span class="blind">
                                                    <span class="on" aria-hidden="false">리스트 열기</span>
                                                    <span class="off" aria-hidden="true">리스트 닫기</span>
                                                </span>
                                            </button>
                                            <div class="toggleTarget">
                                                <ul>
                                                    <li><button type="button" id="this_href_facebook_share_process" title="페이스북에 공유하기"><span class="icon icon-share-facebook" title="페이스북에 공유하기"></span></button></li>
                                                    <li><button type="button" id="this_href_twitter_share_process" title="트위터에 공유하기"><span class="icon icon-share-twitter" title="트위터에 공유하기"></span></button></li>
                                                    <li><button type="button" id="this_href_naver_share_process" title="네이버 블로그에 공유하기"><span class="icon icon-share-naverblog" title="네이버 블로그에 공유하기"></span></button></li>
                                                    <li><button type="button" id="this_href_kakaostory_share_process" title="카카오스토리에 공유하기"><span class="icon icon-share-kakaostory" title="카카오스토리에 공유하기"></span></button></li>
                                                </ul>
                                            </div>
                                        
                                        </li>
                                        <li class="breadcrumb-linkcopy" th:with="searchQueryStr=${#request.getQueryString() != null ? '?'+#request.getQueryString() : ''}"><button type="button" title="링크 복사하기" th:data-url="|${#request.getRequestURL()}${searchQueryStr}|"></button></li>
                                    </ul>
                                    <input type="hidden" id="currentPageUrl" th:value="|${#request.getRequestURL()}${#request.getQueryString() != null ? '?'+#request.getQueryString() : ''}|">
                                    <input type="hidden" id="currentPageNavi" th:value="|${session.site.siteNm} / ${#request.getAttribute('MENU_ITEM').treeMenuNm}|">
                                </div>
                            </div>
                        </div>
                        
                        <div layout:fragment="content"></div>
                        
                    </section>
                </div>
                <!-- //content -->
            </div>
        </main>
        <!-- //container -->


        <!-- aside -->
        <aside>
            <th:block th:replace="layout/front/aside"></th:block>
        </aside>
        <!-- //aside -->

        <!-- footer -->
        <footer id="footer" class="footer" aria-label="Footer">
            <th:block th:replace="layout/front/footer"></th:block>
        </footer>
        <!-- //footer -->


    </div>
    <!-- //wrap -->

    <!-- [팝업] 쪽지 보내기 -->
    <div class="layer-popup layer-medium" data-layer-id="msgFormPopup">
        <div class="layer-dimmed" title="레이어팝업 닫기"></div>
        <div class="layer-wrap">
            <div class="layer-header">
                <strong class="tit">쪽지 보내기</strong>
                <button type="button" class="btn-layer-close" title="레이어팝업 닫기" data-layer-close=""></button>
            </div>
            <form id="msgForm">
                <input type="hidden" name="trgtid" />
                <div class="layer-content">
                    <div class="form-group">
                        <dl>
                            <dt>받는 사람</dt>
                            <dd><input id="trgtName" type="text" title="받는 사람" placeholder="받는 사람 아이디를 입력해 주세요." value="" readonly=""></dd>
                        </dl>
                        <dl>
                            <dt>쪽지 내용</dt>
                            <dd>
                                <textarea id="cn" name="cn" placeholder="내용을 입력해주세요."></textarea>
                                <p class="feedback invalid" style="line-height: 40px;"></p>
                                <div class="check-wrap">
                                    <label class="inp"></label>
                                    <div class="size"><span id="txtSize">0</span> / 1,000자</div>
                                </div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </form>
            <div class="layer-footer">
                <div class="btn-wrap">
                    <div class="center">
                        <button type="button" class="btn-medium btn-gray" data-layer-close="">취소</button>
                        <button id="msgSendBtn" type="button" class="btn-medium btn-green">보내기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //[팝업] 쪽지 보내기 -->

    <div class="msg-context-menu-clone" style="display: none;">
        <div class="toggleParent pigeon">
            <button type="button" class="toggleTrigger d-flex a-center j-center mauto user-name-span" title="쪽지보내기 레이어팝업 토글">
                <span>as**sd</span>
                <span class="icon icon-message ml5 bg-black3" title=""></span>
            </button>
            <div class="toggleTarget">
                <th:block sec:authorize-url="/front/msg/selectTrgtInfo.do">
                <button type="button" class="btn-medium btn-outline-black btn-hover-green open-msg-btn"
                        data-target="msgFormPopup">쪽지 보내기</button>
                </th:block>
            </div>
        </div>
    </div>
    <span th:replace="layout/front/htmlCommon"></span>   
    
    <script>
        $(document).on("click", ".breadcrumb-linkcopy button", function () {
            const dataUrl = this.dataset.url;
            window.navigator.clipboard.writeText(dataUrl).then(() => {
                alert("주소가 복사되었습니다.\n원하는 곳에 붙여넣기 해주세요.");
            });
        })
    </script>
</body>
</html>